import{A as Qr,B as Ut,C as Pg,a as x,b as Y,e as xg,f as P,g as vb,h as Fl,i as _b,j as wb,k as Ib,l as Mg,m as Eb,n as mu,o as Ng,p as Vl,q as Db,r as bb,s as Rg,t as $e,u as Qi,v as jn,w as Ll,x as yu,y as Cb,z as Tb}from"./chunk-ALVAB2FF.js";function Ab(t,e){return Object.is(t,e)}var ct=null,jl=!1,Bl=1,mr=Symbol("SIGNAL");function Ie(t){let e=ct;return ct=t,e}function Sb(){return ct}var _u={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Fg(t){if(jl)throw new Error("");if(ct===null)return;ct.consumerOnSignalRead(t);let e=ct.nextProducerIndex++;if(zl(ct),e<ct.producerNode.length&&ct.producerNode[e]!==t&&vu(ct)){let n=ct.producerNode[e];Hl(n,ct.producerIndexOfThis[e])}ct.producerNode[e]!==t&&(ct.producerNode[e]=t,ct.producerIndexOfThis[e]=vu(ct)?Rb(t,ct,e):0),ct.producerLastReadVersion[e]=t.version}function z1(){Bl++}function xb(t){if(!(vu(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Bl)){if(!t.producerMustRecompute(t)&&!Lg(t)){t.dirty=!1,t.lastCleanEpoch=Bl;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Bl}}function Mb(t){if(t.liveConsumerNode===void 0)return;let e=jl;jl=!0;try{for(let n of t.liveConsumerNode)n.dirty||q1(n)}finally{jl=e}}function Nb(){return ct?.consumerAllowSignalWrites!==!1}function q1(t){t.dirty=!0,Mb(t),t.consumerMarkedDirty?.(t)}function $l(t){return t&&(t.nextProducerIndex=0),Ie(t)}function Vg(t,e){if(Ie(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(vu(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Hl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Lg(t){zl(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(xb(n),r!==n.version))return!0}return!1}function jg(t){if(zl(t),vu(t))for(let e=0;e<t.producerNode.length;e++)Hl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Rb(t,e,n){if(Pb(t),t.liveConsumerNode.length===0&&kb(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Rb(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Hl(t,e){if(Pb(t),t.liveConsumerNode.length===1&&kb(t))for(let r=0;r<t.producerNode.length;r++)Hl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];zl(i),i.producerIndexOfThis[r]=e}}function vu(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function zl(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Pb(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function kb(t){return t.producerNode!==void 0}function Ob(t){let e=Object.create(G1);e.computation=t;let n=()=>{if(xb(e),Fg(e),e.value===Ul)throw e.error;return e.value};return n[mr]=e,n}var kg=Symbol("UNSET"),Og=Symbol("COMPUTING"),Ul=Symbol("ERRORED"),G1=Y(x({},_u),{value:kg,dirty:!0,error:null,equal:Ab,producerMustRecompute(t){return t.value===kg||t.value===Og},producerRecomputeValue(t){if(t.value===Og)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Og;let n=$l(t),r;try{r=t.computation()}catch(i){r=Ul,t.error=i}finally{Vg(t,n)}if(e!==kg&&e!==Ul&&r!==Ul&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function W1(){throw new Error}var Fb=W1;function Vb(){Fb()}function Lb(t){Fb=t}var K1=null;function jb(t){let e=Object.create(Ub);e.value=t;let n=()=>(Fg(e),e.value);return n[mr]=e,n}function Bg(t,e){Nb()||Vb(),t.equal(t.value,e)||(t.value=e,Q1(t))}function Bb(t,e){Nb()||Vb(),Bg(t,e(t.value))}var Ub=Y(x({},_u),{equal:Ab,value:void 0});function Q1(t){t.version++,z1(),Mb(t),K1?.()}function re(t){return typeof t=="function"}function no(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ql=no(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Yi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ge=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(re(r))try{r()}catch(s){e=s instanceof ql?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{$b(s)}catch(o){e=e??[],o instanceof ql?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ql(e)}}add(e){var n;if(e&&e!==this)if(this.closed)$b(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Yi(n,e)}remove(e){let{_finalizers:n}=this;n&&Yi(n,e),e instanceof t&&e._removeParent(this)}};Ge.EMPTY=(()=>{let t=new Ge;return t.closed=!0,t})();var Ug=Ge.EMPTY;function Gl(t){return t instanceof Ge||t&&"closed"in t&&re(t.remove)&&re(t.add)&&re(t.unsubscribe)}function $b(t){re(t)?t():t.unsubscribe()}var bn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ro={setTimeout(t,e,...n){let{delegate:r}=ro;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ro;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Wl(t){ro.setTimeout(()=>{let{onUnhandledError:e}=bn;if(e)e(t);else throw t})}function wu(){}var Hb=$g("C",void 0,void 0);function zb(t){return $g("E",void 0,t)}function qb(t){return $g("N",t,void 0)}function $g(t,e,n){return{kind:t,value:e,error:n}}var Zi=null;function io(t){if(bn.useDeprecatedSynchronousErrorHandling){let e=!Zi;if(e&&(Zi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Zi;if(Zi=null,n)throw r}}else t()}function Gb(t){bn.useDeprecatedSynchronousErrorHandling&&Zi&&(Zi.errorThrown=!0,Zi.error=t)}var Xi=class extends Ge{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Gl(e)&&e.add(this)):this.destination=X1}static create(e,n,r){return new yr(e,n,r)}next(e){this.isStopped?zg(qb(e),this):this._next(e)}error(e){this.isStopped?zg(zb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?zg(Hb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Y1=Function.prototype.bind;function Hg(t,e){return Y1.call(t,e)}var qg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Kl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Kl(r)}else Kl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Kl(n)}}},yr=class extends Xi{constructor(e,n,r){super();let i;if(re(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&bn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Hg(e.next,s),error:e.error&&Hg(e.error,s),complete:e.complete&&Hg(e.complete,s)}):i=e}this.destination=new qg(i)}};function Kl(t){bn.useDeprecatedSynchronousErrorHandling?Gb(t):Wl(t)}function Z1(t){throw t}function zg(t,e){let{onStoppedNotification:n}=bn;n&&ro.setTimeout(()=>n(t,e))}var X1={closed:!0,next:wu,error:Z1,complete:wu};var so=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Nt(t){return t}function Gg(...t){return Wg(t)}function Wg(t){return t.length===0?Nt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var pe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=ek(n)?n:new yr(n,r,i);return io(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Wb(r),new r((i,s)=>{let o=new yr({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[so](){return this}pipe(...n){return Wg(n)(this)}toPromise(n){return n=Wb(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Wb(t){var e;return(e=t??bn.Promise)!==null&&e!==void 0?e:Promise}function J1(t){return t&&re(t.next)&&re(t.error)&&re(t.complete)}function ek(t){return t&&t instanceof Xi||J1(t)&&Gl(t)}function Kg(t){return re(t?.lift)}function le(t){return e=>{if(Kg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(t,e,n,r,i){return new Qg(t,e,n,r,i)}var Qg=class extends Xi{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function oo(){return le((t,e)=>{let n=null;t._refCount++;let r=de(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ao=class extends pe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Kg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ge;let n=this.getSubject();e.add(this.source.subscribe(de(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ge.EMPTY)}return e}refCount(){return oo()(this)}};var Kb=no(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Le=(()=>{class t extends pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ql(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Kb}next(n){io(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){io(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){io(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Ug:(this.currentObservers=null,s.push(n),new Ge(()=>{this.currentObservers=null,Yi(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new pe;return n.source=this,n}}return t.create=(e,n)=>new Ql(e,n),t})(),Ql=class extends Le{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ug}};var yt=class extends Le{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Iu={now(){return(Iu.delegate||Date).now()},delegate:void 0};var Yl=class extends Le{constructor(e=1/0,n=1/0,r=Iu){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=n.now(),a=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)a=u;a&&r.splice(0,a+1)}}};var Zl=class extends Ge{constructor(e,n){super()}schedule(e,n=0){return this}};var Eu={setInterval(t,e,...n){let{delegate:r}=Eu;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Eu;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var uo=class extends Zl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Eu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Eu.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Yi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var co=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};co.now=Iu.now;var lo=class extends co{constructor(e,n=co.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Du=new lo(uo);var Xl=class extends uo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Jl=class extends lo{};var Yg=new Jl(Xl);var Rt=new pe(t=>t.complete());function Qb(t){return t&&re(t.schedule)}function Zg(t){return t[t.length-1]}function ed(t){return re(Zg(t))?t.pop():void 0}function Bn(t){return Qb(Zg(t))?t.pop():void 0}function Yb(t,e){return typeof Zg(t)=="number"?t.pop():e}var td=t=>t&&typeof t.length=="number"&&typeof t!="function";function nd(t){return re(t?.then)}function rd(t){return re(t[so])}function id(t){return Symbol.asyncIterator&&re(t?.[Symbol.asyncIterator])}function sd(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function tk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var od=tk();function ad(t){return re(t?.[od])}function ud(t){return _b(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Fl(n.read());if(i)return yield Fl(void 0);yield yield Fl(r)}}finally{n.releaseLock()}})}function cd(t){return re(t?.getReader)}function Oe(t){if(t instanceof pe)return t;if(t!=null){if(rd(t))return nk(t);if(td(t))return rk(t);if(nd(t))return ik(t);if(id(t))return Zb(t);if(ad(t))return sk(t);if(cd(t))return ok(t)}throw sd(t)}function nk(t){return new pe(e=>{let n=t[so]();if(re(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function rk(t){return new pe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function ik(t){return new pe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Wl)})}function sk(t){return new pe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Zb(t){return new pe(e=>{ak(t,e).catch(n=>e.error(n))})}function ok(t){return Zb(ud(t))}function ak(t,e){var n,r,i,s;return vb(this,void 0,void 0,function*(){try{for(n=wb(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function $t(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ln(t,e=0){return le((n,r)=>{n.subscribe(de(r,i=>$t(r,t,()=>r.next(i),e),()=>$t(r,t,()=>r.complete(),e),i=>$t(r,t,()=>r.error(i),e)))})}function Cn(t,e=0){return le((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Xb(t,e){return Oe(t).pipe(Cn(e),ln(e))}function Jb(t,e){return Oe(t).pipe(Cn(e),ln(e))}function eC(t,e){return new pe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function tC(t,e){return new pe(n=>{let r;return $t(n,e,()=>{r=t[od](),$t(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>re(r?.return)&&r.return()})}function ld(t,e){if(!t)throw new Error("Iterable cannot be null");return new pe(n=>{$t(n,e,()=>{let r=t[Symbol.asyncIterator]();$t(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function nC(t,e){return ld(ud(t),e)}function rC(t,e){if(t!=null){if(rd(t))return Xb(t,e);if(td(t))return eC(t,e);if(nd(t))return Jb(t,e);if(id(t))return ld(t,e);if(ad(t))return tC(t,e);if(cd(t))return nC(t,e)}throw sd(t)}function ue(t,e){return e?rC(t,e):Oe(t)}function K(...t){let e=Bn(t);return ue(t,e)}function ho(t,e){let n=re(t)?t:()=>t,r=i=>i.error(n());return new pe(e?i=>e.schedule(r,0,i):r)}function Xg(t){return!!t&&(t instanceof pe||re(t.lift)&&re(t.subscribe))}var vr=no(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Z(t,e){return le((n,r)=>{let i=0;n.subscribe(de(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:uk}=Array;function ck(t,e){return uk(e)?t(...e):t(e)}function dd(t){return Z(e=>ck(t,e))}var{isArray:lk}=Array,{getPrototypeOf:dk,prototype:hk,keys:fk}=Object;function hd(t){if(t.length===1){let e=t[0];if(lk(e))return{args:e,keys:null};if(pk(e)){let n=fk(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function pk(t){return t&&typeof t=="object"&&dk(t)===hk}function fd(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function bu(...t){let e=Bn(t),n=ed(t),{args:r,keys:i}=hd(t);if(r.length===0)return ue([],e);let s=new pe(gk(r,e,i?o=>fd(i,o):Nt));return n?s.pipe(dd(n)):s}function gk(t,e,n=Nt){return r=>{iC(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)iC(e,()=>{let l=ue(t[u],e),d=!1;l.subscribe(de(r,f=>{s[u]=f,d||(d=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function iC(t,e,n){t?$t(n,t,e):e()}function sC(t,e,n,r,i,s,o,a){let u=[],l=0,d=0,f=!1,g=()=>{f&&!u.length&&!l&&e.complete()},y=T=>l<r?E(T):u.push(T),E=T=>{s&&e.next(T),l++;let A=!1;Oe(n(T,d++)).subscribe(de(e,V=>{i?.(V),s?y(V):e.next(V)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;u.length&&l<r;){let V=u.shift();o?$t(e,o,()=>E(V)):E(V)}g()}catch(V){e.error(V)}}))};return t.subscribe(de(e,y,()=>{f=!0,g()})),()=>{a?.()}}function tt(t,e,n=1/0){return re(e)?tt((r,i)=>Z((s,o)=>e(r,s,i,o))(Oe(t(r,i))),n):(typeof e=="number"&&(n=e),le((r,i)=>sC(r,i,t,n)))}function Yr(t=1/0){return tt(Nt,t)}function oC(){return Yr(1)}function fo(...t){return oC()(ue(t,Bn(t)))}function pd(t){return new pe(e=>{Oe(t()).subscribe(e)})}function Jg(...t){let e=ed(t),{args:n,keys:r}=hd(t),i=new pe(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let d=0;d<o;d++){let f=!1;Oe(n[d]).subscribe(de(s,g=>{f||(f=!0,l--),a[d]=g},()=>u--,void 0,()=>{(!u||!f)&&(l||s.next(r?fd(r,a):a),s.complete())}))}});return e?i.pipe(dd(e)):i}function em(...t){let e=Bn(t),n=Yb(t,1/0),r=t;return r.length?r.length===1?Oe(r[0]):Yr(n)(ue(r,e)):Rt}function vt(t,e){return le((n,r)=>{let i=0;n.subscribe(de(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Zr(t){return le((e,n)=>{let r=null,i=!1,s;r=e.subscribe(de(n,void 0,void 0,o=>{s=Oe(t(o,Zr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function aC(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(de(o,d=>{let f=l++;u=a?t(u,d,f):(a=!0,d),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Ji(t,e){return re(e)?tt(t,e,1):tt(t,1)}function Xr(t){return le((e,n)=>{let r=!1;e.subscribe(de(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Un(t){return t<=0?()=>Rt:le((e,n)=>{let r=0;e.subscribe(de(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function tm(t){return Z(()=>t)}function nm(t,e=Nt){return t=t??mk,le((n,r)=>{let i,s=!0;n.subscribe(de(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function mk(t,e){return t===e}function gd(t=yk){return le((e,n)=>{let r=!1;e.subscribe(de(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function yk(){return new vr}function Cu(t){return le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function dn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?vt((i,s)=>t(i,s,r)):Nt,Un(1),n?Xr(e):gd(()=>new vr))}function po(t){return t<=0?()=>Rt:le((e,n)=>{let r=[];e.subscribe(de(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function rm(t,e){let n=arguments.length>=2;return r=>r.pipe(t?vt((i,s)=>t(i,s,r)):Nt,po(1),n?Xr(e):gd(()=>new vr))}function Tu(){return le((t,e)=>{let n,r=!1;t.subscribe(de(e,i=>{let s=n;n=i,r&&e.next([s,i]),r=!0}))})}function es(t,e){return le(aC(t,e,arguments.length>=2,!0))}function uC(t={}){let{connector:e=()=>new Le,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,l=0,d=!1,f=!1,g=()=>{a?.unsubscribe(),a=void 0},y=()=>{g(),o=u=void 0,d=f=!1},E=()=>{let T=o;y(),T?.unsubscribe()};return le((T,A)=>{l++,!f&&!d&&g();let V=u=u??e();A.add(()=>{l--,l===0&&!f&&!d&&(a=im(E,i))}),V.subscribe(A),!o&&l>0&&(o=new yr({next:j=>V.next(j),error:j=>{f=!0,g(),a=im(y,n,j),V.error(j)},complete:()=>{d=!0,g(),a=im(y,r),V.complete()}}),Oe(T).subscribe(o))})(s)}}function im(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new yr({next:()=>{r.unsubscribe(),t()}});return Oe(e(...n)).subscribe(r)}function md(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,uC({connector:()=>new Yl(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function ts(...t){let e=Bn(t);return le((n,r)=>{(e?fo(t,n,e):fo(t,n)).subscribe(r)})}function He(t,e){return le((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(de(r,u=>{i?.unsubscribe();let l=0,d=s++;Oe(t(u,d)).subscribe(i=de(r,f=>r.next(e?e(u,f,d,l++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function yd(t,e){return re(e)?He(()=>t,e):He(()=>t)}function vd(t){return le((e,n)=>{Oe(t).subscribe(de(n,()=>n.complete(),wu)),!n.closed&&e.subscribe(n)})}function We(t,e,n){let r=re(t)||e||n?{next:t,error:e,complete:n}:t;return r?le((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(de(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Nt}var KC="https://g.co/ng/security#xss",X=class extends Error{constructor(e,n){super(cy(e,n)),this.code=e}};function cy(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Vu(t){return{toString:t}.toString()}var _d="__parameters__";function vk(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function QC(t,e,n){return Vu(()=>{let r=vk(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,d){let f=u.hasOwnProperty(_d)?u[_d]:Object.defineProperty(u,_d,{value:[]})[_d];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Pt=globalThis;function xe(t){for(let e in t)if(t[e]===xe)return e;throw Error("Could not find renamed property on target object.")}function _k(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ot(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ot).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function _m(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var wk=xe({__forward_ref__:xe});function ai(t){return t.__forward_ref__=ai,t.toString=function(){return Ot(this())},t}function kt(t){return YC(t)?t():t}function YC(t){return typeof t=="function"&&t.hasOwnProperty(wk)&&t.__forward_ref__===ai}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ft(t){return{providers:t.providers||[],imports:t.imports||[]}}function rh(t){return cC(t,XC)||cC(t,JC)}function ZC(t){return rh(t)!==null}function cC(t,e){return t.hasOwnProperty(e)?t[e]:null}function Ik(t){let e=t&&(t[XC]||t[JC]);return e||null}function lC(t){return t&&(t.hasOwnProperty(dC)||t.hasOwnProperty(Ek))?t[dC]:null}var XC=xe({\u0275prov:xe}),dC=xe({\u0275inj:xe}),JC=xe({ngInjectableDef:xe}),Ek=xe({ngInjectorDef:xe}),z=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function e0(t){return t&&!!t.\u0275providers}var Dk=xe({\u0275cmp:xe}),bk=xe({\u0275dir:xe}),Ck=xe({\u0275pipe:xe}),Tk=xe({\u0275mod:xe}),xd=xe({\u0275fac:xe}),Su=xe({__NG_ELEMENT_ID__:xe}),hC=xe({__NG_ENV_ID__:xe});function ih(t){return typeof t=="string"?t:t==null?"":String(t)}function Ak(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ih(t)}function Sk(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new X(-200,t)}function ly(t,e){throw new X(-201,!1)}var he=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(he||{}),wm;function t0(){return wm}function Ht(t){let e=wm;return wm=t,e}function n0(t,e,n){let r=rh(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&he.Optional)return null;if(e!==void 0)return e;ly(t,"Injector")}var xk={},Mu=xk,Im="__NG_DI_FLAG__",Md="ngTempTokenPath",Mk="ngTokenPath",Nk=/\n/gm,Rk="\u0275",fC="__source",vo;function Pk(){return vo}function Jr(t){let e=vo;return vo=t,e}function kk(t,e=he.Default){if(vo===void 0)throw new X(-203,!1);return vo===null?n0(t,void 0,e):vo.get(t,e&he.Optional?null:void 0,e)}function L(t,e=he.Default){return(t0()||kk)(kt(t),e)}function U(t,e=he.Default){return L(t,sh(e))}function sh(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Em(t){let e=[];for(let n=0;n<t.length;n++){let r=kt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new X(900,!1);let i,s=he.Default;for(let o=0;o<r.length;o++){let a=r[o],u=Ok(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(L(i,s))}else e.push(L(r))}return e}function r0(t,e){return t[Im]=e,t.prototype[Im]=e,t}function Ok(t){return t[Im]}function Fk(t,e,n,r){let i=t[Md];throw e[fC]&&i.unshift(e[fC]),t.message=Vk(`
`+t.message,i,n,r),t[Mk]=i,t[Md]=null,t}function Vk(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Rk?t.slice(2):t;let i=Ot(e);if(Array.isArray(e))i=e.map(Ot).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Ot(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Nk,`
  `)}`}var ui=r0(QC("Optional"),8);var oh=r0(QC("SkipSelf"),4);function ss(t,e){let n=t.hasOwnProperty(xd);return n?t[xd]:null}function dy(t,e){t.forEach(n=>Array.isArray(n)?dy(n,e):e(n))}function i0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Nd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Lk(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function hy(t,e,n){let r=Lu(t,e);return r>=0?t[r|1]=n:(r=~r,Lk(t,r,e,n)),r}function sm(t,e){let n=Lu(t,e);if(n>=0)return t[n|1]}function Lu(t,e){return jk(t,e,1)}function jk(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var wo={},zt=[],Io=new z(""),s0=new z("",-1),o0=new z(""),Rd=class{get(e,n=Mu){if(n===Mu){let r=new Error(`NullInjectorError: No provider for ${Ot(e)}!`);throw r.name="NullInjectorError",r}return n}},a0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(a0||{}),zn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(zn||{}),ni=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ni||{});function Bk(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Dm(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];Uk(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function u0(t){return t===3||t===4||t===6}function Uk(t){return t.charCodeAt(0)===64}function Nu(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?pC(t,n,i,null,e[++r]):pC(t,n,i,null,null))}}return t}function pC(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var c0="ng-template";function $k(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Bk(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(fy(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function fy(t){return t.type===4&&t.value!==c0}function Hk(t,e,n){let r=t.type===4&&!n?c0:t.value;return e===r}function zk(t,e,n){let r=4,i=t.attrs,s=i!==null?Wk(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Tn(r)&&!Tn(u))return!1;if(o&&Tn(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!Hk(t,u,n)||u===""&&e.length===1){if(Tn(r))return!1;o=!0}}else if(r&8){if(i===null||!$k(t,i,u,n)){if(Tn(r))return!1;o=!0}}else{let l=e[++a],d=qk(u,i,fy(t),n);if(d===-1){if(Tn(r))return!1;o=!0;continue}if(l!==""){let f;if(d>s?f="":f=i[d+1].toLowerCase(),r&2&&l!==f){if(Tn(r))return!1;o=!0}}}}return Tn(r)||o}function Tn(t){return(t&1)===0}function qk(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return Kk(e,t)}function Gk(t,e,n=!1){for(let r=0;r<e.length;r++)if(zk(t,e[r],n))return!0;return!1}function Wk(t){for(let e=0;e<t.length;e++){let n=t[e];if(u0(n))return e}return t.length}function Kk(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function gC(t,e){return t?":not("+e.trim()+")":e}function Qk(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Tn(o)&&(e+=gC(s,i),i=""),r=o,s=s||!Tn(r);n++}return i!==""&&(e+=gC(s,i)),e}function Yk(t){return t.map(Qk).join(",")}function Zk(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Tn(i))break;i=s}r++}return{attrs:e,classes:n}}function py(t){return Vu(()=>{let e=p0(t),n=Y(x({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===a0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||zn.Emulated,styles:t.styles||zt,_:null,schemas:t.schemas||null,tView:null,id:""});g0(n);let r=t.dependencies;return n.directiveDefs=yC(r,!1),n.pipeDefs=yC(r,!0),n.id=eO(n),n})}function Xk(t){return ri(t)||l0(t)}function Jk(t){return t!==null}function pt(t){return Vu(()=>({type:t.type,bootstrap:t.bootstrap||zt,declarations:t.declarations||zt,imports:t.imports||zt,exports:t.exports||zt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function mC(t,e){if(t==null)return wo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=ni.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==ni.None?[r,a]:r,e[s]=o):n[s]=r}return n}function nt(t){return Vu(()=>{let e=p0(t);return g0(e),e})}function gy(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ri(t){return t[Dk]||null}function l0(t){return t[bk]||null}function d0(t){return t[Ck]||null}function h0(t){let e=ri(t)||l0(t)||d0(t);return e!==null?e.standalone:!1}function f0(t,e){let n=t[Tk]||null;if(!n&&e===!0)throw new Error(`Type ${Ot(t)} does not have '\u0275mod' property.`);return n}function p0(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||wo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||zt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mC(t.inputs,e),outputs:mC(t.outputs),debugInfo:null}}function g0(t){t.features?.forEach(e=>e(t))}function yC(t,e){if(!t)return null;let n=e?d0:Xk;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Jk)}function eO(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function tO(...t){return{\u0275providers:m0(!0,t),\u0275fromNgModule:!0}}function m0(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return dy(e,o=>{let a=o;bm(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&y0(i,s),n}function y0(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];my(i,s=>{e(s,r)})}}function bm(t,e,n,r){if(t=kt(t),!t)return!1;let i=null,s=lC(t),o=!s&&ri(t);if(!s&&!o){let u=t.ngModule;if(s=lC(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)bm(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{dy(s.imports,d=>{bm(d,e,n,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&y0(l,e)}if(!a){let l=ss(i)||(()=>new i);e({provide:i,useFactory:l,deps:zt},i),e({provide:o0,useValue:i,multi:!0},i),e({provide:Io,useValue:()=>L(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;my(u,d=>{e(d,l)})}}else return!1;return i!==t&&t.providers!==void 0}function my(t,e){for(let n of t)e0(n)&&(n=n.\u0275providers),Array.isArray(n)?my(n,e):e(n)}var nO=xe({provide:String,useValue:xe});function v0(t){return t!==null&&typeof t=="object"&&nO in t}function rO(t){return!!(t&&t.useExisting)}function iO(t){return!!(t&&t.useFactory)}function Eo(t){return typeof t=="function"}function sO(t){return!!t.useClass}var ah=new z(""),Cd={},oO={},om;function yy(){return om===void 0&&(om=new Rd),om}var Yt=class{},Ru=class extends Yt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Tm(e,o=>this.processProvider(o)),this.records.set(s0,go(void 0,this)),i.has("environment")&&this.records.set(Yt,go(void 0,this));let s=this.records.get(ah);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(o0,zt,he.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ie(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ie(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Jr(this),r=Ht(void 0),i;try{return e()}finally{Jr(n),Ht(r)}}get(e,n=Mu,r=he.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(hC))return e[hC](this);r=sh(r);let i,s=Jr(this),o=Ht(void 0);try{if(!(r&he.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=dO(e)&&rh(e);l&&this.injectableDefInScope(l)?u=go(Cm(e),Cd):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&he.Self?yy():this.parent;return n=r&he.Optional&&n===Mu?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Md]=a[Md]||[]).unshift(Ot(e)),s)throw a;return Fk(a,e,"R3InjectorError",this.source)}else throw a}finally{Ht(o),Jr(s)}}resolveInjectorInitializers(){let e=Ie(null),n=Jr(this),r=Ht(void 0),i;try{let s=this.get(Io,zt,he.Self);for(let o of s)o()}finally{Jr(n),Ht(r),Ie(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ot(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new X(205,!1)}processProvider(e){e=kt(e);let n=Eo(e)?e:kt(e&&e.provide),r=uO(e);if(!Eo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=go(void 0,Cd,!0),i.factory=()=>Em(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ie(null);try{return n.value===Cd&&(n.value=oO,n.value=n.factory()),typeof n.value=="object"&&n.value&&lO(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ie(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=kt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Cm(t){let e=rh(t),n=e!==null?e.factory:ss(t);if(n!==null)return n;if(t instanceof z)throw new X(204,!1);if(t instanceof Function)return aO(t);throw new X(204,!1)}function aO(t){if(t.length>0)throw new X(204,!1);let n=Ik(t);return n!==null?()=>n.factory(t):()=>new t}function uO(t){if(v0(t))return go(void 0,t.useValue);{let e=_0(t);return go(e,Cd)}}function _0(t,e,n){let r;if(Eo(t)){let i=kt(t);return ss(i)||Cm(i)}else if(v0(t))r=()=>kt(t.useValue);else if(iO(t))r=()=>t.useFactory(...Em(t.deps||[]));else if(rO(t))r=()=>L(kt(t.useExisting));else{let i=kt(t&&(t.useClass||t.provide));if(cO(t))r=()=>new i(...Em(t.deps));else return ss(i)||Cm(i)}return r}function go(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function cO(t){return!!t.deps}function lO(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function dO(t){return typeof t=="function"||typeof t=="object"&&t instanceof z}function Tm(t,e){for(let n of t)Array.isArray(n)?Tm(n,e):n&&e0(n)?Tm(n.\u0275providers,e):e(n)}function Mn(t,e){t instanceof Ru&&t.assertNotDestroyed();let n,r=Jr(t),i=Ht(void 0);try{return e()}finally{Jr(r),Ht(i)}}function w0(){return t0()!==void 0||Pk()!=null}function hO(t){if(!w0())throw new X(-203,!1)}function fO(t){let e=Pt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function pO(t){return typeof t=="function"}var Er=0,ge=1,ie=2,Ft=3,Sn=4,Nn=5,Pd=6,kd=7,xn=8,Do=9,qn=10,Ye=11,Pu=12,vC=13,Po=14,Gn=15,bo=16,mo=17,Co=18,uh=19,I0=20,ei=21,am=22,hn=23,Zt=25,E0=1;var os=7,Od=8,Fd=9,fn=10,Vd=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Vd||{});function ti(t){return Array.isArray(t)&&typeof t[E0]=="object"}function Dr(t){return Array.isArray(t)&&t[E0]===!0}function vy(t){return(t.flags&4)!==0}function ch(t){return t.componentOffset>-1}function lh(t){return(t.flags&1)===1}function ii(t){return!!t.template}function Am(t){return(t[ie]&512)!==0}var Sm=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function D0(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function ci(){return b0}function b0(t){return t.type.prototype.ngOnChanges&&(t.setInput=mO),gO}ci.ngInherit=!0;function gO(){let t=T0(this),e=t?.current;if(e){let n=t.previous;if(n===wo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function mO(t,e,n,r,i){let s=this.declaredInputs[r],o=T0(t)||yO(t,{previous:wo,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new Sm(l&&l.currentValue,n,u===wo),D0(t,e,i,n)}var C0="__ngSimpleChanges__";function T0(t){return t[C0]||null}function yO(t,e){return t[C0]=e}var _C=null;var $n=function(t,e,n){_C?.(t,e,n)},vO="svg",_O="math";function Wn(t){for(;Array.isArray(t);)t=t[Er];return t}function A0(t,e){return Wn(e[t])}function pn(t,e){return Wn(e[t.index])}function S0(t,e){return t.data[e]}function _y(t,e){return t[e]}function li(t,e){let n=e[t];return ti(n)?n:n[Er]}function wy(t){return(t[ie]&128)===128}function wO(t){return Dr(t[Ft])}function To(t,e){return e==null?null:t[e]}function x0(t){t[mo]=0}function M0(t){t[ie]&1024||(t[ie]|=1024,wy(t)&&dh(t))}function IO(t,e){for(;t>0;)e=e[Po],t--;return e}function ku(t){return!!(t[ie]&9216||t[hn]?.dirty)}function xm(t){t[qn].changeDetectionScheduler?.notify(7),t[ie]&64&&(t[ie]|=1024),ku(t)&&dh(t)}function dh(t){t[qn].changeDetectionScheduler?.notify(0);let e=as(t);for(;e!==null&&!(e[ie]&8192||(e[ie]|=8192,!wy(e)));)e=as(e)}function N0(t,e){if((t[ie]&256)===256)throw new X(911,!1);t[ei]===null&&(t[ei]=[]),t[ei].push(e)}function EO(t,e){if(t[ei]===null)return;let n=t[ei].indexOf(e);n!==-1&&t[ei].splice(n,1)}function as(t){let e=t[Ft];return Dr(e)?e[Ft]:e}var fe={lFrame:U0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var R0=!1;function DO(){return fe.lFrame.elementDepthCount}function bO(){fe.lFrame.elementDepthCount++}function CO(){fe.lFrame.elementDepthCount--}function P0(){return fe.bindingsEnabled}function TO(){return fe.skipHydrationRootTNode!==null}function AO(t){return fe.skipHydrationRootTNode===t}function SO(){fe.skipHydrationRootTNode=null}function De(){return fe.lFrame.lView}function _t(){return fe.lFrame.tView}function S7(t){return fe.lFrame.contextLView=t,t[xn]}function x7(t){return fe.lFrame.contextLView=null,t}function Tt(){let t=k0();for(;t!==null&&t.type===64;)t=t.parent;return t}function k0(){return fe.lFrame.currentTNode}function xO(){let t=fe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function hs(t,e){let n=fe.lFrame;n.currentTNode=t,n.isParent=e}function Iy(){return fe.lFrame.isParent}function O0(){fe.lFrame.isParent=!1}function MO(){return fe.lFrame.contextLView}function F0(){return R0}function wC(t){R0=t}function Ey(){let t=fe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function NO(t){return fe.lFrame.bindingIndex=t}function hh(){return fe.lFrame.bindingIndex++}function V0(t){let e=fe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function RO(){return fe.lFrame.inI18n}function PO(t,e){let n=fe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Mm(e)}function kO(){return fe.lFrame.currentDirectiveIndex}function Mm(t){fe.lFrame.currentDirectiveIndex=t}function OO(t){let e=fe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function L0(t){fe.lFrame.currentQueryIndex=t}function FO(t){let e=t[ge];return e.type===2?e.declTNode:e.type===1?t[Nn]:null}function j0(t,e,n){if(n&he.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&he.Host);)if(i=FO(s),i===null||(s=s[Po],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=fe.lFrame=B0();return r.currentTNode=e,r.lView=t,!0}function Dy(t){let e=B0(),n=t[ge];fe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function B0(){let t=fe.lFrame,e=t===null?null:t.child;return e===null?U0(t):e}function U0(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function $0(){let t=fe.lFrame;return fe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var H0=$0;function by(){let t=$0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function VO(t){return(fe.lFrame.contextLView=IO(t,fe.lFrame.contextLView))[xn]}function fs(){return fe.lFrame.selectedIndex}function us(t){fe.lFrame.selectedIndex=t}function Cy(){let t=fe.lFrame;return S0(t.tView,t.selectedIndex)}function LO(){return fe.lFrame.currentNamespace}var z0=!0;function fh(){return z0}function ph(t){z0=t}function jO(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=b0(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function gh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function Td(t,e,n){q0(t,e,3,n)}function Ad(t,e,n,r){(t[ie]&3)===n&&q0(t,e,n,r)}function um(t,e){let n=t[ie];(n&3)===e&&(n&=16383,n+=1,t[ie]=n)}function q0(t,e,n,r){let i=r!==void 0?t[mo]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[mo]+=65536),(a<s||s==-1)&&(BO(t,n,e,u),t[mo]=(t[mo]&4294901760)+u+2),u++}function IC(t,e){$n(4,t,e);let n=Ie(null);try{e.call(t)}finally{Ie(n),$n(5,t,e)}}function BO(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[ie]>>14<t[mo]>>16&&(t[ie]&3)===e&&(t[ie]+=16384,IC(a,s)):IC(a,s)}var _o=-1,cs=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function UO(t){return t instanceof cs}function $O(t){return(t.flags&8)!==0}function HO(t){return(t.flags&16)!==0}var cm={},Nm=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=sh(r);let i=this.injector.get(e,cm,r);return i!==cm||n===cm?i:this.parentInjector.get(e,n,r)}};function G0(t){return t!==_o}function Ld(t){return t&32767}function zO(t){return t>>16}function jd(t,e){let n=zO(t),r=e;for(;n>0;)r=r[Po],n--;return r}var Rm=!0;function Bd(t){let e=Rm;return Rm=t,e}var qO=256,W0=qO-1,K0=5,GO=0,Hn={};function WO(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Su)&&(r=n[Su]),r==null&&(r=n[Su]=GO++);let i=r&W0,s=1<<i;e.data[t+(i>>K0)]|=s}function Ud(t,e){let n=Q0(t,e);if(n!==-1)return n;let r=e[ge];r.firstCreatePass&&(t.injectorIndex=e.length,lm(r.data,t),lm(e,null),lm(r.blueprint,null));let i=Ty(t,e),s=t.injectorIndex;if(G0(i)){let o=Ld(i),a=jd(i,e),u=a[ge].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function lm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Q0(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ty(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=eT(i),r===null)return _o;if(n++,i=i[Po],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return _o}function Pm(t,e,n){WO(t,e,n)}function KO(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(u0(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function Y0(t,e,n){if(n&he.Optional||t!==void 0)return t;ly(e,"NodeInjector")}function Z0(t,e,n,r){if(n&he.Optional&&r===void 0&&(r=null),!(n&(he.Self|he.Host))){let i=t[Do],s=Ht(void 0);try{return i?i.get(e,r,n&he.Optional):n0(e,r,n&he.Optional)}finally{Ht(s)}}return Y0(r,e,n)}function X0(t,e,n,r=he.Default,i){if(t!==null){if(e[ie]&2048&&!(r&he.Self)){let o=JO(t,e,n,r,Hn);if(o!==Hn)return o}let s=J0(t,e,n,r,Hn);if(s!==Hn)return s}return Z0(e,n,r,i)}function J0(t,e,n,r,i){let s=ZO(n);if(typeof s=="function"){if(!j0(e,t,r))return r&he.Host?Y0(i,n,r):Z0(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&he.Optional))ly(n);else return o}finally{H0()}}else if(typeof s=="number"){let o=null,a=Q0(t,e),u=_o,l=r&he.Host?e[Gn][Nn]:null;for((a===-1||r&he.SkipSelf)&&(u=a===-1?Ty(t,e):e[a+8],u===_o||!DC(r,!1)?a=-1:(o=e[ge],a=Ld(u),e=jd(u,e)));a!==-1;){let d=e[ge];if(EC(s,a,d.data)){let f=QO(a,e,n,o,r,l);if(f!==Hn)return f}u=e[a+8],u!==_o&&DC(r,e[ge].data[a+8]===l)&&EC(s,a,e)?(o=d,a=Ld(u),e=jd(u,e)):a=-1}}return i}function QO(t,e,n,r,i,s){let o=e[ge],a=o.data[t+8],u=r==null?ch(a)&&Rm:r!=o&&(a.type&3)!==0,l=i&he.Host&&s===a,d=YO(a,o,n,u,l);return d!==null?Ao(e,o,d,a):Hn}function YO(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,d=s>>20,f=r?a:a+d,g=i?a+d:l;for(let y=f;y<g;y++){let E=o[y];if(y<u&&n===E||y>=u&&E.type===n)return y}if(i){let y=o[u];if(y&&ii(y)&&y.type===n)return u}return null}function Ao(t,e,n,r){let i=t[n],s=e.data;if(UO(i)){let o=i;o.resolving&&Sk(Ak(s[n]));let a=Bd(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Ht(o.injectImpl):null,d=j0(t,r,he.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&jO(n,s[n],e)}finally{l!==null&&Ht(l),Bd(a),o.resolving=!1,H0()}}return i}function ZO(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Su)?t[Su]:void 0;return typeof e=="number"?e>=0?e&W0:XO:e}function EC(t,e,n){let r=1<<t;return!!(n[e+(t>>K0)]&r)}function DC(t,e){return!(t&he.Self)&&!(t&he.Host&&e)}var is=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return X0(this._tNode,this._lView,e,sh(r),n)}};function XO(){return new is(Tt(),De())}function br(t){return Vu(()=>{let e=t.prototype.constructor,n=e[xd]||km(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[xd]||km(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function km(t){return YC(t)?()=>{let e=km(kt(t));return e&&e()}:ss(t)}function JO(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[ie]&2048&&!(o[ie]&512);){let a=J0(s,o,n,r|he.Self,Hn);if(a!==Hn)return a;let u=s.parent;if(!u){let l=o[I0];if(l){let d=l.get(n,Hn,r);if(d!==Hn)return d}u=eT(o),o=o[Po]}s=u}return i}function eT(t){let e=t[ge],n=e.type;return n===2?e.declTNode:n===1?t[Nn]:null}function Ay(t){return KO(Tt(),t)}function bC(t,e=null,n=null,r){let i=tT(t,e,n,r);return i.resolveInjectorInitializers(),i}function tT(t,e=null,n=null,r,i=new Set){let s=[n||zt,tO(t)];return r=r||(typeof t=="object"?void 0:Ot(t)),new Ru(s,e||yy(),r||null,i)}var rs=class rs{static create(e,n){if(Array.isArray(e))return bC({name:""},n,e,"");{let r=e.name??"";return bC({name:r},e.parent,e.providers,r)}}};rs.THROW_IF_NOT_FOUND=Mu,rs.NULL=new Rd,rs.\u0275prov=q({token:rs,providedIn:"any",factory:()=>L(s0)}),rs.__NG_ELEMENT_ID__=-1;var Xt=rs;var eF=new z("");eF.__NG_ELEMENT_ID__=t=>{let e=Tt();if(e===null)throw new X(204,!1);if(e.type&2)return e.value;if(t&he.Optional)return null;throw new X(204,!1)};var tF="ngOriginalError";function dm(t){return t[tF]}var Sy=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=nF,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Om=class extends Sy{constructor(e){super(),this._lView=e}onDestroy(e){return N0(this._lView,e),()=>EO(this._lView,e)}};function nF(){return new Om(De())}var ko=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new yt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Fm=class extends Le{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,w0()&&(this.destroyRef=U(Sy,{optional:!0})??void 0,this.pendingTasks=U(ko,{optional:!0})??void 0)}emit(e){let n=Ie(null);try{super.next(e)}finally{Ie(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ge&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},lt=Fm;function $d(...t){}function nT(t){let e,n;function r(){t=$d;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function CC(t){return queueMicrotask(()=>t()),()=>{t=$d}}var xy="isAngularZone",Hd=xy+"_ID",rF=0,ye=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lt(!1),this.onMicrotaskEmpty=new lt(!1),this.onStable=new lt(!1),this.onError=new lt(!1),typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,oF(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(xy)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new X(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,iF,$d,$d);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},iF={};function My(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sF(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{nT(()=>{t.callbackScheduled=!1,Vm(t),t.isCheckStableRunning=!0,My(t),t.isCheckStableRunning=!1})}),Vm(t))}function oF(t){let e=()=>{sF(t)},n=rF++;t._inner=t._inner.fork({name:"angular",properties:{[xy]:!0,[Hd]:n,[Hd+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(aF(u))return r.invokeTask(s,o,a,u);try{return TC(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),AC(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return TC(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!uF(u)&&e(),AC(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Vm(t),My(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Vm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function TC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function AC(t){t._nesting--,My(t)}var zd=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lt,this.onMicrotaskEmpty=new lt,this.onStable=new lt,this.onError=new lt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function aF(t){return rT(t,"__ignore_ng_zone__")}function uF(t){return rT(t,"__scheduler_tick__")}function rT(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}function cF(t="zone.js",e){return t==="noop"?new zd:t==="zone.js"?new ye(e):t}var _r=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&dm(e);for(;n&&dm(n);)n=dm(n);return n||null}},lF=new z("",{providedIn:"root",factory:()=>{let t=U(ye),e=U(_r);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function dF(){return mh(Tt(),De())}function mh(t,e){return new Jt(pn(t,e))}var Jt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=dF;let t=e;return t})();function iT(t){return(t.flags&128)===128}var sT=new Map,hF=0;function fF(){return hF++}function pF(t){sT.set(t[uh],t)}function gF(t){sT.delete(t[uh])}var SC="__ngContext__";function si(t,e){ti(e)?(t[SC]=e[uh],pF(e)):t[SC]=e}function oT(t){return uT(t[Pu])}function aT(t){return uT(t[Sn])}function uT(t){for(;t!==null&&!Dr(t);)t=t[Sn];return t}var Lm;function cT(t){Lm=t}function mF(){if(Lm!==void 0)return Lm;if(typeof document<"u")return document;throw new X(210,!1)}var yh=new z("",{providedIn:"root",factory:()=>yF}),yF="ng",Ny=new z(""),Gt=new z("",{providedIn:"platform",factory:()=>"unknown"});var Ry=new z("",{providedIn:"root",factory:()=>mF().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var vF="h",_F="b";var wF=()=>null;function Py(t,e,n=!1){return wF(t,e,n)}var lT=!1,IF=new z("",{providedIn:"root",factory:()=>lT});var wd;function EF(){if(wd===void 0&&(wd=null,Pt.trustedTypes))try{wd=Pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return wd}function xC(t){return EF()?.createScriptURL(t)||t}var qd=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${KC})`}};function Oo(t){return t instanceof qd?t.changingThisBreaksApplicationSecurity:t}function ky(t,e){let n=DF(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${KC})`)}return n===e}function DF(t){return t instanceof qd&&t.getTypeName()||null}var bF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function dT(t){return t=String(t),t.match(bF)?t:"unsafe:"+t}var vh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(vh||{});function CF(t){let e=fT();return e?e.sanitize(vh.URL,t)||"":ky(t,"URL")?Oo(t):dT(ih(t))}function TF(t){let e=fT();if(e)return xC(e.sanitize(vh.RESOURCE_URL,t)||"");if(ky(t,"ResourceURL"))return xC(Oo(t));throw new X(904,!1)}function AF(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?TF:CF}function hT(t,e,n){return AF(e,n)(t)}function fT(){let t=De();return t&&t[qn].sanitizer}var SF=/^>|^->|<!--|-->|--!>|<!-$/g,xF=/(<|>)/g,MF="\u200B$1\u200B";function NF(t){return t.replace(SF,e=>e.replace(xF,MF))}function M7(t){return t.ownerDocument.defaultView}function N7(t){return t.ownerDocument}function pT(t){return t instanceof Function?t():t}function RF(t){return(t??U(Xt)).get(Gt)==="browser"}var Kn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Kn||{}),PF;function Oy(t,e){return PF(t,e)}function yo(t,e,n,r,i){if(r!=null){let s,o=!1;Dr(r)?s=r:ti(r)&&(o=!0,r=r[Er]);let a=Wn(r);t===0&&n!==null?i==null?_T(e,n,a):Gd(e,n,a,i||null,!0):t===1&&n!==null?Gd(e,n,a,i||null,!0):t===2?QF(e,a,o):t===3&&e.destroyNode(a),s!=null&&ZF(e,t,s,n,i)}}function kF(t,e){return t.createText(e)}function OF(t,e,n){t.setValue(e,n)}function FF(t,e){return t.createComment(NF(e))}function gT(t,e,n){return t.createElement(e,n)}function VF(t,e){mT(t,e),e[Er]=null,e[Nn]=null}function LF(t,e,n,r,i,s){r[Er]=i,r[Nn]=e,wh(t,r,n,1,i,s)}function mT(t,e){e[qn].changeDetectionScheduler?.notify(8),wh(t,e,e[Ye],2,null,null)}function jF(t){let e=t[Pu];if(!e)return hm(t[ge],t);for(;e;){let n=null;if(ti(e))n=e[Pu];else{let r=e[fn];r&&(n=r)}if(!n){for(;e&&!e[Sn]&&e!==t;)ti(e)&&hm(e[ge],e),e=e[Ft];e===null&&(e=t),ti(e)&&hm(e[ge],e),n=e&&e[Sn]}e=n}}function BF(t,e,n,r){let i=fn+r,s=n.length;r>0&&(n[i-1][Sn]=e),r<s-fn?(e[Sn]=n[i],i0(n,fn+r,e)):(n.push(e),e[Sn]=null),e[Ft]=n;let o=e[bo];o!==null&&n!==o&&yT(o,e);let a=e[Co];a!==null&&a.insertView(t),xm(e),e[ie]|=128}function yT(t,e){let n=t[Fd],r=e[Ft];if(ti(r))t[ie]|=Vd.HasTransplantedViews;else{let i=r[Ft][Gn];e[Gn]!==i&&(t[ie]|=Vd.HasTransplantedViews)}n===null?t[Fd]=[e]:n.push(e)}function Fy(t,e){let n=t[Fd],r=n.indexOf(e);n.splice(r,1)}function jm(t,e){if(t.length<=fn)return;let n=fn+e,r=t[n];if(r){let i=r[bo];i!==null&&i!==t&&Fy(i,r),e>0&&(t[n-1][Sn]=r[Sn]);let s=Nd(t,fn+e);VF(r[ge],r);let o=s[Co];o!==null&&o.detachView(s[ge]),r[Ft]=null,r[Sn]=null,r[ie]&=-129}return r}function vT(t,e){if(!(e[ie]&256)){let n=e[Ye];n.destroyNode&&wh(t,e,n,3,null,null),jF(e)}}function hm(t,e){if(e[ie]&256)return;let n=Ie(null);try{e[ie]&=-129,e[ie]|=256,e[hn]&&jg(e[hn]),$F(t,e),UF(t,e),e[ge].type===1&&e[Ye].destroy();let r=e[bo];if(r!==null&&Dr(e[Ft])){r!==e[Ft]&&Fy(r,e);let i=e[Co];i!==null&&i.detachView(t)}gF(e)}finally{Ie(n)}}function UF(t,e){let n=t.cleanup,r=e[kd];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[kd]=null);let i=e[ei];if(i!==null){e[ei]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function $F(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof cs)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];$n(4,a,u);try{u.call(a)}finally{$n(5,a,u)}}else{$n(4,i,s);try{s.call(i)}finally{$n(5,i,s)}}}}}function HF(t,e,n){return zF(t,e.parent,n)}function zF(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Er];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===zn.None||s===zn.Emulated)return null}return pn(r,n)}}function Gd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function _T(t,e,n){t.appendChild(e,n)}function MC(t,e,n,r,i){r!==null?Gd(t,e,n,r,i):_T(t,e,n)}function wT(t,e){return t.parentNode(e)}function qF(t,e){return t.nextSibling(e)}function GF(t,e,n){return KF(t,e,n)}function WF(t,e,n){return t.type&40?pn(t,n):null}var KF=WF,NC;function _h(t,e,n,r){let i=HF(t,r,e),s=e[Ye],o=r.parent||e[Nn],a=GF(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)MC(s,i,n[u],a,!1);else MC(s,i,n,a,!1);NC!==void 0&&NC(s,r,e,n,i)}function Au(t,e){if(e!==null){let n=e.type;if(n&3)return pn(e,t);if(n&4)return Bm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Au(t,r);{let i=t[e.index];return Dr(i)?Bm(-1,i):Wn(i)}}else{if(n&128)return Au(t,e.next);if(n&32)return Oy(e,t)()||Wn(t[e.index]);{let r=IT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=as(t[Gn]);return Au(i,r)}else return Au(t,e.next)}}}return null}function IT(t,e){if(e!==null){let r=t[Gn][Nn],i=e.projection;return r.projection[i]}return null}function Bm(t,e){let n=fn+t+1;if(n<e.length){let r=e[n],i=r[ge].firstChild;if(i!==null)return Au(r,i)}return e[os]}function QF(t,e,n){t.removeChild(null,e,n)}function Vy(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&si(Wn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Vy(t,e,n.child,r,i,s,!1),yo(e,t,i,a,s);else if(u&32){let l=Oy(n,r),d;for(;d=l();)yo(e,t,i,d,s);yo(e,t,i,a,s)}else u&16?YF(t,e,r,n,i,s):yo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function wh(t,e,n,r,i,s){Vy(n,r,t.firstChild,e,i,s,!1)}function YF(t,e,n,r,i,s){let o=n[Gn],u=o[Nn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let d=u[l];yo(e,t,i,d,s)}else{let l=u,d=o[Ft];iT(r)&&(l.flags|=128),Vy(t,e,l,d,i,s,!0)}}function ZF(t,e,n,r,i){let s=n[os],o=Wn(n);s!==o&&yo(e,t,r,s,i);for(let a=fn;a<n.length;a++){let u=n[a];wh(u[ge],u,t,e,r,s)}}function XF(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Kn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Kn.Important),t.setStyle(n,r,i,s))}}function JF(t,e,n){t.setAttribute(e,"style",n)}function ET(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function DT(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Dm(t,e,r),i!==null&&ET(t,e,i),s!==null&&JF(t,e,s)}var Cr={};function R7(t=1){bT(_t(),De(),fs()+t,!1)}function bT(t,e,n,r){if(!r)if((e[ie]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Td(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Ad(e,s,0,n)}us(n)}function se(t,e=he.Default){let n=De();if(n===null)return L(t,e);let r=Tt();return X0(r,n,kt(t),e)}function CT(){let t="invalid";throw new Error(t)}function TT(t,e,n,r,i,s){let o=Ie(null);try{let a=null;i&ni.SignalBased&&(a=e[r][mr]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&ni.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):D0(e,a,r,s)}finally{Ie(o)}}function eV(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)us(~i);else{let s=i,o=n[++r],a=n[++r];PO(o,s);let u=e[s];a(2,u)}}}finally{us(-1)}}function Ih(t,e,n,r,i,s,o,a,u,l,d){let f=e.blueprint.slice();return f[Er]=i,f[ie]=r|4|128|8|64,(l!==null||t&&t[ie]&2048)&&(f[ie]|=2048),x0(f),f[Ft]=f[Po]=t,f[xn]=n,f[qn]=o||t&&t[qn],f[Ye]=a||t&&t[Ye],f[Do]=u||t&&t[Do]||null,f[Nn]=s,f[uh]=fF(),f[Pd]=d,f[I0]=l,f[Gn]=e.type==2?t[Gn]:f,f}function ju(t,e,n,r,i){let s=t.data[e];if(s===null)s=tV(t,e,n,r,i),RO()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=xO();s.injectorIndex=o===null?-1:o.injectorIndex}return hs(s,!0),s}function tV(t,e,n,r,i){let s=k0(),o=Iy(),a=o?s:s&&s.parent,u=t.data[e]=oV(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function AT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ST(t,e,n,r,i){let s=fs(),o=r&2;try{us(-1),o&&e.length>Zt&&bT(t,e,Zt,!1),$n(o?2:0,i),n(r,i)}finally{us(s),$n(o?3:1,i)}}function Ly(t,e,n){if(vy(e)){let r=Ie(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{Ie(r)}}}function jy(t,e,n){P0()&&(hV(t,e,n,pn(n,e)),(n.flags&64)===64&&RT(t,e,n))}function By(t,e,n=pn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function xT(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Uy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Uy(t,e,n,r,i,s,o,a,u,l,d){let f=Zt+r,g=f+i,y=nV(f,g),E=typeof l=="function"?l():l;return y[ge]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:E,incompleteFirstPass:!1,ssrId:d}}function nV(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Cr);return n}function rV(t,e,n,r){let s=r.get(IF,lT)||n===zn.ShadowDom,o=t.selectRootElement(e,s);return iV(o),o}function iV(t){sV(t)}var sV=()=>null;function oV(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return TO()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function RC(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=ni.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?PC(r,n,l,a,u):PC(r,n,l,a)}return r}function PC(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function aV(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let d=r;d<i;d++){let f=s[d],g=n?n.get(f):null,y=g?g.inputs:null,E=g?g.outputs:null;u=RC(0,f.inputs,d,u,y),l=RC(1,f.outputs,d,l,E);let T=u!==null&&o!==null&&!fy(e)?DV(u,d,o):null;a.push(T)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function uV(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function MT(t,e,n,r,i,s,o,a){let u=pn(e,n),l=e.inputs,d;!a&&l!=null&&(d=l[r])?(Hy(t,n,d,r,i),ch(e)&&cV(n,e.index)):e.type&3?(r=uV(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function cV(t,e){let n=li(e,t);n[ie]&16||(n[ie]|=64)}function $y(t,e,n,r){if(P0()){let i=r===null?null:{"":-1},s=pV(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&NT(t,e,n,o,i,a),i&&gV(n,r,i)}n.mergedAttrs=Nu(n.mergedAttrs,n.attrs)}function NT(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Pm(Ud(n,e),t,r[l].type);yV(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let d=r[l];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,u=AT(t,e,r.length,null);for(let l=0;l<r.length;l++){let d=r[l];n.mergedAttrs=Nu(n.mergedAttrs,d.hostAttrs),vV(t,n,e,u,d),mV(u,d,i),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let f=d.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}aV(t,n,s)}function lV(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;dV(o)!=a&&o.push(a),o.push(n,r,s)}}function dV(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function hV(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;ch(n)&&_V(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ud(n,e),si(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=Ao(e,t,a,n);if(si(l,e),o!==null&&EV(e,a-i,l,u,n,o),ii(u)){let d=li(n.index,e);d[xn]=Ao(e,t,a,n)}}}function RT(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=kO();try{us(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Mm(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&fV(u,l)}}finally{us(-1),Mm(o)}}function fV(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function pV(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(Gk(e,o.selectors,!1))if(r||(r=[]),ii(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;Um(t,e,u)}else r.unshift(o),Um(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Um(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function gV(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new X(-301,!1);r.push(e[i],s)}}}function mV(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ii(e)&&(n[""]=t)}}function yV(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function vV(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=ss(i.type,!0)),o=new cs(s,ii(i),se);t.blueprint[r]=o,n[r]=o,lV(t,e,r,AT(t,n,i.hostVars,Cr),i)}function _V(t,e,n){let r=pn(e,t),i=xT(n),s=t[qn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Eh(t,Ih(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function wV(t,e,n,r,i,s){let o=pn(t,e);IV(e[Ye],o,s,t.value,n,r,i)}function IV(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?ih(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function EV(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],d=o[a++],f=o[a++];TT(r,n,u,l,d,f)}}function DV(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function PT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function kT(t,e){let n=t.contentQueries;if(n!==null){let r=Ie(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];L0(s),a.contentQueries(2,e[o],o)}}}finally{Ie(r)}}}function Eh(t,e){return t[Pu]?t[vC][Sn]=e:t[Pu]=e,t[vC]=e,e}function $m(t,e,n){L0(0);let r=Ie(null);try{e(t,n)}finally{Ie(r)}}function bV(t){return t[kd]??=[]}function CV(t){return t.cleanup??=[]}function OT(t,e){let n=t[Do],r=n?n.get(_r,null):null;r&&r.handleError(e)}function Hy(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],d=t.data[o];TT(d,l,r,a,u,i)}}function TV(t,e,n){let r=A0(e,t);OF(t[Ye],r,n)}function AV(t,e){let n=li(e,t),r=n[ge];SV(r,n);let i=n[Er];i!==null&&n[Pd]===null&&(n[Pd]=Py(i,n[Do])),zy(r,n,n[xn])}function SV(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function zy(t,e,n){Dy(e);try{let r=t.viewQuery;r!==null&&$m(1,r,n);let i=t.template;i!==null&&ST(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Co]?.finishViewCreation(t),t.staticContentQueries&&kT(t,e),t.staticViewQueries&&$m(2,t.viewQuery,n);let s=t.components;s!==null&&xV(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ie]&=-5,by()}}function xV(t,e){for(let n=0;n<e.length;n++)AV(t,e[n])}function MV(t,e,n,r){let i=Ie(null);try{let s=e.tView,a=t[ie]&4096?4096:16,u=Ih(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[bo]=l;let d=t[Co];return d!==null&&(u[Co]=d.createEmbeddedView(s)),zy(s,u,n),u}finally{Ie(i)}}function kC(t,e){return!e||e.firstChild===null||iT(t)}function NV(t,e,n,r=!0){let i=e[ge];if(BF(i,e,t,n),r){let o=Bm(n,t),a=e[Ye],u=wT(a,t[os]);u!==null&&LF(i,t[Nn],a,e,u,o)}let s=e[Pd];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Wd(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(Wn(s)),Dr(s)&&RV(s,r);let o=n.type;if(o&8)Wd(t,e,n.child,r);else if(o&32){let a=Oy(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=IT(e,n);if(Array.isArray(a))r.push(...a);else{let u=as(e[Gn]);Wd(u[ge],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function RV(t,e){for(let n=fn;n<t.length;n++){let r=t[n],i=r[ge].firstChild;i!==null&&Wd(r[ge],r,i,e)}t[os]!==t[Er]&&e.push(t[os])}var FT=[];function PV(t){return t[hn]??kV(t)}function kV(t){let e=FT.pop()??Object.create(FV);return e.lView=t,e}function OV(t){t.lView[hn]!==t&&(t.lView=null,FT.push(t))}var FV=Y(x({},_u),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{dh(t.lView)},consumerOnSignalRead(){this.lView[hn]=this}});function VV(t){let e=t[hn]??Object.create(LV);return e.lView=t,e}var LV=Y(x({},_u),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=as(t.lView);for(;e&&!VT(e[ge]);)e=as(e);e&&M0(e)},consumerOnSignalRead(){this.lView[hn]=this}});function VT(t){return t.type!==2}var jV=100;function LT(t,e=!0,n=0){let r=t[qn],i=r.rendererFactory,s=!1;s||i.begin?.();try{BV(t,n)}catch(o){throw e&&OT(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function BV(t,e){let n=F0();try{wC(!0),Hm(t,e);let r=0;for(;ku(t);){if(r===jV)throw new X(103,!1);r++,Hm(t,1)}}finally{wC(n)}}function UV(t,e,n,r){let i=e[ie];if((i&256)===256)return;let s=!1,o=!1;!s&&e[qn].inlineEffectRunner?.flush(),Dy(e);let a=!0,u=null,l=null;s||(VT(t)?(l=PV(e),u=$l(l)):Sb()===null?(a=!1,l=VV(e),u=$l(l)):e[hn]&&(jg(e[hn]),e[hn]=null));try{x0(e),NO(t.bindingStartIndex),n!==null&&ST(t,e,n,2,r);let d=(i&3)===3;if(!s)if(d){let y=t.preOrderCheckHooks;y!==null&&Td(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Ad(e,y,0,null),um(e,0)}if(o||$V(e),jT(e,0),t.contentQueries!==null&&kT(t,e),!s)if(d){let y=t.contentCheckHooks;y!==null&&Td(e,y)}else{let y=t.contentHooks;y!==null&&Ad(e,y,1),um(e,1)}eV(t,e);let f=t.components;f!==null&&UT(e,f,0);let g=t.viewQuery;if(g!==null&&$m(2,g,r),!s)if(d){let y=t.viewCheckHooks;y!==null&&Td(e,y)}else{let y=t.viewHooks;y!==null&&Ad(e,y,2),um(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[am]){for(let y of e[am])y();e[am]=null}s||(e[ie]&=-73)}catch(d){throw s||dh(e),d}finally{l!==null&&(Vg(l,u),a&&OV(l)),by()}}function jT(t,e){for(let n=oT(t);n!==null;n=aT(n))for(let r=fn;r<n.length;r++){let i=n[r];BT(i,e)}}function $V(t){for(let e=oT(t);e!==null;e=aT(e)){if(!(e[ie]&Vd.HasTransplantedViews))continue;let n=e[Fd];for(let r=0;r<n.length;r++){let i=n[r];M0(i)}}}function HV(t,e,n){let r=li(e,t);BT(r,n)}function BT(t,e){wy(t)&&Hm(t,e)}function Hm(t,e){let r=t[ge],i=t[ie],s=t[hn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Lg(s)),o||=!1,s&&(s.dirty=!1),t[ie]&=-9217,o)UV(r,t,r.template,t[xn]);else if(i&8192){jT(t,1);let a=r.components;a!==null&&UT(t,a,1)}}function UT(t,e,n){for(let r=0;r<e.length;r++)HV(t,e[r],n)}function qy(t,e){let n=F0()?64:1088;for(t[qn].changeDetectionScheduler?.notify(e);t;){t[ie]|=n;let r=as(t);if(Am(t)&&!r)return t;t=r}return null}var ls=class{get rootNodes(){let e=this._lView,n=e[ge];return Wd(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xn]}set context(e){this._lView[xn]=e}get destroyed(){return(this._lView[ie]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ft];if(Dr(e)){let n=e[Od],r=n?n.indexOf(this):-1;r>-1&&(jm(e,r),Nd(n,r))}this._attachedToViewContainer=!1}vT(this._lView[ge],this._lView)}onDestroy(e){N0(this._lView,e)}markForCheck(){qy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ie]&=-129}reattach(){xm(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,LT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Am(this._lView),n=this._lView[bo];n!==null&&!e&&Fy(n,this._lView),mT(this._lView[ge],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=e;let n=Am(this._lView),r=this._lView[bo];r!==null&&!n&&yT(r,this._lView),xm(this._lView)}},Dh=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=GV;let t=e;return t})(),zV=Dh,qV=class extends zV{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=MV(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ls(i)}};function GV(){return $T(Tt(),De())}function $T(t,e){return t.type&4?new qV(e,t,mh(t,e)):null}var k7=new RegExp(`^(\\d+)*(${_F}|${vF})*(.*)`);var WV=()=>null;function OC(t,e){return WV(t,e)}var So=class{},HT=new z("",{providedIn:"root",factory:()=>!1});var zT=new z(""),zm=class{},Kd=class{};function KV(t){let e=Error(`No component factory found for ${Ot(t)}.`);return e[QV]=t,e}var QV="ngComponent";var qm=class{resolveComponentFactory(e){throw KV(e)}},av=class av{};av.NULL=new qm;var xo=av,Mo=class{},gn=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>YV();let t=e;return t})();function YV(){let t=De(),e=Tt(),n=li(e.index,t);return(ti(n)?n:t)[Ye]}var ZV=(()=>{let e=class e{};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var FC=new Set;function Bu(t){FC.has(t)||(FC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var qt=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(qt||{}),XV={destroy(){}};function Gy(t,e){!e&&hO(Gy);let n=e?.injector??U(Xt);return RF(n)?(Bu("NgAfterNextRender"),eL(t,n,!0,e?.phase??qt.MixedReadWrite)):XV}function JV(t,e){if(t instanceof Function)switch(e){case qt.EarlyRead:return{earlyRead:t};case qt.Write:return{write:t};case qt.MixedReadWrite:return{mixedReadWrite:t};case qt.Read:return{read:t}}return t}function eL(t,e,n,r){let i=JV(t,r),s=e.get(Wy),o=s.handler??=new Wm,a=[],u=[],l=()=>{for(let y of u)o.unregister(y);d()},d=e.get(Sy).onDestroy(l),f=0,g=(y,E)=>{if(!E)return;let T=n?(...V)=>(f--,f<1&&l(),E(...V)):E,A=Mn(e,()=>new Gm(y,a,T));o.register(A),u.push(A),f++};return g(qt.EarlyRead,i.earlyRead),g(qt.Write,i.write),g(qt.MixedReadWrite,i.mixedReadWrite),g(qt.Read,i.read),{destroy:l}}var Gm=class{constructor(e,n,r){this.phase=e,this.pipelinedArgs=n,this.callbackFn=r,this.zone=U(ye),this.errorHandler=U(_r,{optional:!0}),U(So,{optional:!0})?.notify(6)}invoke(){try{let e=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,e)}catch(e){this.errorHandler?.handleError(e)}}},Wm=class{constructor(){this.executingCallbacks=!1,this.buckets={[qt.EarlyRead]:new Set,[qt.Write]:new Set,[qt.MixedReadWrite]:new Set,[qt.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Wy=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Qd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=_m(i,a);else if(s==2){let u=a,l=e[++o];r=_m(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Yd=class extends xo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ri(e);return new No(n,this.ngModule)}};function VC(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:ni.None;e?n.push({propName:o,templateName:r,isSignal:(a&ni.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function tL(t){let e=t.toLowerCase();return e==="svg"?vO:e==="math"?_O:null}var No=class extends Kd{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=VC(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return VC(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Yk(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=Ie(null);try{i=i||this.ngModule;let o=i instanceof Yt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Nm(e,o):e,u=a.get(Mo,null);if(u===null)throw new X(407,!1);let l=a.get(ZV,null),d=a.get(Wy,null),f=a.get(So,null),g={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:f},y=u.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",T=r?rV(y,r,this.componentDef.encapsulation,a):gT(y,E,tL(E)),A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let V=null;T!==null&&(V=Py(T,a,!0));let j=Uy(0,null,null,1,0,null,null,null,null,null,null),k=Ih(null,j,null,A,null,null,g,y,a,null,V);Dy(k);let W,ee;try{let te=this.componentDef,I,v=null;te.findHostDirectiveDefs?(I=[],v=new Map,te.findHostDirectiveDefs(te,I,v),I.push(te)):I=[te];let w=nL(k,T),D=rL(w,T,te,I,k,g,y);ee=S0(j,Zt),T&&oL(y,te,T,r),n!==void 0&&aL(ee,this.ngContentSelectors,n),W=sL(D,te,I,v,k,[uL]),zy(j,k,null)}finally{by()}return new Km(this.componentType,W,mh(ee,k),k,ee)}finally{Ie(s)}}},Km=class extends zm{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ls(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Hy(s[ge],s,i,e,n),this.previousInputValues.set(e,n);let o=li(this._tNode.index,s);qy(o,1)}}get injector(){return new is(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function nL(t,e){let n=t[ge],r=Zt;return t[r]=e,ju(n,r,2,"#host",null)}function rL(t,e,n,r,i,s,o){let a=i[ge];iL(r,t,e,o);let u=null;e!==null&&(u=Py(e,i[Do]));let l=s.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let f=Ih(i,xT(n),null,d,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&Um(a,t,r.length-1),Eh(i,f),i[t.index]=f}function iL(t,e,n,r){for(let i of t)e.mergedAttrs=Nu(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Qd(e,e.mergedAttrs,!0),n!==null&&DT(r,n,e))}function sL(t,e,n,r,i,s){let o=Tt(),a=i[ge],u=pn(o,i);NT(a,i,o,n,null,r);for(let d=0;d<n.length;d++){let f=o.directiveStart+d,g=Ao(i,a,f,o);si(g,i)}RT(a,i,o),u&&si(u,i);let l=Ao(i,a,o.directiveStart+o.componentOffset,o);if(t[xn]=i[xn]=l,s!==null)for(let d of s)d(l,e);return Ly(a,o,i),l}function oL(t,e,n,r){if(r)Dm(t,n,["ng-version","18.2.0"]);else{let{attrs:i,classes:s}=Zk(e.selectors[0]);i&&Dm(t,n,i),s&&s.length>0&&ET(t,n,s.join(" "))}}function aL(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function uL(){let t=Tt();gh(De()[ge],t)}var Fo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=cL;let t=e;return t})();function cL(){let t=Tt();return dL(t,De())}var lL=Fo,qT=class extends lL{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return mh(this._hostTNode,this._hostLView)}get injector(){return new is(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ty(this._hostTNode,this._hostLView);if(G0(e)){let n=jd(e,this._hostLView),r=Ld(e),i=n[ge].data[r+8];return new is(i,n)}else return new is(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=LC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-fn}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=OC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,kC(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!pO(e),a;if(o)a=n;else{let E=n||{};a=E.index,r=E.injector,i=E.projectableNodes,s=E.environmentInjector||E.ngModuleRef}let u=o?e:new No(ri(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let T=(o?l:this.parentInjector).get(Yt,null);T&&(s=T)}let d=ri(u.componentType??{}),f=OC(this._lContainer,d?.id??null),g=f?.firstChild??null,y=u.create(l,i,g,s);return this.insertImpl(y.hostView,a,kC(this._hostTNode,f)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(wO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Ft],l=new qT(u,u[Nn],u[Ft]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return NV(o,i,s,r),e.attachToViewContainerRef(),i0(fm(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=LC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=jm(this._lContainer,n);r&&(Nd(fm(this._lContainer),n),vT(r[ge],r))}detach(e){let n=this._adjustIndex(e,-1),r=jm(this._lContainer,n);return r&&Nd(fm(this._lContainer),n)!=null?new ls(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function LC(t){return t[Od]}function fm(t){return t[Od]||(t[Od]=[])}function dL(t,e){let n,r=e[t.index];return Dr(r)?n=r:(n=PT(r,e,null,t),e[t.index]=n,Eh(e,n)),fL(n,e,t,r),new qT(n,t,e)}function hL(t,e){let n=t[Ye],r=n.createComment(""),i=pn(e,t),s=wT(n,i);return Gd(n,s,r,qF(n,i),!1),r}var fL=mL,pL=()=>!1;function gL(t,e,n){return pL(t,e,n)}function mL(t,e,n,r){if(t[os])return;let i;n.type&8?i=Wn(r):i=hL(e,n),t[os]=i}function yL(t){return typeof t=="function"&&t[mr]!==void 0}function bh(t,e){Bu("NgSignals");let n=jb(t),r=n[mr];return e?.equal&&(r.equal=e.equal),n.set=i=>Bg(r,i),n.update=i=>Bb(r,i),n.asReadonly=vL.bind(n),n}function vL(){let t=this[mr];if(t.readonlyFn===void 0){let e=()=>this();e[mr]=t,t.readonlyFn=e}return t.readonlyFn}function GT(t){return yL(t)&&typeof t.set=="function"}function _L(t){let e=[],n=new Map;function r(i){let s=n.get(i);if(!s){let o=t(i);n.set(i,s=o.then(DL))}return s}return Zd.forEach((i,s)=>{let o=[];i.templateUrl&&o.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,d=i.styleUrls;i.styleUrls.forEach((f,g)=>{a.push(""),o.push(r(f).then(y=>{a[l+g]=y,d.splice(d.indexOf(f),1),d.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&o.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let u=Promise.all(o).then(()=>bL(s));e.push(u)}),IL(),Promise.all(e).then(()=>{})}var Zd=new Map,wL=new Set;function IL(){let t=Zd;return Zd=new Map,t}function EL(){return Zd.size===0}function DL(t){return typeof t=="string"?t:t.text()}function bL(t){wL.delete(t)}function CL(t){return Object.getPrototypeOf(t.prototype).constructor}function Qn(t){let e=CL(t.type),n=!0,r=[t];for(;e;){let i;if(ii(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new X(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Id(t.inputs),o.inputTransforms=Id(t.inputTransforms),o.declaredInputs=Id(t.declaredInputs),o.outputs=Id(t.outputs);let a=i.hostBindings;a&&ML(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&SL(t,u),l&&xL(t,l),TL(t,i),_k(t.outputs,i.outputs),ii(i)&&i.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Qn&&(n=!1)}}e=Object.getPrototypeOf(e)}AL(r)}function TL(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function AL(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Nu(i.hostAttrs,n=Nu(n,i.hostAttrs))}}function Id(t){return t===wo?{}:t===zt?[]:t}function SL(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function xL(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function ML(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Ky(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var oi=class{},Ou=class{};var Xd=class extends oi{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yd(this);let s=f0(e);this._bootstrapComponents=pT(s.bootstrap),this._r3Injector=tT(e,n,[{provide:oi,useValue:this},{provide:xo,useValue:this.componentFactoryResolver},...r],Ot(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Jd=class extends Ou{constructor(e){super(),this.moduleType=e}create(e){return new Xd(this.moduleType,e,[])}};function NL(t,e,n){return new Xd(t,e,n,!1)}var Qm=class extends oi{constructor(e){super(),this.componentFactoryResolver=new Yd(this),this.instance=null;let n=new Ru([...e.providers,{provide:oi,useValue:this},{provide:xo,useValue:this.componentFactoryResolver}],e.parent||yy(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ch(t,e,n=null){return new Qm({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function WT(t){return Qy(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function RL(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Qy(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function KT(t,e,n){return t[e]=n}function wr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function PL(t,e,n,r){let i=wr(t,e,n);return wr(t,e+1,r)||i}function kL(t){return(t.flags&32)===32}function OL(t,e,n,r,i,s,o,a,u){let l=e.consts,d=ju(e,t,4,o||null,a||null);$y(e,n,d,To(l,u)),gh(e,d);let f=d.tView=Uy(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function FL(t,e,n,r,i,s,o,a,u,l){let d=n+Zt,f=e.firstCreatePass?OL(d,e,t,r,i,s,o,a,u):e.data[d];hs(f,!1);let g=LL(e,t,f,n);fh()&&_h(e,t,g,f),si(g,t);let y=PT(g,t,g,f);return t[d]=y,Eh(t,y),gL(y,f,t),lh(f)&&jy(e,t,f),u!=null&&By(t,f,l),f}function VL(t,e,n,r,i,s,o,a){let u=De(),l=_t(),d=To(l.consts,s);return FL(u,l,t,e,n,r,i,d,o,a),VL}var LL=jL;function jL(t,e,n,r){return ph(!0),e[Ye].createComment("")}function Uu(t,e,n,r){let i=De(),s=hh();if(wr(i,s,e)){let o=_t(),a=Cy();wV(a,i,t,e,n,r)}return Uu}function BL(t,e,n,r){return wr(t,hh(),n)?e+ih(n)+r:Cr}function Ed(t,e){return t<<17|e<<2}function ds(t){return t>>17&32767}function UL(t){return(t&2)==2}function $L(t,e){return t&131071|e<<17}function Ym(t){return t|2}function Ro(t){return(t&131068)>>2}function pm(t,e){return t&-131069|e<<2}function HL(t){return(t&1)===1}function Zm(t){return t|1}function zL(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ds(o),u=Ro(o);t[r]=n;let l=!1,d;if(Array.isArray(n)){let f=n;d=f[1],(d===null||Lu(f,d)>0)&&(l=!0)}else d=n;if(i)if(u!==0){let g=ds(t[a+1]);t[r+1]=Ed(g,a),g!==0&&(t[g+1]=pm(t[g+1],r)),t[a+1]=$L(t[a+1],r)}else t[r+1]=Ed(a,0),a!==0&&(t[a+1]=pm(t[a+1],r)),a=r;else t[r+1]=Ed(u,0),a===0?a=r:t[u+1]=pm(t[u+1],r),u=r;l&&(t[r+1]=Ym(t[r+1])),jC(t,d,r,!0),jC(t,d,r,!1),qL(e,d,t,r,s),o=Ed(a,u),s?e.classBindings=o:e.styleBindings=o}function qL(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Lu(s,e)>=0&&(n[r+1]=Zm(n[r+1]))}function jC(t,e,n,r){let i=t[n+1],s=e===null,o=r?ds(i):Ro(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];GL(u,e)&&(a=!0,t[o+1]=r?Zm(l):Ym(l)),o=r?ds(l):Ro(l)}a&&(t[n+1]=r?Ym(i):Zm(i))}function GL(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Lu(t,e)>=0:!1}var An={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function WL(t){return t.substring(An.key,An.keyEnd)}function KL(t){return QL(t),QT(t,YT(t,0,An.textEnd))}function QT(t,e){let n=An.textEnd;return n===e?-1:(e=An.keyEnd=YL(t,An.key=e,n),YT(t,e,n))}function QL(t){An.key=0,An.keyEnd=0,An.value=0,An.valueEnd=0,An.textEnd=t.length}function YT(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function YL(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function ZL(t,e,n){let r=De(),i=hh();if(wr(r,i,e)){let s=_t(),o=Cy();MT(s,o,r,t,e,r[Ye],n,!1)}return ZL}function Xm(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Hy(t,n,s[o],o,r)}function ZT(t,e,n){return XT(t,e,n,!1),ZT}function Th(t,e){return XT(t,e,null,!0),Th}function F7(t){JL(s2,XL,t,!0)}function XL(t,e){for(let n=KL(e);n>=0;n=QT(e,n))hy(t,WL(e),!0)}function XT(t,e,n,r){let i=De(),s=_t(),o=V0(2);if(s.firstUpdatePass&&eA(s,t,o,r),e!==Cr&&wr(i,o,e)){let a=s.data[fs()];tA(s,a,i,i[Ye],t,i[o+1]=a2(e,n),r,o)}}function JL(t,e,n,r){let i=_t(),s=V0(2);i.firstUpdatePass&&eA(i,null,s,r);let o=De();if(n!==Cr&&wr(o,s,n)){let a=i.data[fs()];if(nA(a,r)&&!JT(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=_m(u,n||"")),Xm(i,a,o,n,r)}else o2(i,a,o,o[Ye],o[s+1],o[s+1]=i2(t,e,n),r,s)}}function JT(t,e){return e>=t.expandoStartIndex}function eA(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[fs()],o=JT(t,n);nA(s,r)&&e===null&&!o&&(e=!1),e=e2(i,s,e,r),zL(i,s,e,n,o,r)}}function e2(t,e,n,r){let i=OO(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=gm(null,t,e,n,r),n=Fu(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=gm(i,t,e,n,r),s===null){let u=t2(t,e,r);u!==void 0&&Array.isArray(u)&&(u=gm(null,t,e,u[1],r),u=Fu(u,e.attrs,r),n2(t,e,r,u))}else s=r2(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function t2(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ro(r)!==0)return t[ds(r)]}function n2(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ds(i)]=r}function r2(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Fu(r,o,n)}return Fu(r,e.attrs,n)}function gm(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Fu(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Fu(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),hy(t,o,n?!0:e[++s]))}return t===void 0?null:t}function i2(t,e,n){if(n==null||n==="")return zt;let r=[],i=Oo(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function s2(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&hy(t,r,n)}function o2(t,e,n,r,i,s,o,a){i===Cr&&(i=zt);let u=0,l=0,d=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;d!==null||f!==null;){let g=u<i.length?i[u+1]:void 0,y=l<s.length?s[l+1]:void 0,E=null,T;d===f?(u+=2,l+=2,g!==y&&(E=f,T=y)):f===null||d!==null&&d<f?(u+=2,E=d):(l+=2,E=f,T=y),E!==null&&tA(t,e,n,r,E,T,o,a),d=u<i.length?i[u]:null,f=l<s.length?s[l]:null}}function tA(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],d=HL(l)?BC(u,e,n,i,Ro(l),o):void 0;if(!eh(d)){eh(s)||UL(l)&&(s=BC(u,null,n,i,a,o));let f=A0(fs(),n);XF(r,o,f,i,s)}}function BC(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),d=l?u[1]:u,f=d===null,g=n[i+1];g===Cr&&(g=f?zt:void 0);let y=f?sm(g,r):d===r?g:void 0;if(l&&!eh(y)&&(y=sm(u,r)),eh(y)&&(a=y,o))return a;let E=t[i+1];i=o?ds(E):Ro(E)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=sm(u,r))}return a}function eh(t){return t!==void 0}function a2(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ot(Oo(t)))),t}function nA(t,e){return(t.flags&(e?8:16))!==0}function u2(t,e,n,r,i,s){let o=e.consts,a=To(o,i),u=ju(e,t,2,r,a);return $y(e,n,u,To(o,s)),u.attrs!==null&&Qd(u,u.attrs,!1),u.mergedAttrs!==null&&Qd(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function rA(t,e,n,r){let i=De(),s=_t(),o=Zt+t,a=i[Ye],u=s.firstCreatePass?u2(o,s,i,e,n,r):s.data[o],l=c2(s,i,u,a,e,t);i[o]=l;let d=lh(u);return hs(u,!0),DT(a,l,u),!kL(u)&&fh()&&_h(s,i,l,u),DO()===0&&si(l,i),bO(),d&&(jy(s,i,u),Ly(s,u,i)),r!==null&&By(i,u),rA}function iA(){let t=Tt();Iy()?O0():(t=t.parent,hs(t,!1));let e=t;AO(e)&&SO(),CO();let n=_t();return n.firstCreatePass&&(gh(n,t),vy(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&$O(e)&&Xm(n,e,De(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&HO(e)&&Xm(n,e,De(),e.stylesWithoutHost,!1),iA}function Yy(t,e,n,r){return rA(t,e,n,r),iA(),Yy}var c2=(t,e,n,r,i,s)=>(ph(!0),gT(r,i,LO()));function l2(t,e,n,r,i){let s=e.consts,o=To(s,r),a=ju(e,t,8,"ng-container",o);o!==null&&Qd(a,o,!0);let u=To(s,i);return $y(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function d2(t,e,n){let r=De(),i=_t(),s=t+Zt,o=i.firstCreatePass?l2(s,i,r,e,n):i.data[s];hs(o,!0);let a=f2(i,r,o,t);return r[s]=a,fh()&&_h(i,r,a,o),si(a,r),lh(o)&&(jy(i,r,o),Ly(i,o,r)),n!=null&&By(r,o),d2}function h2(){let t=Tt(),e=_t();return Iy()?O0():(t=t.parent,hs(t,!1)),e.firstCreatePass&&(gh(e,t),vy(t)&&e.queries.elementEnd(t)),h2}var f2=(t,e,n,r)=>(ph(!0),FF(e[Ye],""));function V7(){return De()}var ns=void 0;function p2(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var g2=["en",[["a","p"],["AM","PM"],ns],[["AM","PM"],ns,ns],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ns,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ns,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ns,"{1} 'at' {0}",ns],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",p2],mm={};function en(t){let e=m2(t),n=UC(e);if(n)return n;let r=e.split("-")[0];if(n=UC(r),n)return n;if(r==="en")return g2;throw new X(701,!1)}function UC(t){return t in mm||(mm[t]=Pt.ng&&Pt.ng.common&&Pt.ng.common.locales&&Pt.ng.common.locales[t]),mm[t]}var Ke=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ke||{});function m2(t){return t.toLowerCase().replace(/_/g,"-")}var th="en-US";var y2=th;function v2(t){typeof t=="string"&&(y2=t.toLowerCase().replace(/_/g,"-"))}var _2=(t,e,n)=>{};function di(t,e,n,r){let i=De(),s=_t(),o=Tt();return sA(s,i,i[Ye],o,t,e,r),di}function w2(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[kd],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function sA(t,e,n,r,i,s,o){let a=lh(r),l=t.firstCreatePass&&CV(t),d=e[xn],f=bV(e),g=!0;if(r.type&3||o){let T=pn(r,e),A=o?o(T):T,V=f.length,j=o?W=>o(Wn(W[r.index])):r.index,k=null;if(!o&&a&&(k=w2(t,e,i,r.index)),k!==null){let W=k.__ngLastListenerFn__||k;W.__ngNextListenerFn__=s,k.__ngLastListenerFn__=s,g=!1}else{s=HC(r,e,d,s),_2(T,i,s);let W=n.listen(A,i,s);f.push(s,W),l&&l.push(i,j,V,V+1)}}else s=HC(r,e,d,s);let y=r.outputs,E;if(g&&y!==null&&(E=y[i])){let T=E.length;if(T)for(let A=0;A<T;A+=2){let V=E[A],j=E[A+1],ee=e[V][j].subscribe(s),te=f.length;f.push(s,ee),l&&l.push(i,r.index,te,-(te+1))}}}function $C(t,e,n,r){let i=Ie(null);try{return $n(6,e,n),n(r)!==!1}catch(s){return OT(t,s),!1}finally{$n(7,e,n),Ie(i)}}function HC(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?li(t.index,e):e;qy(o,5);let a=$C(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=$C(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function L7(t=1){return VO(t)}function I2(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function j7(t){let e=MO();return _y(e,Zt+t)}function B7(t,e=""){let n=De(),r=_t(),i=t+Zt,s=r.firstCreatePass?ju(r,i,1,e,null):r.data[i],o=E2(r,n,s,e,t);n[i]=o,fh()&&_h(r,n,o,s),hs(s,!1)}var E2=(t,e,n,r,i)=>(ph(!0),kF(e[Ye],r));function D2(t){return oA("",t,""),D2}function oA(t,e,n){let r=De(),i=BL(r,t,e,n);return i!==Cr&&TV(r,fs(),i),oA}function b2(t,e,n){GT(e)&&(e=e());let r=De(),i=hh();if(wr(r,i,e)){let s=_t(),o=Cy();MT(s,o,r,t,e,r[Ye],n,!1)}return b2}function U7(t,e){let n=GT(t);return n&&t.set(e),n}function C2(t,e){let n=De(),r=_t(),i=Tt();return sA(r,n,n[Ye],i,t,e),C2}function T2(t,e,n){let r=_t();if(r.firstCreatePass){let i=ii(t);Jm(n,r.data,r.blueprint,i,!0),Jm(e,r.data,r.blueprint,i,!1)}}function Jm(t,e,n,r,i){if(t=kt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Jm(t[s],e,n,r,i);else{let s=_t(),o=De(),a=Tt(),u=Eo(t)?t:kt(t.provide),l=_0(t),d=a.providerIndexes&1048575,f=a.directiveStart,g=a.providerIndexes>>20;if(Eo(t)||!t.multi){let y=new cs(l,i,se),E=vm(u,e,i?d:d+g,f);E===-1?(Pm(Ud(a,o),s,u),ym(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)):(n[E]=y,o[E]=y)}else{let y=vm(u,e,d+g,f),E=vm(u,e,d,d+g),T=y>=0&&n[y],A=E>=0&&n[E];if(i&&!A||!i&&!T){Pm(Ud(a,o),s,u);let V=x2(i?S2:A2,n.length,i,r,l);!i&&A&&(n[E].providerFactory=V),ym(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(V),o.push(V)}else{let V=aA(n[i?E:y],l,!i&&r);ym(s,t,y>-1?y:E,V)}!i&&r&&A&&n[E].componentProviders++}}}function ym(t,e,n,r){let i=Eo(e),s=sO(e);if(i||s){let u=(s?kt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let d=l.indexOf(n);d===-1?l.push(n,[r,u]):l[d+1].push(r,u)}else l.push(n,u)}}}function aA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function vm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function A2(t,e,n,r){return ey(this.multi,[])}function S2(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ao(n,n[ge],this.providerFactory.index,r);s=a.slice(0,o),ey(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],ey(i,s);return s}function ey(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function x2(t,e,n,r,i){let s=new cs(t,n,se);return s.multi=[],s.index=e,s.componentProviders=0,aA(s,i,r&&!n),s}function Vo(t,e=[]){return n=>{n.providersResolver=(r,i)=>T2(r,i?i(t):t,e)}}var M2=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=m0(!1,r.type),s=i.length>0?Ch([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=q({token:e,providedIn:"environment",factory:()=>new e(L(Yt))});let t=e;return t})();function Zy(t){Bu("NgStandalone"),t.getStandaloneInjector=e=>e.get(M2).getOrCreateStandaloneInjector(t)}function $7(t,e,n,r){return cA(De(),Ey(),t,e,n,r)}function uA(t,e){let n=t[e];return n===Cr?void 0:n}function cA(t,e,n,r,i,s){let o=e+n;return wr(t,o,i)?KT(t,o+1,s?r.call(s,i):r(i)):uA(t,o+1)}function N2(t,e,n,r,i,s,o){let a=e+n;return PL(t,a,i,s)?KT(t,a+2,o?r.call(o,i,s):r(i,s)):uA(t,a+2)}function H7(t,e){let n=_t(),r,i=t+Zt;n.firstCreatePass?(r=R2(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=ss(r.type,!0)),o,a=Ht(se);try{let u=Bd(!1),l=s();return Bd(u),I2(n,De(),i,l),l}finally{Ht(a)}}function R2(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function z7(t,e,n){let r=t+Zt,i=De(),s=_y(i,r);return lA(i,r)?cA(i,Ey(),e,s.transform,n,s):s.transform(n)}function q7(t,e,n,r){let i=t+Zt,s=De(),o=_y(s,i);return lA(s,i)?N2(s,Ey(),e,o.transform,n,r,o):o.transform(n,r)}function lA(t,e){return t[ge].data[e].pure}function G7(t,e){return $T(t,e)}var Dd=null;function P2(t){Dd!==null&&(t.defaultEncapsulation!==Dd.defaultEncapsulation||t.preserveWhitespaces!==Dd.preserveWhitespaces)||(Dd=t)}var Ir=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},dA=new Ir("18.2.0");var Lo=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Xy=new z(""),$u=new z(""),Ah=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Jy||(k2(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(L(ye),L(Sh),L($u))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),Sh=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Jy?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function k2(t){Jy=t}var Jy;function hi(t){return!!t&&typeof t.then=="function"}function ev(t){return!!t&&typeof t.subscribe=="function"}var xh=new z(""),hA=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=U(xh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(hi(o))r.push(o);else if(ev(o)){let a=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tv=new z("");function O2(){Lb(()=>{throw new X(600,!1)})}function F2(t){return t.isBoundToModule}var V2=10;function L2(t,e,n){try{let r=n();return hi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function fA(t,e){return Array.isArray(e)?e.reduce(fA,t):x(x({},t),e)}var fi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=U(lF),this.afterRenderEffectManager=U(Wy),this.zonelessEnabled=U(HT),this.externalTestViews=new Set,this.beforeRender=new Le,this.afterTick=new Le,this.componentTypes=[],this.components=[],this.isStable=U(ko).hasPendingTasks.pipe(Z(r=>!r)),this._injector=U(Yt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Kd;if(!this._injector.get(hA).done){let y=!s&&h0(r),E=!1;throw new X(405,E)}let a;s?a=r:a=this._injector.get(xo).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=F2(a)?void 0:this._injector.get(oi),l=i||a.selector,d=a.create(Xt.NULL,[],l,u),f=d.location.nativeElement,g=d.injector.get(Xy,null);return g?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Sd(this.components,d),g?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new X(101,!1);let i=Ie(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,Ie(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(Mo,null,{optional:!0}));let s=0,o=this.afterRenderEffectManager;for(;s<V2;){let a=s===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:u,notifyErrorHandler:l}of this._views)j2(u,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(s++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:u})=>ku(u))&&(o.execute(),!this.allViews.some(({_lView:u})=>ku(u))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Sd(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(tv,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Sd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new X(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Sd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function j2(t,e,n,r){if(!n&&!ku(t))return;LT(t,e,n&&!r?0:1)}var ty=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Mh=(()=>{let e=class e{compileModuleSync(r){return new Jd(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=f0(r),o=pT(s.declarations).reduce((a,u)=>{let l=ri(u);return l&&a.push(new No(l)),a},[]);return new ty(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),B2=new z("");function U2(t,e,n){let r=new Jd(n);return Promise.resolve(r)}function zC(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var $2=(()=>{let e=class e{constructor(){this.zone=U(ye),this.changeDetectionScheduler=U(So),this.applicationRef=U(fi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function H2({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new ye(pA()),[{provide:ye,useFactory:t},{provide:Io,multi:!0,useFactory:()=>{let n=U($2,{optional:!0});return()=>n.initialize()}},{provide:Io,multi:!0,useFactory:()=>{let n=U(z2);return()=>{n.initialize()}}},e===!0?{provide:zT,useValue:!0}:[]]}function pA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var z2=(()=>{let e=class e{constructor(){this.subscription=new Ge,this.initialized=!1,this.zone=U(ye),this.pendingTasks=U(ko)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var q2=(()=>{let e=class e{constructor(){this.appRef=U(fi),this.taskService=U(ko),this.ngZone=U(ye),this.zonelessEnabled=U(HT),this.disableScheduling=U(zT,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ge,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Hd):null,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof zd||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?CC:nT;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Hd+this.angularZoneId))}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(i),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,CC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function G2(){return typeof $localize<"u"&&$localize.locale||th}var Nh=new z("",{providedIn:"root",factory:()=>U(Nh,he.Optional|he.SkipSelf)||G2()});var nv=new z("");function bd(t){return!!t.platformInjector}function W2(t){let e=bd(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ye);return n.run(()=>{bd(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(_r,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),bd(t)){let s=()=>e.destroy(),o=t.platformInjector.get(nv);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else t.moduleRef.onDestroy(()=>{Sd(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return L2(r,n,()=>{let s=e.get(hA);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Nh,th);if(v2(o||th),bd(t)){let a=e.get(fi);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return K2(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function K2(t,e){let n=t.injector.get(fi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new X(-403,!1);e.push(t)}var gA=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let s=()=>cF(i?.ngZone,pA({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),o=i?.ignoreChangesOutsideZone,a=[H2({ngZoneFactory:s,ignoreChangesOutsideZone:o}),{provide:So,useExisting:q2}],u=NL(r.moduleType,this.injector,a);return W2({moduleRef:u,allPlatformModules:this._modules})}bootstrapModule(r,i=[]){let s=fA({},i);return U2(this.injector,s,r).then(o=>this.bootstrapModuleFactory(o,s))}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new X(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(nv,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(L(Xt))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),xu=null,mA=new z("");function Q2(t){if(xu&&!xu.get(mA,!1))throw new X(400,!1);O2(),xu=t;let e=t.get(gA);return X2(t),e}function rv(t,e,n=[]){let r=`Platform: ${e}`,i=new z(r);return(s=[])=>{let o=yA();if(!o||o.injector.get(mA,!1)){let a=[...n,...s,{provide:i,useValue:!0}];t?t(a):Q2(Y2(a,r))}return Z2(i)}}function Y2(t=[],e){return Xt.create({name:e,providers:[{provide:ah,useValue:"platform"},{provide:nv,useValue:new Set([()=>xu=null])},...t]})}function Z2(t){let e=yA();if(!e)throw new X(401,!1);return e}function yA(){return xu?.get(gA)??null}function X2(t){t.get(Ny,null)?.forEach(n=>n())}function iv(){return!1}var pi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=J2;let t=e;return t})();function J2(t){return ej(Tt(),De(),(t&16)===16)}function ej(t,e,n){if(ch(t)&&!n){let r=li(t.index,e);return new ls(r,r)}else if(t.type&175){let r=e[Gn];return new ls(r,e)}return null}var ny=class{constructor(){}supports(e){return WT(e)}create(e){return new ry(e)}},tj=(t,e)=>e,ry=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||tj}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<qC(r,i,s)?n:r,a=qC(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,d=u-i;if(l!=d){for(let g=0;g<l;g++){let y=g<s.length?s[g]:s[g]=0,E=y+g;d<=E&&E<l&&(s[g]=y+1)}let f=o.previousIndex;s[f]=d-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!WT(e))throw new X(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,RL(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new iy(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new nh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new nh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},iy=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},sy=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},nh=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new sy,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function qC(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var oy=class{constructor(){}supports(e){return e instanceof Map||Qy(e)}create(){return new ay}},ay=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Qy(e)))throw new X(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new uy(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},uy=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function GC(){return new sv([new ny])}var sv=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||GC()),deps:[[e,new oh,new ui]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new X(901,!1)}};e.\u0275prov=q({token:e,providedIn:"root",factory:GC});let t=e;return t})();function WC(){return new ov([new oy])}var ov=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||WC()),deps:[[e,new oh,new ui]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new X(901,!1)}};e.\u0275prov=q({token:e,providedIn:"root",factory:WC});let t=e;return t})();var vA=rv(null,"core",[]),_A=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(L(fi))},e.\u0275mod=pt({type:e}),e.\u0275inj=ft({});let t=e;return t})();var wA=new z("");function ps(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Rh(t,e){Bu("NgSignals");let n=Ob(t);return e?.equal&&(n[mr].equal=e.equal),n}function Yn(t){let e=Ie(null);try{return t()}finally{Ie(e)}}function IA(t){let e=ri(t);if(!e)return null;let n=new No(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var SA=null;function Zn(){return SA}function xA(t){SA??=t}var Uh=class{};var wt=new z(""),vv=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>U(nj),providedIn:"platform"});let t=e;return t})(),MA=new z(""),nj=(()=>{let e=class e extends vv{constructor(){super(),this._doc=U(wt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zn().getBaseHref(this._doc)}onPopState(r){let i=Zn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Zn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function _v(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function EA(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Ar(t){return t&&t[0]!=="?"?"?"+t:t}var xr=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>U(wv),providedIn:"root"});let t=e;return t})(),NA=new z(""),wv=(()=>{let e=class e extends xr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??U(wt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return _v(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Ar(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Ar(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Ar(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(L(vv),L(NA,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),RA=(()=>{let e=class e extends xr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=_v(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Ar(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Ar(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(L(vv),L(NA,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),jo=(()=>{let e=class e{constructor(r){this._subject=new lt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=sj(EA(DA(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Ar(i))}normalize(r){return e.stripTrailingSlash(ij(this._basePath,DA(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ar(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ar(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Ar,e.joinWithSlash=_v,e.stripTrailingSlash=EA,e.\u0275fac=function(i){return new(i||e)(L(xr))},e.\u0275prov=q({token:e,factory:()=>rj(),providedIn:"root"});let t=e;return t})();function rj(){return new jo(L(xr))}function ij(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function DA(t){return t.replace(/\/index.html$/,"")}function sj(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var oj={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Vt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Vt||{}),Me=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Me||{}),tn=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(tn||{}),gi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function aj(t){return en(t)[Ke.LocaleId]}function uj(t,e,n){let r=en(t),i=[r[Ke.DayPeriodsFormat],r[Ke.DayPeriodsStandalone]],s=yn(i,e);return yn(s,n)}function cj(t,e,n){let r=en(t),i=[r[Ke.DaysFormat],r[Ke.DaysStandalone]],s=yn(i,e);return yn(s,n)}function lj(t,e,n){let r=en(t),i=[r[Ke.MonthsFormat],r[Ke.MonthsStandalone]],s=yn(i,e);return yn(s,n)}function dj(t,e){let r=en(t)[Ke.Eras];return yn(r,e)}function Ph(t,e){let n=en(t);return yn(n[Ke.DateFormat],e)}function kh(t,e){let n=en(t);return yn(n[Ke.TimeFormat],e)}function Oh(t,e){let r=en(t)[Ke.DateTimeFormat];return yn(r,e)}function zh(t,e){let n=en(t),r=n[Ke.NumberSymbols][e];if(typeof r>"u"){if(e===gi.CurrencyDecimal)return n[Ke.NumberSymbols][gi.Decimal];if(e===gi.CurrencyGroup)return n[Ke.NumberSymbols][gi.Group]}return r}function hj(t){return en(t)[Ke.Currencies]}function PA(t){if(!t[Ke.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ke.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function fj(t){let e=en(t);return PA(e),(e[Ke.ExtraData][2]||[]).map(r=>typeof r=="string"?uv(r):[uv(r[0]),uv(r[1])])}function pj(t,e,n){let r=en(t);PA(r);let i=[r[Ke.ExtraData][0],r[Ke.ExtraData][1]],s=yn(i,e)||[];return yn(s,n)||[]}function yn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function uv(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}function pK(t,e,n="en"){let r=hj(n)[t]||oj[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var gj=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Fh={},mj=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Sr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Sr||{}),Ce=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ce||{}),be=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(be||{});function yj(t,e,n,r){let i=Tj(t);e=Tr(n,e)||e;let o=[],a;for(;e;)if(a=mj.exec(e),a){o=o.concat(a.slice(1));let d=o.pop();if(!d)break;e=d}else{o.push(e);break}let u=i.getTimezoneOffset();r&&(u=OA(r,u),i=Cj(i,r,!0));let l="";return o.forEach(d=>{let f=Dj(d);l+=f?f(i,n,u):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function $h(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Tr(t,e){let n=aj(t);if(Fh[n]??={},Fh[n][e])return Fh[n][e];let r="";switch(e){case"shortDate":r=Ph(t,tn.Short);break;case"mediumDate":r=Ph(t,tn.Medium);break;case"longDate":r=Ph(t,tn.Long);break;case"fullDate":r=Ph(t,tn.Full);break;case"shortTime":r=kh(t,tn.Short);break;case"mediumTime":r=kh(t,tn.Medium);break;case"longTime":r=kh(t,tn.Long);break;case"fullTime":r=kh(t,tn.Full);break;case"short":let i=Tr(t,"shortTime"),s=Tr(t,"shortDate");r=Vh(Oh(t,tn.Short),[i,s]);break;case"medium":let o=Tr(t,"mediumTime"),a=Tr(t,"mediumDate");r=Vh(Oh(t,tn.Medium),[o,a]);break;case"long":let u=Tr(t,"longTime"),l=Tr(t,"longDate");r=Vh(Oh(t,tn.Long),[u,l]);break;case"full":let d=Tr(t,"fullTime"),f=Tr(t,"fullDate");r=Vh(Oh(t,tn.Full),[d,f]);break}return r&&(Fh[n][e]=r),r}function Vh(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Rn(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function vj(t,e){return Rn(t,3).substring(0,e)}function rt(t,e,n=0,r=!1,i=!1){return function(s,o){let a=_j(t,s);if((n>0||a>-n)&&(a+=n),t===Ce.Hours)a===0&&n===-12&&(a=12);else if(t===Ce.FractionalSeconds)return vj(a,e);let u=zh(o,gi.MinusSign);return Rn(a,e,u,r,i)}}function _j(t,e){switch(t){case Ce.FullYear:return e.getFullYear();case Ce.Month:return e.getMonth();case Ce.Date:return e.getDate();case Ce.Hours:return e.getHours();case Ce.Minutes:return e.getMinutes();case Ce.Seconds:return e.getSeconds();case Ce.FractionalSeconds:return e.getMilliseconds();case Ce.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Re(t,e,n=Vt.Format,r=!1){return function(i,s){return wj(i,s,t,e,n,r)}}function wj(t,e,n,r,i,s){switch(n){case be.Months:return lj(e,i,r)[t.getMonth()];case be.Days:return cj(e,i,r)[t.getDay()];case be.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let l=fj(e),d=pj(e,i,r),f=l.findIndex(g=>{if(Array.isArray(g)){let[y,E]=g,T=o>=y.hours&&a>=y.minutes,A=o<E.hours||o===E.hours&&a<E.minutes;if(y.hours<E.hours){if(T&&A)return!0}else if(T||A)return!0}else if(g.hours===o&&g.minutes===a)return!0;return!1});if(f!==-1)return d[f]}return uj(e,i,r)[o<12?0:1];case be.Eras:return dj(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function Lh(t){return function(e,n,r){let i=-1*r,s=zh(n,gi.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Sr.Short:return(i>=0?"+":"")+Rn(o,2,s)+Rn(Math.abs(i%60),2,s);case Sr.ShortGMT:return"GMT"+(i>=0?"+":"")+Rn(o,1,s);case Sr.Long:return"GMT"+(i>=0?"+":"")+Rn(o,2,s)+":"+Rn(Math.abs(i%60),2,s);case Sr.Extended:return r===0?"Z":(i>=0?"+":"")+Rn(o,2,s)+":"+Rn(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var Ij=0,Bh=4;function Ej(t){let e=$h(t,Ij,1).getDay();return $h(t,0,1+(e<=Bh?Bh:Bh+7)-e)}function kA(t){let e=t.getDay(),n=e===0?-3:Bh-e;return $h(t.getFullYear(),t.getMonth(),t.getDate()+n)}function cv(t,e=!1){return function(n,r){let i;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{let s=kA(n),o=Ej(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Rn(i,t,zh(r,gi.MinusSign))}}function jh(t,e=!1){return function(n,r){let s=kA(n).getFullYear();return Rn(s,t,zh(r,gi.MinusSign),e)}}var lv={};function Dj(t){if(lv[t])return lv[t];let e;switch(t){case"G":case"GG":case"GGG":e=Re(be.Eras,Me.Abbreviated);break;case"GGGG":e=Re(be.Eras,Me.Wide);break;case"GGGGG":e=Re(be.Eras,Me.Narrow);break;case"y":e=rt(Ce.FullYear,1,0,!1,!0);break;case"yy":e=rt(Ce.FullYear,2,0,!0,!0);break;case"yyy":e=rt(Ce.FullYear,3,0,!1,!0);break;case"yyyy":e=rt(Ce.FullYear,4,0,!1,!0);break;case"Y":e=jh(1);break;case"YY":e=jh(2,!0);break;case"YYY":e=jh(3);break;case"YYYY":e=jh(4);break;case"M":case"L":e=rt(Ce.Month,1,1);break;case"MM":case"LL":e=rt(Ce.Month,2,1);break;case"MMM":e=Re(be.Months,Me.Abbreviated);break;case"MMMM":e=Re(be.Months,Me.Wide);break;case"MMMMM":e=Re(be.Months,Me.Narrow);break;case"LLL":e=Re(be.Months,Me.Abbreviated,Vt.Standalone);break;case"LLLL":e=Re(be.Months,Me.Wide,Vt.Standalone);break;case"LLLLL":e=Re(be.Months,Me.Narrow,Vt.Standalone);break;case"w":e=cv(1);break;case"ww":e=cv(2);break;case"W":e=cv(1,!0);break;case"d":e=rt(Ce.Date,1);break;case"dd":e=rt(Ce.Date,2);break;case"c":case"cc":e=rt(Ce.Day,1);break;case"ccc":e=Re(be.Days,Me.Abbreviated,Vt.Standalone);break;case"cccc":e=Re(be.Days,Me.Wide,Vt.Standalone);break;case"ccccc":e=Re(be.Days,Me.Narrow,Vt.Standalone);break;case"cccccc":e=Re(be.Days,Me.Short,Vt.Standalone);break;case"E":case"EE":case"EEE":e=Re(be.Days,Me.Abbreviated);break;case"EEEE":e=Re(be.Days,Me.Wide);break;case"EEEEE":e=Re(be.Days,Me.Narrow);break;case"EEEEEE":e=Re(be.Days,Me.Short);break;case"a":case"aa":case"aaa":e=Re(be.DayPeriods,Me.Abbreviated);break;case"aaaa":e=Re(be.DayPeriods,Me.Wide);break;case"aaaaa":e=Re(be.DayPeriods,Me.Narrow);break;case"b":case"bb":case"bbb":e=Re(be.DayPeriods,Me.Abbreviated,Vt.Standalone,!0);break;case"bbbb":e=Re(be.DayPeriods,Me.Wide,Vt.Standalone,!0);break;case"bbbbb":e=Re(be.DayPeriods,Me.Narrow,Vt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Re(be.DayPeriods,Me.Abbreviated,Vt.Format,!0);break;case"BBBB":e=Re(be.DayPeriods,Me.Wide,Vt.Format,!0);break;case"BBBBB":e=Re(be.DayPeriods,Me.Narrow,Vt.Format,!0);break;case"h":e=rt(Ce.Hours,1,-12);break;case"hh":e=rt(Ce.Hours,2,-12);break;case"H":e=rt(Ce.Hours,1);break;case"HH":e=rt(Ce.Hours,2);break;case"m":e=rt(Ce.Minutes,1);break;case"mm":e=rt(Ce.Minutes,2);break;case"s":e=rt(Ce.Seconds,1);break;case"ss":e=rt(Ce.Seconds,2);break;case"S":e=rt(Ce.FractionalSeconds,1);break;case"SS":e=rt(Ce.FractionalSeconds,2);break;case"SSS":e=rt(Ce.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Lh(Sr.Short);break;case"ZZZZZ":e=Lh(Sr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Lh(Sr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Lh(Sr.Long);break;default:return null}return lv[t]=e,e}function OA(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function bj(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function Cj(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),s=OA(e,i);return bj(t,r*(s-i))}function Tj(t){if(bA(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,o=1]=t.split("-").map(a=>+a);return $h(i,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(gj))return Aj(r)}let e=new Date(t);if(!bA(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function Aj(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,u,l),e}function bA(t){return t instanceof Date&&!isNaN(t.valueOf())}function FA(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var dv=/\s+/,CA=[],gK=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=CA,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(dv):CA}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(dv):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(dv).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(se(Jt),se(gn))},e.\u0275dir=nt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var hv=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},mK=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new hv(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let u=i.get(o);i.move(u,a),TA(u,s)}});for(let s=0,o=i.length;s<o;s++){let u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);TA(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(se(Fo),se(Dh),se(sv))},e.\u0275dir=nt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function TA(t,e){t.context.$implicit=e.item}var yK=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new fv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){AA("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){AA("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(se(Fo),se(Dh))},e.\u0275dir=nt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),fv=class{constructor(){this.$implicit=null,this.ngIf=null}};function AA(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ot(e)}'.`)}var vK=(()=>{let e=class e{constructor(r,i,s){this._ngEl=r,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[s,o]=r.split("."),a=s.indexOf("-")===-1?void 0:Kn.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(se(Jt),se(ov),se(gn))},e.\u0275dir=nt({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})();function VA(t,e){return new X(2100,!1)}var pv=class{createSubscription(e,n){return Yn(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Yn(()=>e.unsubscribe())}},gv=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},Sj=new gv,xj=new pv,_K=(()=>{let e=class e{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(hi(r))return Sj;if(ev(r))return xj;throw VA(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(se(pi,16))},e.\u0275pipe=gy({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var Mj="mediumDate",Nj=new z(""),Rj=new z(""),wK=(()=>{let e=class e{constructor(r,i,s){this.locale=r,this.defaultTimezone=i,this.defaultOptions=s}transform(r,i,s,o){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??Mj,u=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return yj(r,a,o||this.locale,u)}catch(a){throw VA(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(se(Nh,16),se(Nj,24),se(Rj,24))},e.\u0275pipe=gy({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var LA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=pt({type:e}),e.\u0275inj=ft({});let t=e;return t})(),Iv="browser",Pj="server";function kj(t){return t===Iv}function gs(t){return t===Pj}var jA=(()=>{let e=class e{};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>kj(U(Gt))?new mv(U(wt),window):new yv});let t=e;return t})(),mv=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=Oj(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function Oj(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var yv=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Hh=class{};var bv=class extends Uh{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Cv=class t extends bv{static makeCurrent(){xA(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Lj();return n==null?null:jj(n)}resetBaseElement(){Hu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return FA(document.cookie,e)}},Hu=null;function Lj(){return Hu=Hu||document.querySelector("base"),Hu?Hu.getAttribute("href"):null}function jj(t){return new URL(t,document.baseURI).pathname}var Tv=class{addToWindow(e){Pt.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new X(5103,!1);return s},Pt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Pt.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Pt.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};Pt.frameworkStabilizers||(Pt.frameworkStabilizers=[]),Pt.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?Zn().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},Bj=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),zu=new z(""),HA=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new X(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(L(zu),L(ye))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),Bo=class{constructor(e){this._doc=e}},Ev="ng-app-id",zA=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=gs(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Ev}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Ev),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Ev,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(L(wt),L(yh),L(Ry,8),L(Gt))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),Dv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},xv=/%COMP%/g,qA="%COMP%",Uj=`_nghost-${qA}`,$j=`_ngcontent-${qA}`,Hj=!0,zj=new z("",{providedIn:"root",factory:()=>Hj});function qj(t){return $j.replace(xv,t)}function Gj(t){return Uj.replace(xv,t)}function GA(t,e){return e.map(n=>n.replace(xv,t))}var BA=(()=>{let e=class e{constructor(r,i,s,o,a,u,l,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=gs(u),this.defaultRenderer=new qu(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===zn.ShadowDom&&(i=Y(x({},i),{encapsulation:zn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof qh?s.applyToHost(r):s instanceof Gu&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case zn.Emulated:o=new qh(l,d,i,this.appId,f,a,u,g);break;case zn.ShadowDom:return new Av(l,d,r,i,a,u,this.nonce,g);default:o=new Gu(l,d,i,f,a,u,g);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(L(HA),L(zA),L(yh),L(zj),L(wt),L(Gt),L(ye),L(Ry))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),qu=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Dv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(UA(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(UA(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new X(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Dv[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Dv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Kn.DashCase|Kn.Important)?e.style.setProperty(n,r,i&Kn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Kn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Zn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function UA(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Av=class extends qu{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=GA(i.id,i.styles);for(let d of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Gu=class extends qu{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?GA(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},qh=class extends Gu{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=qj(l),this.hostAttr=Gj(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Wj=(()=>{let e=class e extends Bo{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(L(wt))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),Kj=(()=>{let e=class e extends Bo{constructor(r){super(r),this.delegate=U(wA,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(L(wt))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),$A=["alt","control","meta","shift"],Qj={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yj={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Zj=(()=>{let e=class e extends Bo{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),$A.forEach(d=>{let f=i.indexOf(d);f>-1&&(i.splice(f,1),a+=d+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=Qj[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),$A.forEach(a=>{if(a!==s){let u=Yj[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(L(wt))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();function Xj(){Cv.makeCurrent()}function Jj(){return new _r}function eB(){return cT(document),document}var tB=[{provide:Gt,useValue:Iv},{provide:Ny,useValue:Xj,multi:!0},{provide:wt,useFactory:eB,deps:[]}],BK=rv(vA,"browser",tB),nB=new z(""),rB=[{provide:$u,useClass:Tv,deps:[]},{provide:Xy,useClass:Ah,deps:[ye,Sh,$u]},{provide:Ah,useClass:Ah,deps:[ye,Sh,$u]}],iB=[{provide:ah,useValue:"root"},{provide:_r,useFactory:Jj,deps:[]},{provide:zu,useClass:Wj,multi:!0,deps:[wt,ye,Gt]},{provide:zu,useClass:Zj,multi:!0,deps:[wt]},{provide:zu,useClass:Kj,multi:!0},BA,zA,HA,{provide:Mo,useExisting:BA},{provide:Hh,useClass:Bj,deps:[]},[]],UK=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:yh,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(L(nB,12))},e.\u0275mod=pt({type:e}),e.\u0275inj=ft({providers:[...iB,...rB],imports:[LA,_A]});let t=e;return t})();var WA=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(L(wt))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var sB={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},Sv=new z("HammerGestureConfig"),KA=new z("HammerLoader"),oB=(()=>{let e=class e{constructor(){this.events=[],this.overrides={}}buildHammer(r){let i=new Hammer(r,this.options);i.get("pinch").set({enable:!0}),i.get("rotate").set({enable:!0});for(let s in this.overrides)i.get(s).set(this.overrides[s]);return i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),aB=(()=>{let e=class e extends Bo{constructor(r,i,s,o){super(r),this._config=i,this.console=s,this.loader=o,this._loaderPromise=null}supports(r){return!(!sB.hasOwnProperty(r.toLowerCase())&&!this.isCustomEvent(r)||!window.Hammer&&!this.loader)}addEventListener(r,i,s){let o=this.manager.getZone();if(i=i.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||o.runOutsideAngular(()=>this.loader());let a=!1,u=()=>{a=!0};return o.runOutsideAngular(()=>this._loaderPromise.then(()=>{if(!window.Hammer){u=()=>{};return}a||(u=this.addEventListener(r,i,s))}).catch(()=>{u=()=>{}})),()=>{u()}}return o.runOutsideAngular(()=>{let a=this._config.buildHammer(r),u=function(l){o.runGuarded(function(){s(l)})};return a.on(i,u),()=>{a.off(i,u),typeof a.destroy=="function"&&a.destroy()}})}isCustomEvent(r){return this._config.events.indexOf(r)>-1}};e.\u0275fac=function(i){return new(i||e)(L(wt),L(Sv),L(Lo),L(KA,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),$K=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=pt({type:e}),e.\u0275inj=ft({providers:[{provide:zu,useClass:aB,multi:!0,deps:[wt,Sv,Lo,[new ui,KA]]},{provide:Sv,useClass:oB,deps:[]}]});let t=e;return t})();var rS=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(se(gn),se(Jt))},e.\u0275dir=nt({type:e});let t=e;return t})(),Yh=(()=>{let e=class e extends rS{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=br(e)))(s||e)}})(),e.\u0275dir=nt({type:e,features:[Qn]});let t=e;return t})(),Xu=new z(""),cB={provide:Xu,useExisting:ai(()=>lB),multi:!0},lB=(()=>{let e=class e extends Yh{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=br(e)))(s||e)}})(),e.\u0275dir=nt({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,s){i&1&&di("change",function(a){return s.onChange(a.target.checked)})("blur",function(){return s.onTouched()})},features:[Vo([cB]),Qn]});let t=e;return t})(),dB={provide:Xu,useExisting:ai(()=>iS),multi:!0};function hB(){let t=Zn()?Zn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var fB=new z(""),iS=(()=>{let e=class e extends rS{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!hB())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(se(gn),se(Jt),se(fB,8))},e.\u0275dir=nt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&di("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Vo([dB]),Qn]});let t=e;return t})();var pB=new z(""),gB=new z("");function sS(t){return t!=null}function oS(t){return hi(t)?ue(t):t}function aS(t){let e={};return t.forEach(n=>{e=n!=null?x(x({},e),n):e}),Object.keys(e).length===0?null:e}function uS(t,e){return e.map(n=>n(t))}function mB(t){return!t.validate}function cS(t){return t.map(e=>mB(e)?e:n=>e.validate(n))}function yB(t){if(!t)return null;let e=t.filter(sS);return e.length==0?null:function(n){return aS(uS(n,e))}}function lS(t){return t!=null?yB(cS(t)):null}function vB(t){if(!t)return null;let e=t.filter(sS);return e.length==0?null:function(n){let r=uS(n,e).map(oS);return Jg(r).pipe(Z(aS))}}function dS(t){return t!=null?vB(cS(t)):null}function QA(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function _B(t){return t._rawValidators}function wB(t){return t._rawAsyncValidators}function Mv(t){return t?Array.isArray(t)?t:[t]:[]}function Wh(t,e){return Array.isArray(t)?t.includes(e):t===e}function YA(t,e){let n=Mv(e);return Mv(t).forEach(i=>{Wh(n,i)||n.push(i)}),n}function ZA(t,e){return Mv(e).filter(n=>!Wh(t,n))}var Kh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=lS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=dS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Nv=class extends Kh{get formDirective(){return null}get path(){return null}},Zu=class extends Kh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Rv=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},IB={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},sQ=Y(x({},IB),{"[class.ng-submitted]":"isSubmitted"}),oQ=(()=>{let e=class e extends Rv{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(se(Zu,2))},e.\u0275dir=nt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Th("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Qn]});let t=e;return t})();var Wu="VALID",Gh="INVALID",Uo="PENDING",Ku="DISABLED",Ho=class{},Qh=class extends Ho{constructor(e,n){super(),this.value=e,this.source=n}},Qu=class extends Ho{constructor(e,n){super(),this.pristine=e,this.source=n}},Yu=class extends Ho{constructor(e,n){super(),this.touched=e,this.source=n}},$o=class extends Ho{constructor(e,n){super(),this.status=e,this.source=n}};function EB(t){return(Zh(t)?t.validators:t)||null}function DB(t){return Array.isArray(t)?lS(t):t||null}function bB(t,e){return(Zh(e)?e.asyncValidators:t)||null}function CB(t){return Array.isArray(t)?dS(t):t||null}function Zh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Pv=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Rh(()=>this.statusReactive()),this.statusReactive=bh(void 0),this._pristine=Rh(()=>this.pristineReactive()),this.pristineReactive=bh(!0),this._touched=Rh(()=>this.touchedReactive()),this.touchedReactive=bh(!1),this._events=new Le,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Yn(this.statusReactive)}set status(e){Yn(()=>this.statusReactive.set(e))}get valid(){return this.status===Wu}get invalid(){return this.status===Gh}get pending(){return this.status==Uo}get disabled(){return this.status===Ku}get enabled(){return this.status!==Ku}get pristine(){return Yn(this.pristineReactive)}set pristine(e){Yn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Yn(this.touchedReactive)}set touched(e){Yn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(YA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(YA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ZA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ZA(e,this._rawAsyncValidators))}hasValidator(e){return Wh(this._rawValidators,e)}hasAsyncValidator(e){return Wh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Y(x({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Yu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Yu(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Y(x({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Qu(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Qu(!0,r))}markAsPending(e={}){this.status=Uo;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new $o(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Y(x({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ku,this.errors=null,this._forEachChild(i=>{i.disable(Y(x({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qh(this.value,r)),this._events.next(new $o(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Y(x({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Wu,this._forEachChild(r=>{r.enable(Y(x({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Y(x({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wu||this.status===Uo)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qh(this.value,n)),this._events.next(new $o(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Y(x({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ku:Wu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Uo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=oS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new $o(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new lt,this.statusChanges=new lt}_calculateStatus(){return this._allControlsDisabled()?Ku:this.errors?Gh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Uo)?Uo:this._anyControlsHaveStatus(Gh)?Gh:Wu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Qu(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Yu(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Zh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=DB(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=CB(this._rawAsyncValidators)}};var hS=new z("CallSetDisabledState",{providedIn:"root",factory:()=>kv}),kv="always";function TB(t,e){return[...e.path,t]}function AB(t,e,n=kv){xB(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),MB(t,e),RB(t,e),NB(t,e),SB(t,e)}function XA(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function SB(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function xB(t,e){let n=_B(t);e.validator!==null?t.setValidators(QA(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=wB(t);e.asyncValidator!==null?t.setAsyncValidators(QA(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();XA(e._rawValidators,i),XA(e._rawAsyncValidators,i)}function MB(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&fS(t,e)})}function NB(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&fS(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function fS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function RB(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function PB(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function kB(t){return Object.getPrototypeOf(t.constructor)===Yh}function OB(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===iS?n=s:kB(s)?r=s:i=s}),i||r||n||null}function JA(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function eS(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var FB=class extends Pv{constructor(e=null,n,r){super(EB(n),bB(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(eS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){JA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){JA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){eS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var VB={provide:Zu,useExisting:ai(()=>LB)},tS=Promise.resolve(),LB=(()=>{let e=class e extends Zu{constructor(r,i,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new FB,this._registered=!1,this.name="",this.update=new lt,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=OB(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),PB(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){AB(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){tS.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&ps(i);tS.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?TB(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(se(Nv,9),se(pB,10),se(gB,10),se(Xu,10),se(pi,8),se(hS,8))},e.\u0275dir=nt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Vo([VB]),Qn,ci]});let t=e;return t})();var jB={provide:Xu,useExisting:ai(()=>gS),multi:!0};function pS(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function BB(t){return t.split(":")[0]}var gS=(()=>{let e=class e extends Yh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),s=pS(i,r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=BB(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=br(e)))(s||e)}})(),e.\u0275dir=nt({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&di("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Vo([jB]),Qn]});let t=e;return t})(),uQ=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(pS(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(se(Jt),se(gn),se(gS,9))},e.\u0275dir=nt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),UB={provide:Xu,useExisting:ai(()=>mS),multi:!0};function nS(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function $B(t){return t.split(":")[0]}var mS=(()=>{let e=class e extends Yh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let u=0;u<a.length;u++){let l=a[u],d=this._getOptionValue(l.value);s.push(d)}}else{let a=i.options;for(let u=0;u<a.length;u++){let l=a[u];if(l.selected){let d=this._getOptionValue(l.value);s.push(d)}}}this.value=s,r(s)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=$B(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=br(e)))(s||e)}})(),e.\u0275dir=nt({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&di("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Vo([UB]),Qn]});let t=e;return t})(),cQ=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(nS(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(nS(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(se(Jt),se(gn),se(mS,9))},e.\u0275dir=nt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var HB=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=pt({type:e}),e.\u0275inj=ft({});let t=e;return t})();var lQ=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:hS,useValue:r.callSetDisabledState??kv}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=pt({type:e}),e.\u0275inj=ft({imports:[HB]});let t=e;return t})();var ce="primary",hc=Symbol("RouteTitle"),jv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Qo(t){return new jv(t)}function zB(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function qB(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Xn(t[n],e[n]))return!1;return!0}function Xn(t,e){let n=t?Bv(t):void 0,r=e?Bv(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!AS(t[i],e[i]))return!1;return!0}function Bv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function AS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function SS(t){return t.length>0?t[t.length-1]:null}function vi(t){return Xg(t)?t:hi(t)?ue(Promise.resolve(t)):K(t)}var GB={exact:MS,subset:NS},xS={exact:WB,subset:KB,ignored:()=>!0};function yS(t,e,n){return GB[n.paths](t.root,e.root,n.matrixParams)&&xS[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function WB(t,e){return Xn(t,e)}function MS(t,e,n){if(!ys(t.segments,e.segments)||!ef(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!MS(t.children[r],e.children[r],n))return!1;return!0}function KB(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>AS(t[n],e[n]))}function NS(t,e,n){return RS(t,e,e.segments,n)}function RS(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ys(i,n)||e.hasChildren()||!ef(i,n,r))}else if(t.segments.length===n.length){if(!ys(t.segments,n)||!ef(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!NS(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ys(t.segments,i)||!ef(t.segments,i,r)||!t.children[ce]?!1:RS(t.children[ce],e,s,r)}}function ef(t,e,n){return e.every((r,i)=>xS[n](t[i].parameters,r.parameters))}var Nr=class{constructor(e=new Te([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Qo(this.queryParams),this._queryParamMap}toString(){return ZB.serialize(this)}},Te=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tf(this)}},ms=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Qo(this.parameters),this._parameterMap}toString(){return kS(this)}};function QB(t,e){return ys(t,e)&&t.every((n,r)=>Xn(n.parameters,e[r].parameters))}function ys(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function YB(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ce&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ce&&(n=n.concat(e(i,r)))}),n}var fc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>new Yo,providedIn:"root"});let t=e;return t})(),Yo=class{parse(e){let n=new $v(e);return new Nr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ju(e.root,!0)}`,r=eU(e.queryParams),i=typeof e.fragment=="string"?`#${XB(e.fragment)}`:"";return`${n}${r}${i}`}},ZB=new Yo;function tf(t){return t.segments.map(e=>kS(e)).join("/")}function Ju(t,e){if(!t.hasChildren())return tf(t);if(e){let n=t.children[ce]?Ju(t.children[ce],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ce&&r.push(`${i}:${Ju(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=YB(t,(r,i)=>i===ce?[Ju(t.children[ce],!1)]:[`${i}:${Ju(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ce]!=null?`${tf(t)}/${n[0]}`:`${tf(t)}/(${n.join("//")})`}}function PS(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xh(t){return PS(t).replace(/%3B/gi,";")}function XB(t){return encodeURI(t)}function Uv(t){return PS(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nf(t){return decodeURIComponent(t)}function vS(t){return nf(t.replace(/\+/g,"%20"))}function kS(t){return`${Uv(t.path)}${JB(t.parameters)}`}function JB(t){return Object.entries(t).map(([e,n])=>`;${Uv(e)}=${Uv(n)}`).join("")}function eU(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Xh(n)}=${Xh(i)}`).join("&"):`${Xh(n)}=${Xh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var tU=/^[^\/()?;#]+/;function Ov(t){let e=t.match(tU);return e?e[0]:""}var nU=/^[^\/()?;=#]+/;function rU(t){let e=t.match(nU);return e?e[0]:""}var iU=/^[^=?&#]+/;function sU(t){let e=t.match(iU);return e?e[0]:""}var oU=/^[^&#]+/;function aU(t){let e=t.match(oU);return e?e[0]:""}var $v=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ce]=new Te(e,n)),r}parseSegment(){let e=Ov(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new X(4009,!1);return this.capture(e),new ms(nf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=rU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Ov(this.remaining);i&&(r=i,this.capture(r))}e[nf(n)]=nf(r)}parseQueryParam(e){let n=sU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=aU(this.remaining);o&&(r=o,this.capture(r))}let i=vS(n),s=vS(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ov(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new X(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ce);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ce]:new Te([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new X(4011,!1)}};function OS(t){return t.segments.length>0?new Te([],{[ce]:t}):t}function FS(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=FS(i);if(r===ce&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Te(t.segments,e);return uU(n)}function uU(t){if(t.numberOfChildren===1&&t.children[ce]){let e=t.children[ce];return new Te(t.segments.concat(e.segments),e.children)}return t}function vs(t){return t instanceof Nr}function cU(t,e,n=null,r=null){let i=VS(t);return LS(i,e,n,r)}function VS(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new Te(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=OS(r);return e??i}function LS(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Fv(i,i,i,n,r);let s=lU(e);if(s.toRoot())return Fv(i,i,new Te([],{}),n,r);let o=dU(s,i,t),a=o.processChildren?nc(o.segmentGroup,o.index,s.commands):BS(o.segmentGroup,o.index,s.commands);return Fv(i,o.segmentGroup,a,n,r)}function rf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function sc(t){return typeof t=="object"&&t!=null&&t.outlets}function Fv(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let o;t===e?o=n:o=jS(t,e,n);let a=OS(FS(o));return new Nr(a,s,i)}function jS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=jS(s,e,n)}),new Te(t.segments,r)}var sf=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&rf(r[0]))throw new X(4003,!1);let i=r.find(sc);if(i&&i!==SS(r))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function lU(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new sf(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new sf(n,e,r)}var Go=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function dU(t,e,n){if(t.isAbsolute)return new Go(e,!0,0);if(!n)return new Go(e,!1,NaN);if(n.parent===null)return new Go(n,!0,0);let r=rf(t.commands[0])?0:1,i=n.segments.length-1+r;return hU(n,i,t.numberOfDoubleDots)}function hU(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new X(4005,!1);i=r.segments.length}return new Go(r,!1,i-s)}function fU(t){return sc(t[0])?t[0].outlets:{[ce]:t}}function BS(t,e,n){if(t??=new Te([],{}),t.segments.length===0&&t.hasChildren())return nc(t,e,n);let r=pU(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Te(t.segments.slice(0,r.pathIndex),{});return s.children[ce]=new Te(t.segments.slice(r.pathIndex),t.children),nc(s,0,i)}else return r.match&&i.length===0?new Te(t.segments,{}):r.match&&!t.hasChildren()?Hv(t,e,n):r.match?nc(t,0,i):Hv(t,e,n)}function nc(t,e,n){if(n.length===0)return new Te(t.segments,{});{let r=fU(n),i={};if(Object.keys(r).some(s=>s!==ce)&&t.children[ce]&&t.numberOfChildren===1&&t.children[ce].segments.length===0){let s=nc(t.children[ce],e,n);return new Te(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=BS(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Te(t.segments,i)}}function pU(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(sc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!wS(u,l,o))return s;r+=2}else{if(!wS(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Hv(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(sc(s)){let u=gU(s.outlets);return new Te(r,u)}if(i===0&&rf(n[0])){let u=t.segments[e];r.push(new ms(u.path,_S(n[0]))),i++;continue}let o=sc(s)?s.outlets[ce]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&rf(a)?(r.push(new ms(o,_S(a))),i+=2):(r.push(new ms(o,{})),i++)}return new Te(r,{})}function gU(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Hv(new Te([],{}),0,r))}),e}function _S(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function wS(t,e,n){return t==n.path&&Xn(e,n.parameters)}var rc="imperative",gt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(gt||{}),vn=class{constructor(e,n){this.id=e,this.url=n}},Zo=class extends vn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=gt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Jn=class extends vn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=gt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},rn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(rn||{}),of=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(of||{}),Mr=class extends vn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=gt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},mi=class extends vn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=gt.NavigationSkipped}},oc=class extends vn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=gt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},af=class extends vn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=gt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zv=class extends vn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=gt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qv=class extends vn{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=gt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Gv=class extends vn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=gt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wv=class extends vn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=gt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kv=class{constructor(e){this.route=e,this.type=gt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Qv=class{constructor(e){this.route=e,this.type=gt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Yv=class{constructor(e){this.snapshot=e,this.type=gt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zv=class{constructor(e){this.snapshot=e,this.type=gt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xv=class{constructor(e){this.snapshot=e,this.type=gt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jv=class{constructor(e){this.snapshot=e,this.type=gt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uf=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=gt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ac=class{},Xo=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function mU(t,e){return t.providers&&!t._injector&&(t._injector=Ch(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Pn(t){return t.outlet||ce}function yU(t,e){let n=t.filter(r=>Pn(r)===e);return n.push(...t.filter(r=>Pn(r)!==e)),n}function pc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var e_=class{get injector(){return pc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new gc(this.rootInjector),this.attachRef=null}},gc=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new e_(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(L(Yt))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=t_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=t_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=n_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return n_(e,this._root).map(n=>n.value)}};function t_(t,e){if(t===e.value)return e;for(let n of e.children){let r=t_(t,n);if(r)return r}return null}function n_(t,e){if(t===e.value)return[e];for(let n of e.children){let r=n_(t,n);if(r.length)return r.unshift(e),r}return[]}var nn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function qo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var lf=class extends cf{constructor(e,n){super(e),this.snapshot=n,d_(this,e)}toString(){return this.snapshot.toString()}};function US(t){let e=vU(t),n=new yt([new ms("",{})]),r=new yt({}),i=new yt({}),s=new yt({}),o=new yt(""),a=new _s(n,r,s,o,i,ce,t,e.root);return a.snapshot=e.root,new lf(new nn(a,[]),e)}function vU(t){let e={},n={},r={},i="",s=new Wo([],e,r,i,n,ce,t,null,{});return new hf("",new nn(s,[]))}var _s=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Z(l=>l[hc]))??K(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(e=>Qo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(e=>Qo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function df(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:x(x({},e.params),t.params),data:x(x({},e.data),t.data),resolve:x(x(x(x({},t.data),e.data),i?.data),t._resolvedData)}:r={params:x({},t.params),data:x({},t.data),resolve:x(x({},t.data),t._resolvedData??{})},i&&HS(i)&&(r.resolve[hc]=i.title),r}var Wo=class{get title(){return this.data?.[hc]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Qo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Qo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},hf=class extends cf{constructor(e,n){super(n),this.url=e,d_(this,n)}toString(){return $S(this._root)}};function d_(t,e){e.value._routerState=t,e.children.forEach(n=>d_(t,n))}function $S(t){let e=t.children.length>0?` { ${t.children.map($S).join(", ")} } `:"";return`${t.value}${e}`}function Vv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Xn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Xn(e.params,n.params)||t.paramsSubject.next(n.params),qB(e.url,n.url)||t.urlSubject.next(n.url),Xn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function r_(t,e){let n=Xn(t.params,e.params)&&QB(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||r_(t.parent,e.parent))}function HS(t){return typeof t.title=="string"||t.title===null}var _U=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new lt,this.deactivateEvents=new lt,this.attachEvents=new lt,this.detachEvents=new lt,this.parentContexts=U(gc),this.location=U(Fo),this.changeDetector=U(pi),this.inputBinder=U(yf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new X(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new i_(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=nt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ci]});let t=e;return t})(),i_=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===_s?this.route:e===gc?this.childContexts:this.parent.get(e,n)}},yf=new z(""),IS=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=bu([i.queryParams,i.params,i.data]).pipe(He(([o,a,u],l)=>(u=x(x(x({},o),a),u),l===0?K(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=IA(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();function wU(t,e,n){let r=uc(t,e._root,n?n._root:void 0);return new lf(r,e)}function uc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=IU(t,e,n);return new nn(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>uc(t,a)),o}}let r=EU(e.value),i=e.children.map(s=>uc(t,s));return new nn(r,i)}}function IU(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return uc(t,r,i);return uc(t,r)})}function EU(t){return new _s(new yt(t.url),new yt(t.params),new yt(t.queryParams),new yt(t.fragment),new yt(t.data),t.outlet,t.component,t)}var cc=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},zS="ngNavigationCancelingError";function ff(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=vs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=qS(!1,rn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function qS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[zS]=!0,n.cancellationCode=e,n}function DU(t){return GS(t)&&vs(t.url)}function GS(t){return!!t&&t[zS]}var bU=(t,e,n,r)=>Z(i=>(new s_(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),s_=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Vv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=qo(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=qo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=qo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=qo(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Jv(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Zv(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Vv(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Vv(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},pf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ko=class{constructor(e,n){this.component=e,this.route=n}};function CU(t,e,n){let r=t._root,i=e?e._root:null;return ec(r,i,n,[r.value])}function TU(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ea(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!ZC(t)?t:e.get(t):r}function ec(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=qo(e);return t.children.forEach(o=>{AU(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ic(a,n.getContext(o),i)),i}function AU(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=SU(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new pf(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ec(t,e,a?a.children:null,r,i):ec(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ko(a.outlet.component,o))}else o&&ic(e,a,i),i.canActivateChecks.push(new pf(r)),s.component?ec(t,null,a?a.children:null,r,i):ec(t,null,n,r,i);return i}function SU(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ys(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ys(t.url,e.url)||!Xn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!r_(t,e)||!Xn(t.queryParams,e.queryParams);case"paramsChange":default:return!r_(t,e)}}function ic(t,e,n){let r=qo(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ic(o,e.children.getContext(s),n):ic(o,null,n):ic(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ko(e.outlet.component,i)):n.canDeactivateChecks.push(new Ko(null,i)):n.canDeactivateChecks.push(new Ko(null,i))}function mc(t){return typeof t=="function"}function xU(t){return typeof t=="boolean"}function MU(t){return t&&mc(t.canLoad)}function NU(t){return t&&mc(t.canActivate)}function RU(t){return t&&mc(t.canActivateChild)}function PU(t){return t&&mc(t.canDeactivate)}function kU(t){return t&&mc(t.canMatch)}function WS(t){return t instanceof vr||t?.name==="EmptyError"}var Jh=Symbol("INITIAL_VALUE");function Jo(){return He(t=>bu(t.map(e=>e.pipe(Un(1),ts(Jh)))).pipe(Z(e=>{for(let n of e)if(n!==!0){if(n===Jh)return Jh;if(n===!1||OU(n))return n}return!0}),vt(e=>e!==Jh),Un(1)))}function OU(t){return vs(t)||t instanceof cc}function FU(t,e){return tt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?K(Y(x({},n),{guardsResult:!0})):VU(o,r,i,t).pipe(tt(a=>a&&xU(a)?LU(r,s,t,e):K(a)),Z(a=>Y(x({},n),{guardsResult:a})))})}function VU(t,e,n,r){return ue(t).pipe(tt(i=>HU(i.component,i.route,n,e,r)),dn(i=>i!==!0,!0))}function LU(t,e,n,r){return ue(e).pipe(Ji(i=>fo(BU(i.route.parent,r),jU(i.route,r),$U(t,i.path,n),UU(t,i.route,n))),dn(i=>i!==!0,!0))}function jU(t,e){return t!==null&&e&&e(new Xv(t)),K(!0)}function BU(t,e){return t!==null&&e&&e(new Yv(t)),K(!0)}function UU(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(s=>pd(()=>{let o=pc(e)??n,a=ea(s,o),u=NU(a)?a.canActivate(e,t):Mn(o,()=>a(e,t));return vi(u).pipe(dn())}));return K(i).pipe(Jo())}function $U(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>TU(o)).filter(o=>o!==null).map(o=>pd(()=>{let a=o.guards.map(u=>{let l=pc(o.node)??n,d=ea(u,l),f=RU(d)?d.canActivateChild(r,t):Mn(l,()=>d(r,t));return vi(f).pipe(dn())});return K(a).pipe(Jo())}));return K(s).pipe(Jo())}function HU(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return K(!0);let o=s.map(a=>{let u=pc(e)??i,l=ea(a,u),d=PU(l)?l.canDeactivate(t,e,n,r):Mn(u,()=>l(t,e,n,r));return vi(d).pipe(dn())});return K(o).pipe(Jo())}function zU(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return K(!0);let s=i.map(o=>{let a=ea(o,t),u=MU(a)?a.canLoad(e,n):Mn(t,()=>a(e,n));return vi(u)});return K(s).pipe(Jo(),KS(r))}function KS(t){return Gg(We(e=>{if(typeof e!="boolean")throw ff(t,e)}),Z(e=>e===!0))}function qU(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return K(!0);let s=i.map(o=>{let a=ea(o,t),u=kU(a)?a.canMatch(e,n):Mn(t,()=>a(e,n));return vi(u)});return K(s).pipe(Jo(),KS(r))}var lc=class{constructor(e){this.segmentGroup=e||null}},dc=class extends Error{constructor(e){super(),this.urlTree=e}};function zo(t){return ho(new lc(t))}function GU(t){return ho(new X(4e3,!1))}function WU(t){return ho(qS(!1,rn.GuardRejected))}var o_=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[ce])return GU(`${e.redirectTo}`);i=i.children[ce]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:d,url:f,outlet:g,params:y,data:E,title:T}=i,A=Mn(s,()=>a({params:y,data:E,queryParams:u,fragment:l,routeConfig:d,url:f,outlet:g,title:T}));if(A instanceof Nr)throw new dc(A);n=A}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new dc(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Nr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Te(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new X(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},a_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function KU(t,e,n,r,i){let s=h_(t,e,n);return s.matched?(r=mU(e,r),qU(r,e,n,i).pipe(Z(o=>o===!0?s:x({},a_)))):K(s)}function h_(t,e,n){if(e.path==="**")return QU(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?x({},a_):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||zB)(n,t,e);if(!i)return x({},a_);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?x(x({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function QU(t){return{matched:!0,parameters:t.length>0?SS(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ES(t,e,n,r){return n.length>0&&XU(t,n,r)?{segmentGroup:new Te(e,ZU(r,new Te(n,t.children))),slicedSegments:[]}:n.length===0&&JU(t,n,r)?{segmentGroup:new Te(t.segments,YU(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Te(t.segments,t.children),slicedSegments:n}}function YU(t,e,n,r){let i={};for(let s of n)if(vf(t,e,s)&&!r[Pn(s)]){let o=new Te([],{});i[Pn(s)]=o}return x(x({},r),i)}function ZU(t,e){let n={};n[ce]=e;for(let r of t)if(r.path===""&&Pn(r)!==ce){let i=new Te([],{});n[Pn(r)]=i}return n}function XU(t,e,n){return n.some(r=>vf(t,e,r)&&Pn(r)!==ce)}function JU(t,e,n){return n.some(r=>vf(t,e,r))}function vf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function e$(t,e,n,r){return Pn(t)!==r&&(r===ce||!vf(e,n,t))?!1:h_(e,t,n).matched}function t$(t,e,n){return e.length===0&&!t.children[n]}var u_=class{};function n$(t,e,n,r,i,s,o="emptyOnly"){return new c_(t,e,n,r,i,o,s).recognize()}var r$=31,c_=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new o_(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new X(4002,`'${e.segmentGroup}'`)}recognize(){let e=ES(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Z(({children:n,rootSnapshot:r})=>{let i=new nn(r,n),s=new hf("",i),o=cU(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Wo([],Object.freeze({}),Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ce,n).pipe(Z(r=>({children:r,rootSnapshot:n})),Zr(r=>{if(r instanceof dc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof lc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(Z(o=>o instanceof nn?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return ue(s).pipe(Ji(o=>{let a=r.children[o],u=yU(n,o);return this.processSegmentGroup(e,u,a,o,i)}),es((o,a)=>(o.push(...a),o)),Xr(null),rm(),tt(o=>{if(o===null)return zo(r);let a=QS(o);return i$(a),K(a)}))}processSegment(e,n,r,i,s,o,a){return ue(n).pipe(Ji(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(Zr(l=>{if(l instanceof lc)return K(null);throw l}))),dn(u=>!!u),Zr(u=>{if(WS(u))return t$(r,i,s)?K(new u_):zo(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return e$(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):zo(i):zo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:d,positionalParamSegments:f,remainingSegments:g}=h_(n,i,s);if(!u)return zo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>r$&&(this.allowRedirects=!1));let y=new Wo(s,l,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,DS(i),Pn(i),i.component??i._loadedComponent??null,i,bS(i)),E=df(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(E.params),y.data=Object.freeze(E.data);let T=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,y,e);return this.applyRedirects.lineralizeSegments(i,T).pipe(tt(A=>this.processSegment(e,r,n,A.concat(g),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=KU(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(He(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(He(({routes:l})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:g,remainingSegments:y}=u,E=new Wo(g,f,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,DS(r),Pn(r),r.component??r._loadedComponent??null,r,bS(r)),T=df(E,o,this.paramsInheritanceStrategy);E.params=Object.freeze(T.params),E.data=Object.freeze(T.data);let{segmentGroup:A,slicedSegments:V}=ES(n,g,y,l);if(V.length===0&&A.hasChildren())return this.processChildren(d,l,A,E).pipe(Z(k=>new nn(E,k)));if(l.length===0&&V.length===0)return K(new nn(E,[]));let j=Pn(r)===s;return this.processSegment(d,l,A,V,j?ce:s,!0,E).pipe(Z(k=>new nn(E,k instanceof nn?[k]:[])))}))):zo(n)))}getChildConfig(e,n,r){return n.children?K({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?K({routes:n._loadedRoutes,injector:n._loadedInjector}):zU(e,n,r,this.urlSerializer).pipe(tt(i=>i?this.configLoader.loadChildren(e,n).pipe(We(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):WU(n))):K({routes:[],injector:e})}};function i$(t){t.sort((e,n)=>e.value.outlet===ce?-1:n.value.outlet===ce?1:e.value.outlet.localeCompare(n.value.outlet))}function s$(t){let e=t.value.routeConfig;return e&&e.path===""}function QS(t){let e=[],n=new Set;for(let r of t){if(!s$(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=QS(r.children);e.push(new nn(r.value,i))}return e.filter(r=>!n.has(r))}function DS(t){return t.data||{}}function bS(t){return t.resolve||{}}function o$(t,e,n,r,i,s){return tt(o=>n$(t,e,n,r,o.extractedUrl,i,s).pipe(Z(({state:a,tree:u})=>Y(x({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function a$(t,e){return tt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return K(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of YS(u))o.add(l);let a=0;return ue(o).pipe(Ji(u=>s.has(u)?u$(u,r,t,e):(u.data=df(u,u.parent,t).resolve,K(void 0))),We(()=>a++),po(1),tt(u=>a===o.size?K(n):Rt))})}function YS(t){let e=t.children.map(n=>YS(n)).flat();return[t,...e]}function u$(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!HS(i)&&(s[hc]=i.title),c$(s,t,e,r).pipe(Z(o=>(t._resolvedData=o,t.data=df(t,t.parent,n).resolve,null)))}function c$(t,e,n,r){let i=Bv(t);if(i.length===0)return K({});let s={};return ue(i).pipe(tt(o=>l$(t[o],e,n,r).pipe(dn(),We(a=>{if(a instanceof cc)throw ff(new Yo,a);s[o]=a}))),po(1),tm(s),Zr(o=>WS(o)?Rt:ho(o)))}function l$(t,e,n,r){let i=pc(e)??r,s=ea(t,i),o=s.resolve?s.resolve(e,n):Mn(i,()=>s(e,n));return vi(o)}function Lv(t){return He(e=>{let n=t(e);return n?ue(n).pipe(Z(()=>e)):K(e)})}var ZS=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ce);return i}getResolvedTitleForRoute(r){return r.data[hc]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>U(d$),providedIn:"root"});let t=e;return t})(),d$=(()=>{let e=class e extends ZS{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(L(WA))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yc=new z("",{providedIn:"root",factory:()=>({})}),h$=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=py({type:e,selectors:[["ng-component"]],standalone:!0,features:[Zy],decls:1,vars:0,template:function(i,s){i&1&&Yy(0,"router-outlet")},dependencies:[_U],encapsulation:2});let t=e;return t})();function f_(t){let e=t.children&&t.children.map(f_),n=e?Y(x({},t),{children:e}):x({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=h$),n}var gf=new z(""),p_=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=U(Mh)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return K(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=vi(r.loadComponent()).pipe(Z(XS),We(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Cu(()=>{this.componentLoaders.delete(r)})),s=new ao(i,()=>new Le).pipe(oo());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return K({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=f$(i,this.compiler,r,this.onLoadEndListener).pipe(Cu(()=>{this.childrenLoaders.delete(i)})),a=new ao(o,()=>new Le).pipe(oo());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function f$(t,e,n,r){return vi(t.loadChildren()).pipe(Z(XS),tt(i=>i instanceof Ou||Array.isArray(i)?K(i):ue(e.compileModuleAsync(i))),Z(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(gf,[],{optional:!0,self:!0}).flat()),{routes:o.map(f_),injector:s}}))}function p$(t){return t&&typeof t=="object"&&"default"in t}function XS(t){return p$(t)?t.default:t}var g_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>U(g$),providedIn:"root"});let t=e;return t})(),g$=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JS=new z(""),ex=new z("");function m$(t,e,n){let r=t.get(ex),i=t.get(wt);return t.get(ye).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),y$(t))),{onViewTransitionCreated:u}=r;return u&&Mn(t,()=>u({transition:a,from:e,to:n})),o})}function y$(t){return new Promise(e=>{Gy({read:()=>setTimeout(e)},{injector:t})})}var v$=new z(""),m_=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Le,this.transitionAbortSubject=new Le,this.configLoader=U(p_),this.environmentInjector=U(Yt),this.urlSerializer=U(fc),this.rootContexts=U(gc),this.location=U(jo),this.inputBindingEnabled=U(yf,{optional:!0})!==null,this.titleStrategy=U(ZS),this.options=U(yc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=U(g_),this.createViewTransition=U(JS,{optional:!0}),this.navigationErrorHandler=U(v$,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>K(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Kv(s)),i=s=>this.events.next(new Qv(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Y(x(x({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new yt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:rc,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vt(o=>o.id!==0),Z(o=>Y(x({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),He(o=>{let a=!1,u=!1;return K(o).pipe(He(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",rn.SupersededByNewNavigation),Rt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Y(x({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&f!=="reload"){let g="";return this.events.next(new mi(l.id,this.urlSerializer.serialize(l.rawUrl),g,of.IgnoredSameUrlNavigation)),l.resolve(!1),Rt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return K(l).pipe(He(g=>{let y=this.transitions?.getValue();return this.events.next(new Zo(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),y!==this.transitions?.getValue()?Rt:Promise.resolve(g)}),o$(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),We(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=Y(x({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let y=new af(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(y)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:g,extractedUrl:y,source:E,restoredState:T,extras:A}=l,V=new Zo(g,this.urlSerializer.serialize(y),E,T);this.events.next(V);let j=US(this.rootComponentType).snapshot;return this.currentTransition=o=Y(x({},l),{targetSnapshot:j,urlAfterRedirects:y,extras:Y(x({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,K(o)}else{let g="";return this.events.next(new mi(l.id,this.urlSerializer.serialize(l.extractedUrl),g,of.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Rt}}),We(l=>{let d=new zv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Z(l=>(this.currentTransition=o=Y(x({},l),{guards:CU(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),FU(this.environmentInjector,l=>this.events.next(l)),We(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw ff(this.urlSerializer,l.guardsResult);let d=new qv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),vt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",rn.GuardRejected),!1)),Lv(l=>{if(l.guards.canActivateChecks.length)return K(l).pipe(We(d=>{let f=new Gv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),He(d=>{let f=!1;return K(d).pipe(a$(this.paramsInheritanceStrategy,this.environmentInjector),We({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",rn.NoDataFromResolver)}}))}),We(d=>{let f=new Wv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),Lv(l=>{let d=f=>{let g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(We(y=>{f.component=y}),Z(()=>{})));for(let y of f.children)g.push(...d(y));return g};return bu(d(l.targetSnapshot.root)).pipe(Xr(null),Un(1))}),Lv(()=>this.afterPreactivation()),He(()=>{let{currentSnapshot:l,targetSnapshot:d}=o,f=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return f?ue(f).pipe(Z(()=>o)):K(o)}),Z(l=>{let d=wU(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=Y(x({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),We(()=>{this.events.next(new ac)}),bU(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Un(1),We({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),vd(this.transitionAbortSubject.pipe(We(l=>{throw l}))),Cu(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",rn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Zr(l=>{if(u=!0,GS(l))this.events.next(new Mr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),DU(l)?this.events.next(new Xo(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let d=new oc(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let f=Mn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof cc){let{message:g,cancellationCode:y}=ff(this.urlSerializer,f);this.events.next(new Mr(o.id,this.urlSerializer.serialize(o.extractedUrl),g,y)),this.events.next(new Xo(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(d);let g=r.errorHandler(l);o.resolve(!!g)}}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return Rt}))}))}cancelNavigationTransition(r,i,s){let o=new Mr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _$(t){return t!==rc}var w$=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>U(I$),providedIn:"root"});let t=e;return t})(),l_=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},I$=(()=>{let e=class e extends l_{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=br(e)))(s||e)}})(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>U(E$),providedIn:"root"});let t=e;return t})(),E$=(()=>{let e=class e extends tx{constructor(){super(...arguments),this.location=U(jo),this.urlSerializer=U(fc),this.options=U(yc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=U(g_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Nr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=US(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Zo)this.stateMemento=this.createStateMemento();else if(r instanceof mi)this.rawUrlTree=i.initialUrl;else if(r instanceof af){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof ac?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Mr&&(r.code===rn.GuardRejected||r.code===rn.NoDataFromResolver)?this.restoreHistory(i):r instanceof oc?this.restoreHistory(i,!0):r instanceof Jn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof Nr?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=x(x({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=x(x({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=br(e)))(s||e)}})(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(tc||{});function nx(t,e){t.events.pipe(vt(n=>n instanceof Jn||n instanceof Mr||n instanceof oc||n instanceof mi),Z(n=>n instanceof Jn||n instanceof mi?tc.COMPLETE:(n instanceof Mr?n.code===rn.Redirect||n.code===rn.SupersededByNewNavigation:!1)?tc.REDIRECTING:tc.FAILED),vt(n=>n!==tc.REDIRECTING),Un(1)).subscribe(()=>{e()})}function D$(t){throw t}var b$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},C$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},yi=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=U(Lo),this.stateManager=U(tx),this.options=U(yc,{optional:!0})||{},this.pendingTasks=U(ko),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=U(m_),this.urlSerializer=U(fc),this.location=U(jo),this.urlHandlingStrategy=U(g_),this._events=new Le,this.errorHandler=this.options.errorHandler||D$,this.navigated=!1,this.routeReuseStrategy=U(w$),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=U(gf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!U(yf,{optional:!0}),this.eventsSubscription=new Ge,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Mr&&i.code!==rn.Redirect&&i.code!==rn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Jn)this.navigated=!0;else if(i instanceof Xo){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=x({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||_$(s.source)},a);this.scheduleNavigation(u,rc,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}A$(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),rc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=x({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(f_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,d=l?this.currentUrlTree.fragment:a,f=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":f=x(x({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let y=s?s.snapshot:this.routerState.snapshot.root;g=VS(y)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),g=this.currentUrlTree.root}return LS(g,r,f,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=vs(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,rc,null,i)}navigate(r,i={skipLocationChange:!1}){return T$(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=x({},b$):i===!1?s=x({},C$):s=i,vs(r))return yS(this.currentUrlTree,r,s);let o=this.parseUrl(r);return yS(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,l,d;a?(u=a.resolve,l=a.reject,d=a.promise):d=new Promise((g,y)=>{u=g,l=y});let f=this.pendingTasks.add();return nx(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function T$(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new X(4008,!1)}function A$(t){return!(t instanceof ac)&&!(t instanceof Xo)}var RQ=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.onChanges=new Le,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(d=>{d instanceof Jn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(vs(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:hT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:vs(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(se(yi),se(_s),Ay("tabindex"),se(gn),se(Jt),se(xr))},e.\u0275dir=nt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&di("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Uu("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ps],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ps],replaceUrl:[2,"replaceUrl","replaceUrl",ps],routerLink:"routerLink"},standalone:!0,features:[Ky,ci]});let t=e;return t})();var mf=class{};var S$=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(vt(r=>r instanceof Jn),Ji(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Ch(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return ue(s).pipe(Yr())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=K(null);let o=s.pipe(tt(a=>a===null?K(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return ue([o,a]).pipe(Yr())}else return o})}};e.\u0275fac=function(i){return new(i||e)(L(yi),L(Mh),L(Yt),L(mf),L(p_))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rx=new z(""),x$=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Zo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Jn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof mi&&r.code===of.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof uf&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new uf(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){CT()},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();function M$(t){return t.routerState.root}function vc(t,e){return{\u0275kind:t,\u0275providers:e}}function N$(){let t=U(Xt);return e=>{let n=t.get(fi);if(e!==n.components[0])return;let r=t.get(yi),i=t.get(ix);t.get(y_)===1&&r.initialNavigation(),t.get(sx,null,he.Optional)?.setUpPreloading(),t.get(rx,null,he.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var ix=new z("",{factory:()=>new Le}),y_=new z("",{providedIn:"root",factory:()=>1});function R$(){return vc(2,[{provide:y_,useValue:0},{provide:xh,multi:!0,deps:[Xt],useFactory:e=>{let n=e.get(MA,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(yi),s=e.get(ix);nx(i,()=>{r(!0)}),e.get(m_).afterPreactivation=()=>(r(!0),s.closed?K(void 0):s),i.initialNavigation()}))}}])}function P$(){return vc(3,[{provide:xh,multi:!0,useFactory:()=>{let e=U(yi);return()=>{e.setUpLocationChangeListener()}}},{provide:y_,useValue:2}])}var sx=new z("");function k$(t){return vc(0,[{provide:sx,useExisting:S$},{provide:mf,useExisting:t}])}function O$(){return vc(8,[IS,{provide:yf,useExisting:IS}])}function F$(t){let e=[{provide:JS,useValue:m$},{provide:ex,useValue:x({skipNextTransition:!!t?.skipInitialTransition},t)}];return vc(9,e)}var CS=new z("ROUTER_FORROOT_GUARD"),V$=[jo,{provide:fc,useClass:Yo},yi,gc,{provide:_s,useFactory:M$,deps:[yi]},p_,[]],PQ=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[V$,[],{provide:gf,multi:!0,useValue:r},{provide:CS,useFactory:U$,deps:[[yi,new ui,new oh]]},{provide:yc,useValue:i||{}},i?.useHash?j$():B$(),L$(),i?.preloadingStrategy?k$(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?$$(i):[],i?.bindToComponentInputs?O$().\u0275providers:[],i?.enableViewTransitions?F$().\u0275providers:[],H$()]}}static forChild(r){return{ngModule:e,providers:[{provide:gf,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(L(CS,8))},e.\u0275mod=pt({type:e}),e.\u0275inj=ft({});let t=e;return t})();function L$(){return{provide:rx,useFactory:()=>{let t=U(jA),e=U(ye),n=U(yc),r=U(m_),i=U(fc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new x$(i,r,t,e,n)}}}function j$(){return{provide:xr,useClass:RA}}function B$(){return{provide:xr,useClass:wv}}function U$(t){return"guarded"}function $$(t){return[t.initialNavigation==="disabled"?P$().\u0275providers:[],t.initialNavigation==="enabledBlocking"?R$().\u0275providers:[]]}var TS=new z("");function H$(){return[{provide:TS,useFactory:N$},{provide:tv,multi:!0,useExisting:TS}]}var ox=()=>{},L_={},Mx={},Nx=null,Rx={mark:ox,measure:ox};try{typeof window<"u"&&(L_=window),typeof document<"u"&&(Mx=document),typeof MutationObserver<"u"&&(Nx=MutationObserver),typeof performance<"u"&&(Rx=performance)}catch{}var{userAgent:ax=""}=L_.navigator||{},Ii=L_,Fe=Mx,ux=Nx,_f=Rx,FQ=!!Ii.document,kr=!!Fe.documentElement&&!!Fe.head&&typeof Fe.addEventListener=="function"&&typeof Fe.createElement=="function",Px=~ax.indexOf("MSIE")||~ax.indexOf("Trident/"),je="classic",kx="duotone",sn="sharp",on="sharp-duotone",z$=[je,kx,sn,on],q$={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}},cx={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},G$=["kit"],W$=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,K$=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,Q$={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},Y$={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"}},Z$={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}},X$={classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]},J$={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}},e4={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}},Ox={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},t4=["solid","regular","light","thin","duotone","brands"],Fx=[1,2,3,4,5,6,7,8,9,10],n4=Fx.concat([11,12,13,14,15,16,17,18,19,20]),_c={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},r4=[...Object.keys(X$),...t4,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",_c.GROUP,_c.SWAP_OPACITY,_c.PRIMARY,_c.SECONDARY].concat(Fx.map(t=>"".concat(t,"x"))).concat(n4.map(t=>"w-".concat(t))),i4={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},s4={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},o4={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},lx={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Rr="___FONT_AWESOME___",D_=16,Vx="fa",Lx="svg-inline--fa",Ds="data-fa-i2svg",b_="data-fa-pseudo-element",a4="data-fa-pseudo-element-pending",j_="data-prefix",B_="data-icon",dx="fontawesome-i2svg",u4="async",c4=["HTML","HEAD","STYLE","SCRIPT"],jx=(()=>{try{return!0}catch{return!1}})(),Bx=[je,sn,on];function Cc(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[je]}})}var Ux=x({},Ox);Ux[je]=x(x(x({},Ox[je]),cx.kit),cx["kit-duotone"]);var Is=Cc(Ux),C_=x({},e4);C_[je]=x(x(x({},C_[je]),lx.kit),lx["kit-duotone"]);var Dc=Cc(C_),T_=x({},J$);T_[je]=x(x({},T_[je]),o4.kit);var Es=Cc(T_),A_=x({},Z$);A_[je]=x(x({},A_[je]),s4.kit);var l4=Cc(A_),d4=W$,$x="fa-layers-text",h4=K$,f4=x({},q$),VQ=Cc(f4),p4=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],v_=_c,ra=new Set;Object.keys(Dc[je]).map(ra.add.bind(ra));Object.keys(Dc[sn]).map(ra.add.bind(ra));Object.keys(Dc[on]).map(ra.add.bind(ra));var g4=[...G$,...r4],Ic=Ii.FontAwesomeConfig||{};function m4(t){var e=Fe.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function y4(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}Fe&&typeof Fe.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e,i=y4(m4(n));i!=null&&(Ic[r]=i)});var Hx={styleDefault:"solid",familyDefault:"classic",cssPrefix:Vx,replacementClass:Lx,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Ic.familyPrefix&&(Ic.cssPrefix=Ic.familyPrefix);var ia=x(x({},Hx),Ic);ia.autoReplaceSvg||(ia.observeMutations=!1);var Q={};Object.keys(Hx).forEach(t=>{Object.defineProperty(Q,t,{enumerable:!0,set:function(e){ia[t]=e,Ec.forEach(n=>n(Q))},get:function(){return ia[t]}})});Object.defineProperty(Q,"familyPrefix",{enumerable:!0,set:function(t){ia.cssPrefix=t,Ec.forEach(e=>e(Q))},get:function(){return ia.cssPrefix}});Ii.FontAwesomeConfig=Q;var Ec=[];function v4(t){return Ec.push(t),()=>{Ec.splice(Ec.indexOf(t),1)}}var _i=D_,er={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function _4(t){if(!t||!kr)return;let e=Fe.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;let n=Fe.head.childNodes,r=null;for(let i=n.length-1;i>-1;i--){let s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return Fe.head.insertBefore(e,r),t}var w4="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function bc(){let t=12,e="";for(;t-- >0;)e+=w4[Math.random()*62|0];return e}function sa(t){let e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function U_(t){return t.classList?sa(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function zx(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function I4(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(zx(t[n]),'" '),"").trim()}function bf(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function $_(t){return t.size!==er.size||t.x!==er.x||t.y!==er.y||t.rotate!==er.rotate||t.flipX||t.flipY}function E4(t){let{transform:e,containerWidth:n,iconWidth:r}=t,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),u={transform:"".concat(s," ").concat(o," ").concat(a)},l={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:u,path:l}}function D4(t){let{transform:e,width:n=D_,height:r=D_,startCentered:i=!1}=t,s="";return i&&Px?s+="translate(".concat(e.x/_i-n/2,"em, ").concat(e.y/_i-r/2,"em) "):i?s+="translate(calc(-50% + ".concat(e.x/_i,"em), calc(-50% + ").concat(e.y/_i,"em)) "):s+="translate(".concat(e.x/_i,"em, ").concat(e.y/_i,"em) "),s+="scale(".concat(e.size/_i*(e.flipX?-1:1),", ").concat(e.size/_i*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}var b4=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function qx(){let t=Vx,e=Lx,n=Q.cssPrefix,r=Q.replacementClass,i=b4;if(n!==t||r!==e){let s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var hx=!1;function __(){Q.autoAddCss&&!hx&&(_4(qx()),hx=!0)}var C4={mixout(){return{dom:{css:qx,insertCss:__}}},hooks(){return{beforeDOMElementCreation(){__()},beforeI2svg(){__()}}}},Pr=Ii||{};Pr[Rr]||(Pr[Rr]={});Pr[Rr].styles||(Pr[Rr].styles={});Pr[Rr].hooks||(Pr[Rr].hooks={});Pr[Rr].shims||(Pr[Rr].shims=[]);var tr=Pr[Rr],Gx=[],Wx=function(){Fe.removeEventListener("DOMContentLoaded",Wx),Ef=1,Gx.map(t=>t())},Ef=!1;kr&&(Ef=(Fe.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Fe.readyState),Ef||Fe.addEventListener("DOMContentLoaded",Wx));function T4(t){kr&&(Ef?setTimeout(t,0):Gx.push(t))}function Tc(t){let{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?zx(t):"<".concat(e," ").concat(I4(n),">").concat(r.map(Tc).join(""),"</").concat(e,">")}function fx(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var A4=function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}},w_=function(e,n,r,i){var s=Object.keys(e),o=s.length,a=i!==void 0?A4(n,i):n,u,l,d;for(r===void 0?(u=1,d=e[s[0]]):(u=0,d=r);u<o;u++)l=s[u],d=a(d,e[l],l,e);return d};function S4(t){let e=[],n=0,r=t.length;for(;n<r;){let i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){let s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function S_(t){let e=S4(t);return e.length===1?e[0].toString(16):null}function x4(t,e){let n=t.length,r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function px(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function x_(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{skipHooks:r=!1}=n,i=px(e);typeof tr.hooks.addPack=="function"&&!r?tr.hooks.addPack(t,px(e)):tr.styles[t]=x(x({},tr.styles[t]||{}),i),t==="fas"&&x_("fa",e)}var{styles:ws,shims:M4}=tr,N4={[je]:Object.values(Es[je]),[sn]:Object.values(Es[sn]),[on]:Object.values(Es[on])},H_=null,Kx={},Qx={},Yx={},Zx={},Xx={},R4={[je]:Object.keys(Is[je]),[sn]:Object.keys(Is[sn]),[on]:Object.keys(Is[on])};function P4(t){return~g4.indexOf(t)}function k4(t,e){let n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!P4(i)?i:null}var Jx=()=>{let t=r=>w_(ws,(i,s,o)=>(i[o]=w_(s,r,{}),i),{});Kx=t((r,i,s)=>(i[3]&&(r[i[3]]=s),i[2]&&i[2].filter(a=>typeof a=="number").forEach(a=>{r[a.toString(16)]=s}),r)),Qx=t((r,i,s)=>(r[s]=s,i[2]&&i[2].filter(a=>typeof a=="string").forEach(a=>{r[a]=s}),r)),Xx=t((r,i,s)=>{let o=i[2];return r[s]=s,o.forEach(a=>{r[a]=s}),r});let e="far"in ws||Q.autoFetchSvg,n=w_(M4,(r,i)=>{let s=i[0],o=i[1],a=i[2];return o==="far"&&!e&&(o="fas"),typeof s=="string"&&(r.names[s]={prefix:o,iconName:a}),typeof s=="number"&&(r.unicodes[s.toString(16)]={prefix:o,iconName:a}),r},{names:{},unicodes:{}});Yx=n.names,Zx=n.unicodes,H_=Cf(Q.styleDefault,{family:Q.familyDefault})};v4(t=>{H_=Cf(t.styleDefault,{family:Q.familyDefault})});Jx();function z_(t,e){return(Kx[t]||{})[e]}function O4(t,e){return(Qx[t]||{})[e]}function wi(t,e){return(Xx[t]||{})[e]}function eM(t){return Yx[t]||{prefix:null,iconName:null}}function F4(t){let e=Zx[t],n=z_("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Ei(){return H_}var q_=()=>({prefix:null,iconName:null,rest:[]});function Cf(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{family:n=je}=e,r=Is[n][t],i=Dc[n][t]||Dc[n][r],s=t in tr.styles?t:null;return i||s||null}var V4={[je]:Object.keys(Es[je]),[sn]:Object.keys(Es[sn]),[on]:Object.keys(Es[on])};function Tf(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{skipLookups:n=!1}=e,r={[je]:"".concat(Q.cssPrefix,"-").concat(je),[sn]:"".concat(Q.cssPrefix,"-").concat(sn),[on]:"".concat(Q.cssPrefix,"-").concat(on)},i=null,s=je,o=z$.filter(u=>u!==kx);o.forEach(u=>{(t.includes(r[u])||t.some(l=>V4[u].includes(l)))&&(s=u)});let a=t.reduce((u,l)=>{let d=k4(Q.cssPrefix,l);if(ws[l]?(l=N4[s].includes(l)?l4[s][l]:l,i=l,u.prefix=l):R4[s].indexOf(l)>-1?(i=l,u.prefix=Cf(l,{family:s})):d?u.iconName=d:l!==Q.replacementClass&&!o.some(f=>l===r[f])&&u.rest.push(l),!n&&u.prefix&&u.iconName){let f=i==="fa"?eM(u.iconName):{},g=wi(u.prefix,u.iconName);f.prefix&&(i=null),u.iconName=f.iconName||g||u.iconName,u.prefix=f.prefix||u.prefix,u.prefix==="far"&&!ws.far&&ws.fas&&!Q.autoFetchSvg&&(u.prefix="fas")}return u},q_());return(t.includes("fa-brands")||t.includes("fab"))&&(a.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(a.prefix="fad"),!a.prefix&&s===sn&&(ws.fass||Q.autoFetchSvg)&&(a.prefix="fass",a.iconName=wi(a.prefix,a.iconName)||a.iconName),!a.prefix&&s===on&&(ws.fasds||Q.autoFetchSvg)&&(a.prefix="fasds",a.iconName=wi(a.prefix,a.iconName)||a.iconName),(a.prefix==="fa"||i==="fa")&&(a.prefix=Ei()||"fas"),a}var M_=class{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];let i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(s=>{this.definitions[s]=x(x({},this.definitions[s]||{}),i[s]),x_(s,i[s]);let o=Es[je][s];o&&x_(o,i[s]),Jx()})}reset(){this.definitions={}}_pullDefinitions(e,n){let r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(i=>{let{prefix:s,iconName:o,icon:a}=r[i],u=a[2];e[s]||(e[s]={}),u.length>0&&u.forEach(l=>{typeof l=="string"&&(e[s][l]=a)}),e[s][o]=a}),e}},gx=[],ta={},na={},L4=Object.keys(na);function j4(t,e){let{mixoutsTo:n}=e;return gx=t,ta={},Object.keys(na).forEach(r=>{L4.indexOf(r)===-1&&delete na[r]}),gx.forEach(r=>{let i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(s=>{typeof i[s]=="function"&&(n[s]=i[s]),typeof i[s]=="object"&&Object.keys(i[s]).forEach(o=>{n[s]||(n[s]={}),n[s][o]=i[s][o]})}),r.hooks){let s=r.hooks();Object.keys(s).forEach(o=>{ta[o]||(ta[o]=[]),ta[o].push(s[o])})}r.provides&&r.provides(na)}),n}function N_(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(ta[t]||[]).forEach(o=>{e=o.apply(null,[e,...r])}),e}function bs(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(ta[t]||[]).forEach(s=>{s.apply(null,n)})}function Di(){let t=arguments[0],e=Array.prototype.slice.call(arguments,1);return na[t]?na[t].apply(null,e):void 0}function R_(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t,n=t.prefix||Ei();if(e)return e=wi(n,e)||e,fx(tM.definitions,n,e)||fx(tr.styles,n,e)}var tM=new M_,B4=()=>{Q.autoReplaceSvg=!1,Q.observeMutations=!1,bs("noAuto")},U4={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return kr?(bs("beforeI2svg",t),Di("pseudoElements2svg",t),Di("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e}=t;Q.autoReplaceSvg===!1&&(Q.autoReplaceSvg=!0),Q.observeMutations=!0,T4(()=>{H4({autoReplaceSvgRoot:e}),bs("watch",t)})}},$4={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:wi(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){let e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=Cf(t[0]);return{prefix:n,iconName:wi(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(Q.cssPrefix,"-"))>-1||t.match(d4))){let e=Tf(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||Ei(),iconName:wi(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){let e=Ei();return{prefix:e,iconName:wi(e,t)||t}}}},an={noAuto:B4,config:Q,dom:U4,parse:$4,library:tM,findIconDefinition:R_,toHtml:Tc},H4=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e=Fe}=t;(Object.keys(tr.styles).length>0||Q.autoFetchSvg)&&kr&&Q.autoReplaceSvg&&an.dom.i2svg({node:e})};function Af(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>Tc(n))}}),Object.defineProperty(t,"node",{get:function(){if(!kr)return;let n=Fe.createElement("div");return n.innerHTML=t.html,n.children}}),t}function z4(t){let{children:e,main:n,mask:r,attributes:i,styles:s,transform:o}=t;if($_(o)&&n.found&&!r.found){let{width:a,height:u}=n,l={x:a/u/2,y:.5};i.style=bf(Y(x({},s),{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function q4(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:s}=t,o=s===!0?"".concat(e,"-").concat(Q.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Y(x({},i),{id:o}),children:r}]}]}function G_(t){let{icons:{main:e,mask:n},prefix:r,iconName:i,transform:s,symbol:o,title:a,maskId:u,titleId:l,extra:d,watchable:f=!1}=t,{width:g,height:y}=n.found?n:e,E=r==="fak",T=[Q.replacementClass,i?"".concat(Q.cssPrefix,"-").concat(i):""].filter(ee=>d.classes.indexOf(ee)===-1).filter(ee=>ee!==""||!!ee).concat(d.classes).join(" "),A={children:[],attributes:Y(x({},d.attributes),{"data-prefix":r,"data-icon":i,class:T,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(y)})},V=E&&!~d.classes.indexOf("fa-fw")?{width:"".concat(g/y*16*.0625,"em")}:{};f&&(A.attributes[Ds]=""),a&&(A.children.push({tag:"title",attributes:{id:A.attributes["aria-labelledby"]||"title-".concat(l||bc())},children:[a]}),delete A.attributes.title);let j=Y(x({},A),{prefix:r,iconName:i,main:e,mask:n,maskId:u,transform:s,symbol:o,styles:x(x({},V),d.styles)}),{children:k,attributes:W}=n.found&&e.found?Di("generateAbstractMask",j)||{children:[],attributes:{}}:Di("generateAbstractIcon",j)||{children:[],attributes:{}};return j.children=k,j.attributes=W,o?q4(j):z4(j)}function mx(t){let{content:e,width:n,height:r,transform:i,title:s,extra:o,watchable:a=!1}=t,u=Y(x(x({},o.attributes),s?{title:s}:{}),{class:o.classes.join(" ")});a&&(u[Ds]="");let l=x({},o.styles);$_(i)&&(l.transform=D4({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);let d=bf(l);d.length>0&&(u.style=d);let f=[];return f.push({tag:"span",attributes:u,children:[e]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}function G4(t){let{content:e,title:n,extra:r}=t,i=Y(x(x({},r.attributes),n?{title:n}:{}),{class:r.classes.join(" ")}),s=bf(r.styles);s.length>0&&(i.style=s);let o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var{styles:I_}=tr;function P_(t){let e=t[0],n=t[1],[r]=t.slice(4),i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(Q.cssPrefix,"-").concat(v_.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Q.cssPrefix,"-").concat(v_.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Q.cssPrefix,"-").concat(v_.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:i}}var W4={found:!1,width:512,height:512};function K4(t,e){!jx&&!Q.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function k_(t,e){let n=e;return e==="fa"&&Q.styleDefault!==null&&(e=Ei()),new Promise((r,i)=>{if(n==="fa"){let s=eM(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&I_[e]&&I_[e][t]){let s=I_[e][t];return r(P_(s))}K4(t,e),r(Y(x({},W4),{icon:Q.showMissingIcons&&t?Di("missingIconAbstract")||{}:{}}))})}var yx=()=>{},O_=Q.measurePerformance&&_f&&_f.mark&&_f.measure?_f:{mark:yx,measure:yx},wc='FA "6.6.0"',Q4=t=>(O_.mark("".concat(wc," ").concat(t," begins")),()=>nM(t)),nM=t=>{O_.mark("".concat(wc," ").concat(t," ends")),O_.measure("".concat(wc," ").concat(t),"".concat(wc," ").concat(t," begins"),"".concat(wc," ").concat(t," ends"))},W_={begin:Q4,end:nM},wf=()=>{};function vx(t){return typeof(t.getAttribute?t.getAttribute(Ds):null)=="string"}function Y4(t){let e=t.getAttribute?t.getAttribute(j_):null,n=t.getAttribute?t.getAttribute(B_):null;return e&&n}function Z4(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Q.replacementClass)}function X4(){return Q.autoReplaceSvg===!0?If.replace:If[Q.autoReplaceSvg]||If.replace}function J4(t){return Fe.createElementNS("http://www.w3.org/2000/svg",t)}function eH(t){return Fe.createElement(t)}function rM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{ceFn:n=t.tag==="svg"?J4:eH}=e;if(typeof t=="string")return Fe.createTextNode(t);let r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){r.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){r.appendChild(rM(s,{ceFn:n}))}),r}function tH(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var If={replace:function(t){let e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(rM(n),e)}),e.getAttribute(Ds)===null&&Q.keepOriginalSource){let n=Fe.createComment(tH(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){let e=t[0],n=t[1];if(~U_(e).indexOf(Q.replacementClass))return If.replace(t);let r=new RegExp("".concat(Q.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){let s=n[0].attributes.class.split(" ").reduce((o,a)=>(a===Q.replacementClass||a.match(r)?o.toSvg.push(a):o.toNode.push(a),o),{toNode:[],toSvg:[]});n[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}let i=n.map(s=>Tc(s)).join(`
`);e.setAttribute(Ds,""),e.innerHTML=i}};function _x(t){t()}function iM(t,e){let n=typeof e=="function"?e:wf;if(t.length===0)n();else{let r=_x;Q.mutateApproach===u4&&(r=Ii.requestAnimationFrame||_x),r(()=>{let i=X4(),s=W_.begin("mutate");t.map(i),s(),n()})}}var K_=!1;function sM(){K_=!0}function F_(){K_=!1}var Df=null;function wx(t){if(!ux||!Q.observeMutations)return;let{treeCallback:e=wf,nodeCallback:n=wf,pseudoElementsCallback:r=wf,observeMutationsRoot:i=Fe}=t;Df=new ux(s=>{if(K_)return;let o=Ei();sa(s).forEach(a=>{if(a.type==="childList"&&a.addedNodes.length>0&&!vx(a.addedNodes[0])&&(Q.searchPseudoElements&&r(a.target),e(a.target)),a.type==="attributes"&&a.target.parentNode&&Q.searchPseudoElements&&r(a.target.parentNode),a.type==="attributes"&&vx(a.target)&&~p4.indexOf(a.attributeName))if(a.attributeName==="class"&&Y4(a.target)){let{prefix:u,iconName:l}=Tf(U_(a.target));a.target.setAttribute(j_,u||o),l&&a.target.setAttribute(B_,l)}else Z4(a.target)&&n(a.target)})}),kr&&Df.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function nH(){Df&&Df.disconnect()}function rH(t){let e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce((r,i)=>{let s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function iH(t){let e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",i=Tf(U_(t));return i.prefix||(i.prefix=Ei()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=O4(i.prefix,t.innerText)||z_(i.prefix,S_(t.innerText))),!i.iconName&&Q.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function sH(t){let e=sa(t.attributes).reduce((i,s)=>(i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Q.autoA11y&&(n?e["aria-labelledby"]="".concat(Q.replacementClass,"-title-").concat(r||bc()):(e["aria-hidden"]="true",e.focusable="false")),e}function oH(){return{iconName:null,title:null,titleId:null,prefix:null,transform:er,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Ix(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},{iconName:n,prefix:r,rest:i}=iH(t),s=sH(t),o=N_("parseNodeAttributes",{},t),a=e.styleParser?rH(t):[];return x({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:er,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:a,attributes:s}},o)}var{styles:aH}=tr;function oM(t){let e=Q.autoReplaceSvg==="nest"?Ix(t,{styleParser:!1}):Ix(t);return~e.extra.classes.indexOf($x)?Di("generateLayersText",t,e):Di("generateSvgReplacementMutation",t,e)}var nr=new Set;Bx.map(t=>{nr.add("fa-".concat(t))});Object.keys(Is[je]).map(nr.add.bind(nr));Object.keys(Is[sn]).map(nr.add.bind(nr));Object.keys(Is[on]).map(nr.add.bind(nr));nr=[...nr];function Ex(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!kr)return Promise.resolve();let n=Fe.documentElement.classList,r=d=>n.add("".concat(dx,"-").concat(d)),i=d=>n.remove("".concat(dx,"-").concat(d)),s=Q.autoFetchSvg?nr:Bx.map(d=>"fa-".concat(d)).concat(Object.keys(aH));s.includes("fa")||s.push("fa");let o=[".".concat($x,":not([").concat(Ds,"])")].concat(s.map(d=>".".concat(d,":not([").concat(Ds,"])"))).join(", ");if(o.length===0)return Promise.resolve();let a=[];try{a=sa(t.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),i("complete");else return Promise.resolve();let u=W_.begin("onTree"),l=a.reduce((d,f)=>{try{let g=oM(f);g&&d.push(g)}catch(g){jx||g.name==="MissingIcon"&&console.error(g)}return d},[]);return new Promise((d,f)=>{Promise.all(l).then(g=>{iM(g,()=>{r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),u(),d()})}).catch(g=>{u(),f(g)})})}function uH(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;oM(t).then(n=>{n&&iM([n],e)})}function cH(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:R_(e||{}),{mask:i}=n;return i&&(i=(i||{}).icon?i:R_(i||{})),t(r,Y(x({},n),{mask:i}))}}var lH=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:n=er,symbol:r=!1,mask:i=null,maskId:s=null,title:o=null,titleId:a=null,classes:u=[],attributes:l={},styles:d={}}=e;if(!t)return;let{prefix:f,iconName:g,icon:y}=t;return Af(x({type:"icon"},t),()=>(bs("beforeDOMElementCreation",{iconDefinition:t,params:e}),Q.autoA11y&&(o?l["aria-labelledby"]="".concat(Q.replacementClass,"-title-").concat(a||bc()):(l["aria-hidden"]="true",l.focusable="false")),G_({icons:{main:P_(y),mask:i?P_(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:f,iconName:g,transform:x(x({},er),n),symbol:r,title:o,maskId:s,titleId:a,extra:{attributes:l,styles:d,classes:u}})))},dH={mixout(){return{icon:cH(lH)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=Ex,t.nodeCallback=uH,t}}},provides(t){t.i2svg=function(e){let{node:n=Fe,callback:r=()=>{}}=e;return Ex(n,r)},t.generateSvgReplacementMutation=function(e,n){let{iconName:r,title:i,titleId:s,prefix:o,transform:a,symbol:u,mask:l,maskId:d,extra:f}=n;return new Promise((g,y)=>{Promise.all([k_(r,o),l.iconName?k_(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(E=>{let[T,A]=E;g([e,G_({icons:{main:T,mask:A},prefix:o,iconName:r,transform:a,symbol:u,maskId:d,title:i,titleId:s,extra:f,watchable:!0})])}).catch(y)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:i,transform:s,styles:o}=e,a=bf(o);a.length>0&&(r.style=a);let u;return $_(s)&&(u=Di("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(u||i.icon),{children:n,attributes:r}}}},hH={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{classes:n=[]}=e;return Af({type:"layer"},()=>{bs("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(i=>{Array.isArray(i)?i.map(s=>{r=r.concat(s.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(Q.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},fH={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{title:n=null,classes:r=[],attributes:i={},styles:s={}}=e;return Af({type:"counter",content:t},()=>(bs("beforeDOMElementCreation",{content:t,params:e}),G4({content:t.toString(),title:n,extra:{attributes:i,styles:s,classes:["".concat(Q.cssPrefix,"-layers-counter"),...r]}})))}}}},pH={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:n=er,title:r=null,classes:i=[],attributes:s={},styles:o={}}=e;return Af({type:"text",content:t},()=>(bs("beforeDOMElementCreation",{content:t,params:e}),mx({content:t,transform:x(x({},er),n),title:r,extra:{attributes:s,styles:o,classes:["".concat(Q.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,n){let{title:r,transform:i,extra:s}=n,o=null,a=null;if(Px){let u=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();o=l.width/u,a=l.height/u}return Q.autoA11y&&!r&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,mx({content:e.innerHTML,width:o,height:a,transform:i,title:r,extra:s,watchable:!0})])}}},gH=new RegExp('"',"ug"),Dx=[1105920,1112319],bx=x(x(x({FontAwesome:{normal:"fas",400:"fas"}},Y$),Q$),i4),V_=Object.keys(bx).reduce((t,e)=>(t[e.toLowerCase()]=bx[e],t),{}),mH=Object.keys(V_).reduce((t,e)=>{let n=V_[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function yH(t){let e=t.replace(gH,""),n=x4(e,0),r=n>=Dx[0]&&n<=Dx[1],i=e.length===2?e[0]===e[1]:!1;return{value:S_(i?e[0]:e),isSecondary:r||i}}function vH(t,e){let n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(V_[n]||{})[i]||mH[n]}function Cx(t,e){let n="".concat(a4).concat(e.replace(":","-"));return new Promise((r,i)=>{if(t.getAttribute(n)!==null)return r();let o=sa(t.children).filter(g=>g.getAttribute(b_)===e)[0],a=Ii.getComputedStyle(t,e),u=a.getPropertyValue("font-family"),l=u.match(h4),d=a.getPropertyValue("font-weight"),f=a.getPropertyValue("content");if(o&&!l)return t.removeChild(o),r();if(l&&f!=="none"&&f!==""){let g=a.getPropertyValue("content"),y=vH(u,d),{value:E,isSecondary:T}=yH(g),A=l[0].startsWith("FontAwesome"),V=z_(y,E),j=V;if(A){let k=F4(E);k.iconName&&k.prefix&&(V=k.iconName,y=k.prefix)}if(V&&!T&&(!o||o.getAttribute(j_)!==y||o.getAttribute(B_)!==j)){t.setAttribute(n,j),o&&t.removeChild(o);let k=oH(),{extra:W}=k;W.attributes[b_]=e,k_(V,y).then(ee=>{let te=G_(Y(x({},k),{icons:{main:ee,mask:q_()},prefix:y,iconName:j,extra:W,watchable:!0})),I=Fe.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(I,t.firstChild):t.appendChild(I),I.outerHTML=te.map(v=>Tc(v)).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function _H(t){return Promise.all([Cx(t,"::before"),Cx(t,"::after")])}function wH(t){return t.parentNode!==document.head&&!~c4.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(b_)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function Tx(t){if(kr)return new Promise((e,n)=>{let r=sa(t.querySelectorAll("*")).filter(wH).map(_H),i=W_.begin("searchPseudoElements");sM(),Promise.all(r).then(()=>{i(),F_(),e()}).catch(()=>{i(),F_(),n()})})}var IH={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=Tx,t}}},provides(t){t.pseudoElements2svg=function(e){let{node:n=Fe}=e;Q.searchPseudoElements&&Tx(n)}}},Ax=!1,EH={mixout(){return{dom:{unwatch(){sM(),Ax=!0}}}},hooks(){return{bootstrap(){wx(N_("mutationObserverCallbacks",{}))},noAuto(){nH()},watch(t){let{observeMutationsRoot:e}=t;Ax?F_():wx(N_("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}},Sx=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{let i=r.toLowerCase().split("-"),s=i[0],o=i.slice(1).join("-");if(s&&o==="h")return n.flipX=!0,n;if(s&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(s){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},e)},DH={mixout(){return{parse:{transform:t=>Sx(t)}}},hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-transform");return n&&(t.transform=Sx(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:i,iconWidth:s}=e,o={transform:"translate(".concat(i/2," 256)")},a="translate(".concat(r.x*32,", ").concat(r.y*32,") "),u="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),l="rotate(".concat(r.rotate," 0 0)"),d={transform:"".concat(a," ").concat(u," ").concat(l)},f={transform:"translate(".concat(s/2*-1," -256)")},g={outer:o,inner:d,path:f};return{tag:"g",attributes:x({},g.outer),children:[{tag:"g",attributes:x({},g.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:x(x({},n.icon.attributes),g.path)}]}]}}}},E_={x:0,y:0,width:"100%",height:"100%"};function xx(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function bH(t){return t.tag==="g"?t.children:[t]}var CH={hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-mask"),r=n?Tf(n.split(" ").map(i=>i.trim())):q_();return r.prefix||(r.prefix=Ei()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:i,mask:s,maskId:o,transform:a}=e,{width:u,icon:l}=i,{width:d,icon:f}=s,g=E4({transform:a,containerWidth:d,iconWidth:u}),y={tag:"rect",attributes:Y(x({},E_),{fill:"white"})},E=l.children?{children:l.children.map(xx)}:{},T={tag:"g",attributes:x({},g.inner),children:[xx(x({tag:l.tag,attributes:x(x({},l.attributes),g.path)},E))]},A={tag:"g",attributes:x({},g.outer),children:[T]},V="mask-".concat(o||bc()),j="clip-".concat(o||bc()),k={tag:"mask",attributes:Y(x({},E_),{id:V,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[y,A]},W={tag:"defs",children:[{tag:"clipPath",attributes:{id:j},children:bH(f)},k]};return n.push(W,{tag:"rect",attributes:x({fill:"currentColor","clip-path":"url(#".concat(j,")"),mask:"url(#".concat(V,")")},E_)}),{children:n,attributes:r}}}},TH={provides(t){let e=!1;Ii.matchMedia&&(e=Ii.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){let n=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:Y(x({},r),{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});let s=Y(x({},i),{attributeName:"opacity"}),o={tag:"circle",attributes:Y(x({},r),{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:Y(x({},i),{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Y(x({},s),{values:"1;0;1;1;0;1;"})}),n.push(o),n.push({tag:"path",attributes:Y(x({},r),{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:Y(x({},s),{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:Y(x({},r),{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Y(x({},s),{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},AH={hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},SH=[C4,dH,hH,fH,pH,IH,EH,DH,CH,TH,AH];j4(SH,{mixoutsTo:an});var LQ=an.noAuto,xH=an.config,jQ=an.library,MH=an.dom,NH=an.parse,BQ=an.findIconDefinition,UQ=an.toHtml,RH=an.icon,$Q=an.layer,PH=an.text,kH=an.counter;var YQ=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=pt({type:e}),e.\u0275inj=ft({});let t=e;return t})();var OH="firebase",FH="10.13.2";Qr(OH,FH,"app");var oa=new Ir("ANGULARFIRE2_VERSION");var VH=(t,e)=>{let n=e?[e]:Tb(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Cs=class{constructor(){return VH(LH)}},LH="app-check";function Q_(){}var Sf=class{zone;delegate;constructor(e,n=Yg){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Y_=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Q_,{},Q_,Q_)),n.pipe(We({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},xf=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Sf(Zone.current)),this.insideAngular=n.run(()=>new Sf(Zone.current,Du)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(L(ye))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jH(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Wt(t){return BH(jH())(t)}function BH(t){return function(n){return n=n.lift(new Y_(t.ngZone)),n.pipe(Cn(t.outsideAngular),ln(t.insideAngular))}}var UH="firebase",$H="10.13.2";Ut.registerVersion(UH,$H,"app-compat");var HH=["ngOnDestroy"],cM=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{if(t[s])return r?.spy?.get&&r.spy.get(s,t[s]),t[s];if(HH.indexOf(s)>-1)return()=>{};let o=e.toPromise().then(a=>{let u=a?.[s];return typeof u=="function"?u.bind(a):u?.then?u.then(l=>n.run(()=>l)):n.run(()=>u)});return new Proxy(()=>{},{get:(a,u)=>o[u],apply:(a,u,l)=>o.then(d=>{let f=d?.(...l);return r?.spy?.apply&&r.spy.apply(s,l,f),f})})})});var Mf=class{constructor(e){return e}},aa=new z("angularfire2.app.options"),ua=new z("angularfire2.app.name");function Ac(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let o=Ut.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Ut.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(o.options)){let a=!!module.hot;zH("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Mf(o)}var zH=(t,...e)=>{iv()&&typeof console<"u"&&console[t](...e)},qH={provide:Mf,useFactory:Ac,deps:[aa,ye,[new ui,ua]]},pY=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:aa,useValue:n},{provide:ua,useValue:r}]}}constructor(n){Ut.registerVersion("angularfire",oa.full,"core"),Ut.registerVersion("angularfire",oa.full,"app-compat"),Ut.registerVersion("angular",dA.full,n.toString())}static \u0275fac=function(r){return new(r||t)(L(Gt))};static \u0275mod=pt({type:t});static \u0275inj=ft({providers:[qH]})}return t})();function Nf(t,e,n,r,i){let[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(s)return GH(i,o)||(uM("error",`${e} was already initialized on the ${n} Firebase App with different settings.${WH?" You may need to reload as Firebase is not HMR aware.":""}`),uM("warn",{is:i,was:o})),s;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function GH(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var WH=typeof module<"u"&&!!module.hot,uM=(t,...e)=>{iv()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var YH=new Map,ZH={activated:!1,tokenObservers:[]},XH={initialized:!1,enabled:!1};function kn(t){return YH.get(t)||Object.assign({},ZH)}function pM(){return XH}var JH="https://content-firebaseappcheck.googleapis.com/v1";var ez="exchangeDebugToken",lM={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},bY=24*60*60*1e3;var X_=class{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return P(this,null,function*(){this.stop();try{this.pending=new Mg,this.pending.promise.catch(n=>{}),yield tz(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Mg,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function tz(t){return new Promise(e=>{setTimeout(e,t)})}var nz={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},bi=new bb("appCheck","AppCheck",nz);function gM(t){if(!kn(t).activated)throw bi.create("use-before-activation",{appName:t.name})}function mM(r,i){return P(this,arguments,function*({url:t,body:e},n){let s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){let y=yield o.getHeartbeatsHeader();y&&(s["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:s},u;try{u=yield fetch(t,a)}catch(y){throw bi.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw bi.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw bi.create("fetch-parse-error",{originalErrorMessage:y?.message})}let d=l.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw bi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let f=Number(d[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+f,issuedAtTimeMillis:g}})}function yM(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${JH}/projects/${n}/apps/${r}:${ez}?key=${i}`,body:{debug_token:e}}}var rz="firebase-app-check-database",iz=1,J_="firebase-app-check-store";var Rf=null;function sz(){return Rf||(Rf=new Promise((t,e)=>{try{let n=indexedDB.open(rz,iz);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(bi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(J_,{keyPath:"compositeKey"})}}}catch(n){e(bi.create("storage-open",{originalErrorMessage:n?.message}))}}),Rf)}function oz(t,e){return az(uz(t),e)}function az(t,e){return P(this,null,function*(){let r=(yield sz()).transaction(J_,"readwrite"),s=r.objectStore(J_).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(bi.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function uz(t){return`${t.options.appId}-${t.name}`}var ew=new Ll("@firebase/app-check");function Z_(t,e){return Vl()?oz(t,e).catch(n=>{ew.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function vM(){return pM().enabled}function _M(){return P(this,null,function*(){let t=pM();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var cz={error:"UNKNOWN_ERROR"};function lz(t){return Ib.encodeString(JSON.stringify(t),!1)}function tw(t,e=!1){return P(this,null,function*(){let n=t.app;gM(n);let r=kn(n),i=r.token,s;if(i&&!Sc(i)&&(r.token=void 0,i=void 0),!i){let u=yield r.cachedTokenPromise;u&&(Sc(u)?i=u:yield Z_(n,void 0))}if(!e&&i&&Sc(i))return{token:i.token};let o=!1;if(vM()){r.exchangeTokenPromise||(r.exchangeTokenPromise=mM(yM(n,yield _M()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);let u=yield r.exchangeTokenPromise;return yield Z_(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield kn(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?ew.warn(u.message):ew.error(u),s=u}let a;return i?s?Sc(i)?a={token:i.token,internalError:s}:a=hM(s):(a={token:i.token},r.token=i,yield Z_(n,i)):a=hM(s),o&&pz(n,a),a})}function dz(t){return P(this,null,function*(){let e=t.app;gM(e);let{provider:n}=kn(e);if(vM()){let r=yield _M(),{token:i}=yield mM(yM(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function hz(t,e,n,r){let{app:i}=t,s=kn(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Sc(s.token)){let a=s.token;Promise.resolve().then(()=>{n({token:a.token}),dM(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>dM(t))}function wM(t,e){let n=kn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function dM(t){let{app:e}=t,n=kn(e),r=n.tokenRefresher;r||(r=fz(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function fz(t){let{app:e}=t;return new X_(()=>P(this,null,function*(){let n=kn(e),r;if(n.token?r=yield tw(t,!0):r=yield tw(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=kn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},lM.RETRIAL_MIN_WAIT,lM.RETRIAL_MAX_WAIT)}function pz(t,e){let n=kn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Sc(t){return t.expireTimeMillis-Date.now()>0}function hM(t){return{token:lz(cz),error:t}}var nw=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=kn(this.app);for(let n of e)wM(this.app,n.next);return Promise.resolve()}};function gz(t,e){return new nw(t,e)}function mz(t){return{getToken:e=>tw(t,e),getLimitedUseToken:()=>dz(t),addTokenListener:e=>hz(t,"INTERNAL",e),removeTokenListener:e=>wM(t.app,e)}}var yz="@firebase/app-check",vz="0.8.8";var _z="app-check",fM="app-check-internal";function wz(){yu(new Qi(_z,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return gz(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(fM).initialize()})),yu(new Qi(fM,t=>{let e=t.getProvider("app-check").getImmediate();return mz(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Qr(yz,vz)}wz();var Iz=["localhost","0.0.0.0","127.0.0.1"],FY=typeof window<"u"&&Iz.includes(window.location.hostname);var rw=new z("angularfire2.auth.use-emulator"),iw=new z("angularfire2.auth.settings"),sw=new z("angularfire2.auth.tenant-id"),ow=new z("angularfire2.auth.langugage-code"),aw=new z("angularfire2.auth.use-device-language"),uw=new z("angularfire.auth.persistence"),cw=(t,e,n,r,i,s,o,a)=>Nf(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let u=e.runOutsideAngular(()=>t.auth());if(n&&u.useEmulator(...n),r&&(u.tenantId=r),u.languageCode=i,s&&u.useDeviceLanguage(),o)for(let[l,d]of Object.entries(o))u.settings[l]=d;return a&&u.setPersistence(a),u},[n,r,i,s,o,a]),Pf=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,s,o,a,u,l,d,f,g,y){let E=new Le,T=K(void 0).pipe(ln(o.outsideAngular),He(()=>s.runOutsideAngular(()=>import("./chunk-KRBORORF.js"))),Z(()=>Ac(n,s,r)),Z(A=>cw(A,s,a,l,d,f,u,g)),md({bufferSize:1,refCount:!1}));if(gs(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=K(null);else{T.pipe(dn()).subscribe();let A=T.pipe(He(k=>k.getRedirectResult().then(W=>W,()=>null)),Wt,md({bufferSize:1,refCount:!1})),V=T.pipe(He(k=>new pe(W=>({unsubscribe:s.runOutsideAngular(()=>k.onAuthStateChanged(ee=>W.next(ee),ee=>W.error(ee),()=>W.complete()))})))),j=T.pipe(He(k=>new pe(W=>({unsubscribe:s.runOutsideAngular(()=>k.onIdTokenChanged(ee=>W.next(ee),ee=>W.error(ee),()=>W.complete()))}))));this.authState=A.pipe(yd(V),Cn(o.outsideAngular),ln(o.insideAngular)),this.user=A.pipe(yd(j),Cn(o.outsideAngular),ln(o.insideAngular)),this.idToken=this.user.pipe(He(k=>k?ue(k.getIdToken()):K(null))),this.idTokenResult=this.user.pipe(He(k=>k?ue(k.getIdTokenResult()):K(null))),this.credential=em(A,E,this.authState.pipe(vt(k=>!k))).pipe(Z(k=>k?.user?k:null),Cn(o.outsideAngular),ln(o.insideAngular))}return cM(this,T,s,{spy:{apply:(A,V,j)=>{(A.startsWith("signIn")||A.startsWith("createUser"))&&j.then(k=>E.next(k))}}})}static \u0275fac=function(r){return new(r||t)(L(aa),L(ua,8),L(Gt),L(ye),L(xf),L(rw,8),L(iw,8),L(sw,8),L(ow,8),L(aw,8),L(uw,8),L(Cs,8))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var DM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bM={};var Ci,lw;(function(){var t;function e(I,v){function w(){}w.prototype=v.prototype,I.D=v.prototype,I.prototype=new w,I.prototype.constructor=I,I.C=function(D,b,S){for(var _=Array(arguments.length-2),fr=2;fr<arguments.length;fr++)_[fr-2]=arguments[fr];return v.prototype[b].apply(D,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,w){w||(w=0);var D=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)D[b]=v.charCodeAt(w++)|v.charCodeAt(w++)<<8|v.charCodeAt(w++)<<16|v.charCodeAt(w++)<<24;else for(b=0;16>b;++b)D[b]=v[w++]|v[w++]<<8|v[w++]<<16|v[w++]<<24;v=I.g[0],w=I.g[1],b=I.g[2];var S=I.g[3],_=v+(S^w&(b^S))+D[0]+3614090360&4294967295;v=w+(_<<7&4294967295|_>>>25),_=S+(b^v&(w^b))+D[1]+3905402710&4294967295,S=v+(_<<12&4294967295|_>>>20),_=b+(w^S&(v^w))+D[2]+606105819&4294967295,b=S+(_<<17&4294967295|_>>>15),_=w+(v^b&(S^v))+D[3]+3250441966&4294967295,w=b+(_<<22&4294967295|_>>>10),_=v+(S^w&(b^S))+D[4]+4118548399&4294967295,v=w+(_<<7&4294967295|_>>>25),_=S+(b^v&(w^b))+D[5]+1200080426&4294967295,S=v+(_<<12&4294967295|_>>>20),_=b+(w^S&(v^w))+D[6]+2821735955&4294967295,b=S+(_<<17&4294967295|_>>>15),_=w+(v^b&(S^v))+D[7]+4249261313&4294967295,w=b+(_<<22&4294967295|_>>>10),_=v+(S^w&(b^S))+D[8]+1770035416&4294967295,v=w+(_<<7&4294967295|_>>>25),_=S+(b^v&(w^b))+D[9]+2336552879&4294967295,S=v+(_<<12&4294967295|_>>>20),_=b+(w^S&(v^w))+D[10]+4294925233&4294967295,b=S+(_<<17&4294967295|_>>>15),_=w+(v^b&(S^v))+D[11]+2304563134&4294967295,w=b+(_<<22&4294967295|_>>>10),_=v+(S^w&(b^S))+D[12]+1804603682&4294967295,v=w+(_<<7&4294967295|_>>>25),_=S+(b^v&(w^b))+D[13]+4254626195&4294967295,S=v+(_<<12&4294967295|_>>>20),_=b+(w^S&(v^w))+D[14]+2792965006&4294967295,b=S+(_<<17&4294967295|_>>>15),_=w+(v^b&(S^v))+D[15]+1236535329&4294967295,w=b+(_<<22&4294967295|_>>>10),_=v+(b^S&(w^b))+D[1]+4129170786&4294967295,v=w+(_<<5&4294967295|_>>>27),_=S+(w^b&(v^w))+D[6]+3225465664&4294967295,S=v+(_<<9&4294967295|_>>>23),_=b+(v^w&(S^v))+D[11]+643717713&4294967295,b=S+(_<<14&4294967295|_>>>18),_=w+(S^v&(b^S))+D[0]+3921069994&4294967295,w=b+(_<<20&4294967295|_>>>12),_=v+(b^S&(w^b))+D[5]+3593408605&4294967295,v=w+(_<<5&4294967295|_>>>27),_=S+(w^b&(v^w))+D[10]+38016083&4294967295,S=v+(_<<9&4294967295|_>>>23),_=b+(v^w&(S^v))+D[15]+3634488961&4294967295,b=S+(_<<14&4294967295|_>>>18),_=w+(S^v&(b^S))+D[4]+3889429448&4294967295,w=b+(_<<20&4294967295|_>>>12),_=v+(b^S&(w^b))+D[9]+568446438&4294967295,v=w+(_<<5&4294967295|_>>>27),_=S+(w^b&(v^w))+D[14]+3275163606&4294967295,S=v+(_<<9&4294967295|_>>>23),_=b+(v^w&(S^v))+D[3]+4107603335&4294967295,b=S+(_<<14&4294967295|_>>>18),_=w+(S^v&(b^S))+D[8]+1163531501&4294967295,w=b+(_<<20&4294967295|_>>>12),_=v+(b^S&(w^b))+D[13]+2850285829&4294967295,v=w+(_<<5&4294967295|_>>>27),_=S+(w^b&(v^w))+D[2]+4243563512&4294967295,S=v+(_<<9&4294967295|_>>>23),_=b+(v^w&(S^v))+D[7]+1735328473&4294967295,b=S+(_<<14&4294967295|_>>>18),_=w+(S^v&(b^S))+D[12]+2368359562&4294967295,w=b+(_<<20&4294967295|_>>>12),_=v+(w^b^S)+D[5]+4294588738&4294967295,v=w+(_<<4&4294967295|_>>>28),_=S+(v^w^b)+D[8]+2272392833&4294967295,S=v+(_<<11&4294967295|_>>>21),_=b+(S^v^w)+D[11]+1839030562&4294967295,b=S+(_<<16&4294967295|_>>>16),_=w+(b^S^v)+D[14]+4259657740&4294967295,w=b+(_<<23&4294967295|_>>>9),_=v+(w^b^S)+D[1]+2763975236&4294967295,v=w+(_<<4&4294967295|_>>>28),_=S+(v^w^b)+D[4]+1272893353&4294967295,S=v+(_<<11&4294967295|_>>>21),_=b+(S^v^w)+D[7]+4139469664&4294967295,b=S+(_<<16&4294967295|_>>>16),_=w+(b^S^v)+D[10]+3200236656&4294967295,w=b+(_<<23&4294967295|_>>>9),_=v+(w^b^S)+D[13]+681279174&4294967295,v=w+(_<<4&4294967295|_>>>28),_=S+(v^w^b)+D[0]+3936430074&4294967295,S=v+(_<<11&4294967295|_>>>21),_=b+(S^v^w)+D[3]+3572445317&4294967295,b=S+(_<<16&4294967295|_>>>16),_=w+(b^S^v)+D[6]+76029189&4294967295,w=b+(_<<23&4294967295|_>>>9),_=v+(w^b^S)+D[9]+3654602809&4294967295,v=w+(_<<4&4294967295|_>>>28),_=S+(v^w^b)+D[12]+3873151461&4294967295,S=v+(_<<11&4294967295|_>>>21),_=b+(S^v^w)+D[15]+530742520&4294967295,b=S+(_<<16&4294967295|_>>>16),_=w+(b^S^v)+D[2]+3299628645&4294967295,w=b+(_<<23&4294967295|_>>>9),_=v+(b^(w|~S))+D[0]+4096336452&4294967295,v=w+(_<<6&4294967295|_>>>26),_=S+(w^(v|~b))+D[7]+1126891415&4294967295,S=v+(_<<10&4294967295|_>>>22),_=b+(v^(S|~w))+D[14]+2878612391&4294967295,b=S+(_<<15&4294967295|_>>>17),_=w+(S^(b|~v))+D[5]+4237533241&4294967295,w=b+(_<<21&4294967295|_>>>11),_=v+(b^(w|~S))+D[12]+1700485571&4294967295,v=w+(_<<6&4294967295|_>>>26),_=S+(w^(v|~b))+D[3]+2399980690&4294967295,S=v+(_<<10&4294967295|_>>>22),_=b+(v^(S|~w))+D[10]+4293915773&4294967295,b=S+(_<<15&4294967295|_>>>17),_=w+(S^(b|~v))+D[1]+2240044497&4294967295,w=b+(_<<21&4294967295|_>>>11),_=v+(b^(w|~S))+D[8]+1873313359&4294967295,v=w+(_<<6&4294967295|_>>>26),_=S+(w^(v|~b))+D[15]+4264355552&4294967295,S=v+(_<<10&4294967295|_>>>22),_=b+(v^(S|~w))+D[6]+2734768916&4294967295,b=S+(_<<15&4294967295|_>>>17),_=w+(S^(b|~v))+D[13]+1309151649&4294967295,w=b+(_<<21&4294967295|_>>>11),_=v+(b^(w|~S))+D[4]+4149444226&4294967295,v=w+(_<<6&4294967295|_>>>26),_=S+(w^(v|~b))+D[11]+3174756917&4294967295,S=v+(_<<10&4294967295|_>>>22),_=b+(v^(S|~w))+D[2]+718787259&4294967295,b=S+(_<<15&4294967295|_>>>17),_=w+(S^(b|~v))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(b+(_<<21&4294967295|_>>>11))&4294967295,I.g[2]=I.g[2]+b&4294967295,I.g[3]=I.g[3]+S&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var w=v-this.blockSize,D=this.B,b=this.h,S=0;S<v;){if(b==0)for(;S<=w;)i(this,I,S),S+=this.blockSize;if(typeof I=="string"){for(;S<v;)if(D[b++]=I.charCodeAt(S++),b==this.blockSize){i(this,D),b=0;break}}else for(;S<v;)if(D[b++]=I[S++],b==this.blockSize){i(this,D),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var w=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=w&255,w/=256;for(this.u(I),I=Array(16),v=w=0;4>v;++v)for(var D=0;32>D;D+=8)I[w++]=this.g[v]>>>D&255;return I};function s(I,v){var w=a;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=v(I)}function o(I,v){this.h=v;for(var w=[],D=!0,b=I.length-1;0<=b;b--){var S=I[b]|0;D&&S==v||(w[b]=S,D=!1)}this.g=w}var a={};function u(I){return-128<=I&&128>I?s(I,function(v){return new o([v|0],0>v?-1:0)}):new o([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return A(l(-I));for(var v=[],w=1,D=0;I>=w;D++)v[D]=I/w|0,w*=4294967296;return new o(v,0)}function d(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return A(d(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(v,8)),D=f,b=0;b<I.length;b+=8){var S=Math.min(8,I.length-b),_=parseInt(I.substring(b,b+S),v);8>S?(S=l(Math.pow(v,S)),D=D.j(S).add(l(_))):(D=D.j(w),D=D.add(l(_)))}return D}var f=u(0),g=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(T(this))return-A(this).m();for(var I=0,v=1,w=0;w<this.g.length;w++){var D=this.i(w);I+=(0<=D?D:4294967296+D)*v,v*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(E(this))return"0";if(T(this))return"-"+A(this).toString(I);for(var v=l(Math.pow(I,6)),w=this,D="";;){var b=W(w,v).g;w=V(w,b.j(v));var S=((0<w.g.length?w.g[0]:w.h)>>>0).toString(I);if(w=b,E(w))return S+D;for(;6>S.length;)S="0"+S;D=S+D}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function E(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function T(I){return I.h==-1}t.l=function(I){return I=V(this,I),T(I)?-1:E(I)?0:1};function A(I){for(var v=I.g.length,w=[],D=0;D<v;D++)w[D]=~I.g[D];return new o(w,~I.h).add(g)}t.abs=function(){return T(this)?A(this):this},t.add=function(I){for(var v=Math.max(this.g.length,I.g.length),w=[],D=0,b=0;b<=v;b++){var S=D+(this.i(b)&65535)+(I.i(b)&65535),_=(S>>>16)+(this.i(b)>>>16)+(I.i(b)>>>16);D=_>>>16,S&=65535,_&=65535,w[b]=_<<16|S}return new o(w,w[w.length-1]&-2147483648?-1:0)};function V(I,v){return I.add(A(v))}t.j=function(I){if(E(this)||E(I))return f;if(T(this))return T(I)?A(this).j(A(I)):A(A(this).j(I));if(T(I))return A(this.j(A(I)));if(0>this.l(y)&&0>I.l(y))return l(this.m()*I.m());for(var v=this.g.length+I.g.length,w=[],D=0;D<2*v;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(var b=0;b<I.g.length;b++){var S=this.i(D)>>>16,_=this.i(D)&65535,fr=I.i(b)>>>16,Za=I.i(b)&65535;w[2*D+2*b]+=_*Za,j(w,2*D+2*b),w[2*D+2*b+1]+=S*Za,j(w,2*D+2*b+1),w[2*D+2*b+1]+=_*fr,j(w,2*D+2*b+1),w[2*D+2*b+2]+=S*fr,j(w,2*D+2*b+2)}for(D=0;D<v;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=v;D<2*v;D++)w[D]=0;return new o(w,0)};function j(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function k(I,v){this.g=I,this.h=v}function W(I,v){if(E(v))throw Error("division by zero");if(E(I))return new k(f,f);if(T(I))return v=W(A(I),v),new k(A(v.g),A(v.h));if(T(v))return v=W(I,A(v)),new k(A(v.g),v.h);if(30<I.g.length){if(T(I)||T(v))throw Error("slowDivide_ only works with positive integers.");for(var w=g,D=v;0>=D.l(I);)w=ee(w),D=ee(D);var b=te(w,1),S=te(D,1);for(D=te(D,2),w=te(w,2);!E(D);){var _=S.add(D);0>=_.l(I)&&(b=b.add(w),S=_),D=te(D,1),w=te(w,1)}return v=V(I,b.j(v)),new k(b,v)}for(b=f;0<=I.l(v);){for(w=Math.max(1,Math.floor(I.m()/v.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),S=l(w),_=S.j(v);T(_)||0<_.l(I);)w-=D,S=l(w),_=S.j(v);E(S)&&(S=g),b=b.add(S),I=V(I,_)}return new k(b,I)}t.A=function(I){return W(this,I).h},t.and=function(I){for(var v=Math.max(this.g.length,I.g.length),w=[],D=0;D<v;D++)w[D]=this.i(D)&I.i(D);return new o(w,this.h&I.h)},t.or=function(I){for(var v=Math.max(this.g.length,I.g.length),w=[],D=0;D<v;D++)w[D]=this.i(D)|I.i(D);return new o(w,this.h|I.h)},t.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),w=[],D=0;D<v;D++)w[D]=this.i(D)^I.i(D);return new o(w,this.h^I.h)};function ee(I){for(var v=I.g.length+1,w=[],D=0;D<v;D++)w[D]=I.i(D)<<1|I.i(D-1)>>>31;return new o(w,I.h)}function te(I,v){var w=v>>5;v%=32;for(var D=I.g.length-w,b=[],S=0;S<D;S++)b[S]=0<v?I.i(S+w)>>>v|I.i(S+w+1)<<32-v:I.i(S+w);return new o(b,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lw=bM.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=d,Ci=bM.Integer=o}).apply(typeof DM<"u"?DM:typeof self<"u"?self:typeof window<"u"?window:{});var kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Or={};var dw,hw,ca,fw,xc,Of,pw,gw,mw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,h,p){return c==Array.prototype||c==Object.prototype||(c[h]=p.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof kf=="object"&&kf];for(var h=0;h<c.length;++h){var p=c[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(c,h){if(h)e:{var p=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var C=c[m];if(!(C in p))break e;p=p[C]}c=c[c.length-1],m=p[c],h=h(m),h!=m&&h!=null&&e(p,c,{configurable:!0,writable:!0,value:h})}}function s(c,h){c instanceof String&&(c+="");var p=0,m=!1,C={next:function(){if(!m&&p<c.length){var R=p++;return{value:h(R,c[R]),done:!1}}return m=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return s(this,function(h,p){return p})}});var o=o||{},a=this||self;function u(c){var h=typeof c;return h=h!="object"?h:c?Array.isArray(c)?"array":h:"null",h=="array"||h=="object"&&typeof c.length=="number"}function l(c){var h=typeof c;return h=="object"&&c!=null||h=="function"}function d(c,h,p){return c.call.apply(c.bind,arguments)}function f(c,h,p){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,m),c.apply(h,C)}}return function(){return c.apply(h,arguments)}}function g(c,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function y(c,h){var p=Array.prototype.slice.call(arguments,1);return function(){var m=p.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function E(c,h){function p(){}p.prototype=h.prototype,c.aa=h.prototype,c.prototype=new p,c.prototype.constructor=c,c.Qb=function(m,C,R){for(var B=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)B[Se-2]=arguments[Se];return h.prototype[C].apply(m,B)}}function T(c){let h=c.length;if(0<h){let p=Array(h);for(let m=0;m<h;m++)p[m]=c[m];return p}return[]}function A(c,h){for(let p=1;p<arguments.length;p++){let m=arguments[p];if(u(m)){let C=c.length||0,R=m.length||0;c.length=C+R;for(let B=0;B<R;B++)c[C+B]=m[B]}else c.push(m)}}class V{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function j(c){return/^[\s\xa0]*$/.test(c)}function k(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function W(c){return W[" "](c),c}W[" "]=function(){};var ee=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function te(c,h,p){for(let m in c)h.call(p,c[m],m,c)}function I(c,h){for(let p in c)h.call(void 0,c[p],p,c)}function v(c){let h={};for(let p in c)h[p]=c[p];return h}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,h){let p,m;for(let C=1;C<arguments.length;C++){m=arguments[C];for(p in m)c[p]=m[p];for(let R=0;R<w.length;R++)p=w[R],Object.prototype.hasOwnProperty.call(m,p)&&(c[p]=m[p])}}function b(c){var h=1;c=c.split(":");let p=[];for(;0<h&&c.length;)p.push(c.shift()),h--;return c.length&&p.push(c.join(":")),p}function S(c){a.setTimeout(()=>{throw c},0)}function _(){var c=ig;let h=null;return c.g&&(h=c.g,c.g=c.g.next,c.g||(c.h=null),h.next=null),h}class fr{constructor(){this.h=this.g=null}add(h,p){let m=Za.get();m.set(h,p),this.h?this.h.next=m:this.g=m,this.h=m}}var Za=new V(()=>new l1,c=>c.reset());class l1{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Xa,Ja=!1,ig=new fr,yD=()=>{let c=a.Promise.resolve(void 0);Xa=()=>{c.then(d1)}};var d1=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(p){S(p)}var h=Za;h.j(c),100>h.h&&(h.h++,c.next=h.g,h.g=c)}Ja=!1};function qr(){this.s=this.s,this.C=this.C}qr.prototype.s=!1,qr.prototype.ma=function(){this.s||(this.s=!0,this.N())},qr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Et(c,h){this.type=c,this.g=this.target=h,this.defaultPrevented=!1}Et.prototype.h=function(){this.defaultPrevented=!0};var h1=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,h=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return c}();function eu(c,h){if(Et.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var p=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=h,h=c.relatedTarget){if(ee){e:{try{W(h.nodeName);var C=!0;break e}catch{}C=!1}C||(h=null)}}else p=="mouseover"?h=c.fromElement:p=="mouseout"&&(h=c.toElement);this.relatedTarget=h,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:f1[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&eu.aa.h.call(this)}}E(eu,Et);var f1={2:"touch",3:"pen",4:"mouse"};eu.prototype.h=function(){eu.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var tu="closure_listenable_"+(1e6*Math.random()|0),p1=0;function g1(c,h,p,m,C){this.listener=c,this.proxy=null,this.src=h,this.type=p,this.capture=!!m,this.ha=C,this.key=++p1,this.da=this.fa=!1}function _l(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function wl(c){this.src=c,this.g={},this.h=0}wl.prototype.add=function(c,h,p,m,C){var R=c.toString();c=this.g[R],c||(c=this.g[R]=[],this.h++);var B=og(c,h,m,C);return-1<B?(h=c[B],p||(h.fa=!1)):(h=new g1(h,this.src,R,!!m,C),h.fa=p,c.push(h)),h};function sg(c,h){var p=h.type;if(p in c.g){var m=c.g[p],C=Array.prototype.indexOf.call(m,h,void 0),R;(R=0<=C)&&Array.prototype.splice.call(m,C,1),R&&(_l(h),c.g[p].length==0&&(delete c.g[p],c.h--))}}function og(c,h,p,m){for(var C=0;C<c.length;++C){var R=c[C];if(!R.da&&R.listener==h&&R.capture==!!p&&R.ha==m)return C}return-1}var ag="closure_lm_"+(1e6*Math.random()|0),ug={};function vD(c,h,p,m,C){if(m&&m.once)return wD(c,h,p,m,C);if(Array.isArray(h)){for(var R=0;R<h.length;R++)vD(c,h[R],p,m,C);return null}return p=hg(p),c&&c[tu]?c.K(h,p,l(m)?!!m.capture:!!m,C):_D(c,h,p,!1,m,C)}function _D(c,h,p,m,C,R){if(!h)throw Error("Invalid event type");var B=l(C)?!!C.capture:!!C,Se=lg(c);if(Se||(c[ag]=Se=new wl(c)),p=Se.add(h,p,m,B,R),p.proxy)return p;if(m=m1(),p.proxy=m,m.src=c,m.listener=p,c.addEventListener)h1||(C=B),C===void 0&&(C=!1),c.addEventListener(h.toString(),m,C);else if(c.attachEvent)c.attachEvent(ED(h.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return p}function m1(){function c(p){return h.call(c.src,c.listener,p)}let h=y1;return c}function wD(c,h,p,m,C){if(Array.isArray(h)){for(var R=0;R<h.length;R++)wD(c,h[R],p,m,C);return null}return p=hg(p),c&&c[tu]?c.L(h,p,l(m)?!!m.capture:!!m,C):_D(c,h,p,!0,m,C)}function ID(c,h,p,m,C){if(Array.isArray(h))for(var R=0;R<h.length;R++)ID(c,h[R],p,m,C);else m=l(m)?!!m.capture:!!m,p=hg(p),c&&c[tu]?(c=c.i,h=String(h).toString(),h in c.g&&(R=c.g[h],p=og(R,p,m,C),-1<p&&(_l(R[p]),Array.prototype.splice.call(R,p,1),R.length==0&&(delete c.g[h],c.h--)))):c&&(c=lg(c))&&(h=c.g[h.toString()],c=-1,h&&(c=og(h,p,m,C)),(p=-1<c?h[c]:null)&&cg(p))}function cg(c){if(typeof c!="number"&&c&&!c.da){var h=c.src;if(h&&h[tu])sg(h.i,c);else{var p=c.type,m=c.proxy;h.removeEventListener?h.removeEventListener(p,m,c.capture):h.detachEvent?h.detachEvent(ED(p),m):h.addListener&&h.removeListener&&h.removeListener(m),(p=lg(h))?(sg(p,c),p.h==0&&(p.src=null,h[ag]=null)):_l(c)}}}function ED(c){return c in ug?ug[c]:ug[c]="on"+c}function y1(c,h){if(c.da)c=!0;else{h=new eu(h,this);var p=c.listener,m=c.ha||c.src;c.fa&&cg(c),c=p.call(m,h)}return c}function lg(c){return c=c[ag],c instanceof wl?c:null}var dg="__closure_events_fn_"+(1e9*Math.random()>>>0);function hg(c){return typeof c=="function"?c:(c[dg]||(c[dg]=function(h){return c.handleEvent(h)}),c[dg])}function Dt(){qr.call(this),this.i=new wl(this),this.M=this,this.F=null}E(Dt,qr),Dt.prototype[tu]=!0,Dt.prototype.removeEventListener=function(c,h,p,m){ID(this,c,h,p,m)};function xt(c,h){var p,m=c.F;if(m)for(p=[];m;m=m.F)p.push(m);if(c=c.M,m=h.type||h,typeof h=="string")h=new Et(h,c);else if(h instanceof Et)h.target=h.target||c;else{var C=h;h=new Et(m,c),D(h,C)}if(C=!0,p)for(var R=p.length-1;0<=R;R--){var B=h.g=p[R];C=Il(B,m,!0,h)&&C}if(B=h.g=c,C=Il(B,m,!0,h)&&C,C=Il(B,m,!1,h)&&C,p)for(R=0;R<p.length;R++)B=h.g=p[R],C=Il(B,m,!1,h)&&C}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var c=this.i,h;for(h in c.g){for(var p=c.g[h],m=0;m<p.length;m++)_l(p[m]);delete c.g[h],c.h--}}this.F=null},Dt.prototype.K=function(c,h,p,m){return this.i.add(String(c),h,!1,p,m)},Dt.prototype.L=function(c,h,p,m){return this.i.add(String(c),h,!0,p,m)};function Il(c,h,p,m){if(h=c.i.g[String(h)],!h)return!0;h=h.concat();for(var C=!0,R=0;R<h.length;++R){var B=h[R];if(B&&!B.da&&B.capture==p){var Se=B.listener,mt=B.ha||B.src;B.fa&&sg(c.i,B),C=Se.call(mt,m)!==!1&&C}}return C&&!m.defaultPrevented}function DD(c,h,p){if(typeof c=="function")p&&(c=g(c,p));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(c,h||0)}function bD(c){c.g=DD(()=>{c.g=null,c.i&&(c.i=!1,bD(c))},c.l);let h=c.h;c.h=null,c.m.apply(null,h)}class v1 extends qr{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:bD(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nu(c){qr.call(this),this.h=c,this.g={}}E(nu,qr);var CD=[];function TD(c){te(c.g,function(h,p){this.g.hasOwnProperty(p)&&cg(h)},c),c.g={}}nu.prototype.N=function(){nu.aa.N.call(this),TD(this)},nu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fg=a.JSON.stringify,_1=a.JSON.parse,w1=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function pg(){}pg.prototype.h=null;function AD(c){return c.h||(c.h=c.i())}function SD(){}var ru={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gg(){Et.call(this,"d")}E(gg,Et);function mg(){Et.call(this,"c")}E(mg,Et);var qi={},xD=null;function El(){return xD=xD||new Dt}qi.La="serverreachability";function MD(c){Et.call(this,qi.La,c)}E(MD,Et);function iu(c){let h=El();xt(h,new MD(h))}qi.STAT_EVENT="statevent";function ND(c,h){Et.call(this,qi.STAT_EVENT,c),this.stat=h}E(ND,Et);function Mt(c){let h=El();xt(h,new ND(h,c))}qi.Ma="timingevent";function RD(c,h){Et.call(this,qi.Ma,c),this.size=h}E(RD,Et);function su(c,h){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},h)}function ou(){this.g=!0}ou.prototype.xa=function(){this.g=!1};function I1(c,h,p,m,C,R){c.info(function(){if(c.g)if(R)for(var B="",Se=R.split("&"),mt=0;mt<Se.length;mt++){var Ee=Se[mt].split("=");if(1<Ee.length){var bt=Ee[0];Ee=Ee[1];var Ct=bt.split("_");B=2<=Ct.length&&Ct[1]=="type"?B+(bt+"="+Ee+"&"):B+(bt+"=redacted&")}}else B=null;else B=R;return"XMLHTTP REQ ("+m+") [attempt "+C+"]: "+h+`
`+p+`
`+B})}function E1(c,h,p,m,C,R,B){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+C+"]: "+h+`
`+p+`
`+R+" "+B})}function Xs(c,h,p,m){c.info(function(){return"XMLHTTP TEXT ("+h+"): "+b1(c,p)+(m?" "+m:"")})}function D1(c,h){c.info(function(){return"TIMEOUT: "+h})}ou.prototype.info=function(){};function b1(c,h){if(!c.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(c=0;c<p.length;c++)if(Array.isArray(p[c])){var m=p[c];if(!(2>m.length)){var C=m[1];if(Array.isArray(C)&&!(1>C.length)){var R=C[0];if(R!="noop"&&R!="stop"&&R!="close")for(var B=1;B<C.length;B++)C[B]=""}}}}return fg(p)}catch{return h}}var Dl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},PD={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yg;function bl(){}E(bl,pg),bl.prototype.g=function(){return new XMLHttpRequest},bl.prototype.i=function(){return{}},yg=new bl;function Gr(c,h,p,m){this.j=c,this.i=h,this.l=p,this.R=m||1,this.U=new nu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kD}function kD(){this.i=null,this.g="",this.h=!1}var OD={},vg={};function _g(c,h,p){c.L=1,c.v=Sl(pr(h)),c.m=p,c.P=!0,FD(c,null)}function FD(c,h){c.F=Date.now(),Cl(c),c.A=pr(c.v);var p=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),YD(p.i,"t",m),c.C=0,p=c.j.J,c.h=new kD,c.g=pb(c.j,p?h:null,!c.m),0<c.O&&(c.M=new v1(g(c.Y,c,c.g),c.O)),h=c.U,p=c.g,m=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(CD[0]=C.toString()),C=CD);for(var R=0;R<C.length;R++){var B=vD(p,C[R],m||h.handleEvent,!1,h.h||h);if(!B)break;h.g[B.key]=B}h=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,h)):(c.u="GET",c.g.ea(c.A,c.u,null,h)),iu(),I1(c.i,c.u,c.A,c.l,c.R,c.m)}Gr.prototype.ca=function(c){c=c.target;let h=this.M;h&&gr(c)==3?h.j():this.Y(c)},Gr.prototype.Y=function(c){try{if(c==this.g)e:{let Ct=gr(this.g);var h=this.g.Ba();let to=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||rb(this.g)))){this.J||Ct!=4||h==7||(h==8||0>=to?iu(3):iu(2)),wg(this);var p=this.g.Z();this.X=p;t:if(VD(this)){var m=rb(this.g);c="";var C=m.length,R=gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gi(this),au(this);var B="";break t}this.h.i=new a.TextDecoder}for(h=0;h<C;h++)this.h.h=!0,c+=this.h.i.decode(m[h],{stream:!(R&&h==C-1)});m.length=0,this.h.g+=c,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=p==200,E1(this.i,this.u,this.A,this.l,this.R,Ct,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,mt=this.g;if((Se=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Se)){var Ee=Se;break t}}Ee=null}if(p=Ee)Xs(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ig(this,p);else{this.o=!1,this.s=3,Mt(12),Gi(this),au(this);break e}}if(this.P){p=!0;let Dn;for(;!this.J&&this.C<B.length;)if(Dn=C1(this,B),Dn==vg){Ct==4&&(this.s=4,Mt(14),p=!1),Xs(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==OD){this.s=4,Mt(15),Xs(this.i,this.l,B,"[Invalid Chunk]"),p=!1;break}else Xs(this.i,this.l,Dn,null),Ig(this,Dn);if(VD(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||B.length!=0||this.h.h||(this.s=1,Mt(16),p=!1),this.o=this.o&&p,!p)Xs(this.i,this.l,B,"[Invalid Chunked Response]"),Gi(this),au(this);else if(0<B.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Ag(bt),bt.M=!0,Mt(11))}}else Xs(this.i,this.l,B,null),Ig(this,B);Ct==4&&Gi(this),this.o&&!this.J&&(Ct==4?lb(this.j,this):(this.o=!1,Cl(this)))}else $1(this.g),p==400&&0<B.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),Gi(this),au(this)}}}catch{}finally{}};function VD(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function C1(c,h){var p=c.C,m=h.indexOf(`
`,p);return m==-1?vg:(p=Number(h.substring(p,m)),isNaN(p)?OD:(m+=1,m+p>h.length?vg:(h=h.slice(m,m+p),c.C=m+p,h)))}Gr.prototype.cancel=function(){this.J=!0,Gi(this)};function Cl(c){c.S=Date.now()+c.I,LD(c,c.I)}function LD(c,h){if(c.B!=null)throw Error("WatchDog timer not null");c.B=su(g(c.ba,c),h)}function wg(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Gr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(D1(this.i,this.A),this.L!=2&&(iu(),Mt(17)),Gi(this),this.s=2,au(this)):LD(this,this.S-c)};function au(c){c.j.G==0||c.J||lb(c.j,c)}function Gi(c){wg(c);var h=c.M;h&&typeof h.ma=="function"&&h.ma(),c.M=null,TD(c.U),c.g&&(h=c.g,c.g=null,h.abort(),h.ma())}function Ig(c,h){try{var p=c.j;if(p.G!=0&&(p.g==c||Eg(p.h,c))){if(!c.K&&Eg(p.h,c)&&p.G==3){try{var m=p.Da.g.parse(h)}catch{m=null}if(Array.isArray(m)&&m.length==3){var C=m;if(C[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<c.F)Pl(p),Nl(p);else break e;Tg(p),Mt(18)}}else p.za=C[1],0<p.za-p.T&&37500>C[2]&&p.F&&p.v==0&&!p.C&&(p.C=su(g(p.Za,p),6e3));if(1>=UD(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Ki(p,11)}else if((c.K||p.g==c)&&Pl(p),!j(h))for(C=p.Da.g.parse(h),h=0;h<C.length;h++){let Ee=C[h];if(p.T=Ee[0],Ee=Ee[1],p.G==2)if(Ee[0]=="c"){p.K=Ee[1],p.ia=Ee[2];let bt=Ee[3];bt!=null&&(p.la=bt,p.j.info("VER="+p.la));let Ct=Ee[4];Ct!=null&&(p.Aa=Ct,p.j.info("SVER="+p.Aa));let to=Ee[5];to!=null&&typeof to=="number"&&0<to&&(m=1.5*to,p.L=m,p.j.info("backChannelRequestTimeoutMs_="+m)),m=p;let Dn=c.g;if(Dn){let Ol=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ol){var R=m.h;R.g||Ol.indexOf("spdy")==-1&&Ol.indexOf("quic")==-1&&Ol.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(Dg(R,R.h),R.h=null))}if(m.D){let Sg=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;Sg&&(m.ya=Sg,ke(m.I,m.D,Sg))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-c.F,p.j.info("Handshake RTT: "+p.R+"ms")),m=p;var B=c;if(m.qa=fb(m,m.J?m.ia:null,m.W),B.K){$D(m.h,B);var Se=B,mt=m.L;mt&&(Se.I=mt),Se.B&&(wg(Se),Cl(Se)),m.g=B}else ub(m);0<p.i.length&&Rl(p)}else Ee[0]!="stop"&&Ee[0]!="close"||Ki(p,7);else p.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?Ki(p,7):Cg(p):Ee[0]!="noop"&&p.l&&p.l.ta(Ee),p.v=0)}}iu(4)}catch{}}var T1=class{constructor(c,h){this.g=c,this.map=h}};function jD(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function BD(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function UD(c){return c.h?1:c.g?c.g.size:0}function Eg(c,h){return c.h?c.h==h:c.g?c.g.has(h):!1}function Dg(c,h){c.g?c.g.add(h):c.h=h}function $D(c,h){c.h&&c.h==h?c.h=null:c.g&&c.g.has(h)&&c.g.delete(h)}jD.prototype.cancel=function(){if(this.i=HD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function HD(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let h=c.i;for(let p of c.g.values())h=h.concat(p.D);return h}return T(c.i)}function A1(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var h=[],p=c.length,m=0;m<p;m++)h.push(c[m]);return h}h=[],p=0;for(m in c)h[p++]=c[m];return h}function S1(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var h=[];c=c.length;for(var p=0;p<c;p++)h.push(p);return h}h=[],p=0;for(let m in c)h[p++]=m;return h}}}function zD(c,h){if(c.forEach&&typeof c.forEach=="function")c.forEach(h,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,h,void 0);else for(var p=S1(c),m=A1(c),C=m.length,R=0;R<C;R++)h.call(void 0,m[R],p&&p[R],c)}var qD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function x1(c,h){if(c){c=c.split("&");for(var p=0;p<c.length;p++){var m=c[p].indexOf("="),C=null;if(0<=m){var R=c[p].substring(0,m);C=c[p].substring(m+1)}else R=c[p];h(R,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Wi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Wi){this.h=c.h,Tl(this,c.j),this.o=c.o,this.g=c.g,Al(this,c.s),this.l=c.l;var h=c.i,p=new lu;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),GD(this,p),this.m=c.m}else c&&(h=String(c).match(qD))?(this.h=!1,Tl(this,h[1]||"",!0),this.o=uu(h[2]||""),this.g=uu(h[3]||"",!0),Al(this,h[4]),this.l=uu(h[5]||"",!0),GD(this,h[6]||"",!0),this.m=uu(h[7]||"")):(this.h=!1,this.i=new lu(null,this.h))}Wi.prototype.toString=function(){var c=[],h=this.j;h&&c.push(cu(h,WD,!0),":");var p=this.g;return(p||h=="file")&&(c.push("//"),(h=this.o)&&c.push(cu(h,WD,!0),"@"),c.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&c.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&c.push("/"),c.push(cu(p,p.charAt(0)=="/"?R1:N1,!0))),(p=this.i.toString())&&c.push("?",p),(p=this.m)&&c.push("#",cu(p,k1)),c.join("")};function pr(c){return new Wi(c)}function Tl(c,h,p){c.j=p?uu(h,!0):h,c.j&&(c.j=c.j.replace(/:$/,""))}function Al(c,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);c.s=h}else c.s=null}function GD(c,h,p){h instanceof lu?(c.i=h,O1(c.i,c.h)):(p||(h=cu(h,P1)),c.i=new lu(h,c.h))}function ke(c,h,p){c.i.set(h,p)}function Sl(c){return ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function uu(c,h){return c?h?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function cu(c,h,p){return typeof c=="string"?(c=encodeURI(c).replace(h,M1),p&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function M1(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var WD=/[#\/\?@]/g,N1=/[#\?:]/g,R1=/[#\?]/g,P1=/[#\?@]/g,k1=/#/g;function lu(c,h){this.h=this.g=null,this.i=c||null,this.j=!!h}function Wr(c){c.g||(c.g=new Map,c.h=0,c.i&&x1(c.i,function(h,p){c.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=lu.prototype,t.add=function(c,h){Wr(this),this.i=null,c=Js(this,c);var p=this.g.get(c);return p||this.g.set(c,p=[]),p.push(h),this.h+=1,this};function KD(c,h){Wr(c),h=Js(c,h),c.g.has(h)&&(c.i=null,c.h-=c.g.get(h).length,c.g.delete(h))}function QD(c,h){return Wr(c),h=Js(c,h),c.g.has(h)}t.forEach=function(c,h){Wr(this),this.g.forEach(function(p,m){p.forEach(function(C){c.call(h,C,m,this)},this)},this)},t.na=function(){Wr(this);let c=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let m=0;m<h.length;m++){let C=c[m];for(let R=0;R<C.length;R++)p.push(h[m])}return p},t.V=function(c){Wr(this);let h=[];if(typeof c=="string")QD(this,c)&&(h=h.concat(this.g.get(Js(this,c))));else{c=Array.from(this.g.values());for(let p=0;p<c.length;p++)h=h.concat(c[p])}return h},t.set=function(c,h){return Wr(this),this.i=null,c=Js(this,c),QD(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[h]),this.h+=1,this},t.get=function(c,h){return c?(c=this.V(c),0<c.length?String(c[0]):h):h};function YD(c,h,p){KD(c,h),0<p.length&&(c.i=null,c.g.set(Js(c,h),T(p)),c.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var m=h[p];let R=encodeURIComponent(String(m)),B=this.V(m);for(m=0;m<B.length;m++){var C=R;B[m]!==""&&(C+="="+encodeURIComponent(String(B[m]))),c.push(C)}}return this.i=c.join("&")};function Js(c,h){return h=String(h),c.j&&(h=h.toLowerCase()),h}function O1(c,h){h&&!c.j&&(Wr(c),c.i=null,c.g.forEach(function(p,m){var C=m.toLowerCase();m!=C&&(KD(this,m),YD(this,C,p))},c)),c.j=h}function F1(c,h){let p=new ou;if(a.Image){let m=new Image;m.onload=y(Kr,p,"TestLoadImage: loaded",!0,h,m),m.onerror=y(Kr,p,"TestLoadImage: error",!1,h,m),m.onabort=y(Kr,p,"TestLoadImage: abort",!1,h,m),m.ontimeout=y(Kr,p,"TestLoadImage: timeout",!1,h,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else h(!1)}function V1(c,h){let p=new ou,m=new AbortController,C=setTimeout(()=>{m.abort(),Kr(p,"TestPingServer: timeout",!1,h)},1e4);fetch(c,{signal:m.signal}).then(R=>{clearTimeout(C),R.ok?Kr(p,"TestPingServer: ok",!0,h):Kr(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(C),Kr(p,"TestPingServer: error",!1,h)})}function Kr(c,h,p,m,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),m(p)}catch{}}function L1(){this.g=new w1}function j1(c,h,p){let m=p||"";try{zD(c,function(C,R){let B=C;l(C)&&(B=fg(C)),h.push(m+R+"="+encodeURIComponent(B))})}catch(C){throw h.push(m+"type="+encodeURIComponent("_badmap")),C}}function du(c){this.l=c.Ub||null,this.j=c.eb||!1}E(du,pg),du.prototype.g=function(){return new xl(this.l,this.j)},du.prototype.i=function(c){return function(){return c}}({});function xl(c,h){Dt.call(this),this.D=c,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(xl,Dt),t=xl.prototype,t.open=function(c,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=h,this.readyState=1,fu(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(h.body=c),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hu(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,fu(this)),this.g&&(this.readyState=3,fu(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ZD(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ZD(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var h=c.value?c.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!c.done}))&&(this.response=this.responseText+=h)}c.done?hu(this):fu(this),this.readyState==3&&ZD(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,hu(this))},t.Qa=function(c){this.g&&(this.response=c,hu(this))},t.ga=function(){this.g&&hu(this)};function hu(c){c.readyState=4,c.l=null,c.j=null,c.v=null,fu(c)}t.setRequestHeader=function(c,h){this.u.append(c,h)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,c.push(p[0]+": "+p[1]),p=h.next();return c.join(`\r
`)};function fu(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function XD(c){let h="";return te(c,function(p,m){h+=m,h+=":",h+=p,h+=`\r
`}),h}function bg(c,h,p){e:{for(m in p){var m=!1;break e}m=!0}m||(p=XD(p),typeof c=="string"?p!=null&&encodeURIComponent(String(p)):ke(c,h,p))}function qe(c){Dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(qe,Dt);var B1=/^https?$/i,U1=["POST","PUT"];t=qe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,h,p,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);h=h?h.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yg.g(),this.v=this.o?AD(this.o):AD(yg),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(c),!0),this.B=!1}catch(R){JD(this,R);return}if(c=p||"",p=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var C in m)p.set(C,m[C]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let R of m.keys())p.set(R,m.get(R));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(p.keys()).find(R=>R.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(U1,h,void 0))||m||C||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,B]of p)this.g.setRequestHeader(R,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nb(this),this.u=!0,this.g.send(c),this.u=!1}catch(R){JD(this,R)}};function JD(c,h){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=h,c.m=5,eb(c),Ml(c)}function eb(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,xt(this,"complete"),xt(this,"abort"),Ml(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ml(this,!0)),qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tb(this):this.bb())},t.bb=function(){tb(this)};function tb(c){if(c.h&&typeof o<"u"&&(!c.v[1]||gr(c)!=4||c.Z()!=2)){if(c.u&&gr(c)==4)DD(c.Ea,0,c);else if(xt(c,"readystatechange"),gr(c)==4){c.h=!1;try{let B=c.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var m;if(m=B===0){var C=String(c.D).match(qD)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),m=!B1.test(C?C.toLowerCase():"")}p=m}if(p)xt(c,"complete"),xt(c,"success");else{c.m=6;try{var R=2<gr(c)?c.g.statusText:""}catch{R=""}c.l=R+" ["+c.Z()+"]",eb(c)}}finally{Ml(c)}}}}function Ml(c,h){if(c.g){nb(c);let p=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,h||xt(c,"ready");try{p.onreadystatechange=m}catch{}}}function nb(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function gr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<gr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var h=this.g.responseText;return c&&h.indexOf(c)==0&&(h=h.substring(c.length)),_1(h)}};function rb(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $1(c){let h={};c=(c.g&&2<=gr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(j(c[m]))continue;var p=b(c[m]);let C=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let R=h[C]||[];h[C]=R,R.push(p)}I(h,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pu(c,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[c]||h}function ib(c){this.Aa=0,this.i=[],this.j=new ou,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pu("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pu("baseRetryDelayMs",5e3,c),this.cb=pu("retryDelaySeedMs",1e4,c),this.Wa=pu("forwardChannelMaxRetries",2,c),this.wa=pu("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new jD(c&&c.concurrentRequestLimit),this.Da=new L1,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ib.prototype,t.la=8,t.G=1,t.connect=function(c,h,p,m){Mt(0),this.W=c,this.H=h||{},p&&m!==void 0&&(this.H.OSID=p,this.H.OAID=m),this.F=this.X,this.I=fb(this,null,this.W),Rl(this)};function Cg(c){if(sb(c),c.G==3){var h=c.U++,p=pr(c.I);if(ke(p,"SID",c.K),ke(p,"RID",h),ke(p,"TYPE","terminate"),gu(c,p),h=new Gr(c,c.j,h),h.L=2,h.v=Sl(pr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=pb(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Cl(h)}hb(c)}function Nl(c){c.g&&(Ag(c),c.g.cancel(),c.g=null)}function sb(c){Nl(c),c.u&&(a.clearTimeout(c.u),c.u=null),Pl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Rl(c){if(!BD(c.h)&&!c.s){c.s=!0;var h=c.Ga;Xa||yD(),Ja||(Xa(),Ja=!0),ig.add(h,c),c.B=0}}function H1(c,h){return UD(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=h.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=su(g(c.Ga,c,h),db(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new Gr(this,this.j,c),R=this.o;if(this.S&&(R?(R=v(R),D(R,this.S)):R=this.S),this.m!==null||this.O||(C.H=R,R=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var m=this.i[p];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(h+=m,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=ab(this,C,h),p=pr(this.I),ke(p,"RID",c),ke(p,"CVER",22),this.D&&ke(p,"X-HTTP-Session-Id",this.D),gu(this,p),R&&(this.O?h="headers="+encodeURIComponent(String(XD(R)))+"&"+h:this.m&&bg(p,this.m,R)),Dg(this.h,C),this.Ua&&ke(p,"TYPE","init"),this.P?(ke(p,"$req",h),ke(p,"SID","null"),C.T=!0,_g(C,p,null)):_g(C,p,h),this.G=2}}else this.G==3&&(c?ob(this,c):this.i.length==0||BD(this.h)||ob(this))};function ob(c,h){var p;h?p=h.l:p=c.U++;let m=pr(c.I);ke(m,"SID",c.K),ke(m,"RID",p),ke(m,"AID",c.T),gu(c,m),c.m&&c.o&&bg(m,c.m,c.o),p=new Gr(c,c.j,p,c.B+1),c.m===null&&(p.H=c.o),h&&(c.i=h.D.concat(c.i)),h=ab(c,p,1e3),p.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Dg(c.h,p),_g(p,m,h)}function gu(c,h){c.H&&te(c.H,function(p,m){ke(h,m,p)}),c.l&&zD({},function(p,m){ke(h,m,p)})}function ab(c,h,p){p=Math.min(c.i.length,p);var m=c.l?g(c.l.Na,c.l,c):null;e:{var C=c.i;let R=-1;for(;;){let B=["count="+p];R==-1?0<p?(R=C[0].g,B.push("ofs="+R)):R=0:B.push("ofs="+R);let Se=!0;for(let mt=0;mt<p;mt++){let Ee=C[mt].g,bt=C[mt].map;if(Ee-=R,0>Ee)R=Math.max(0,C[mt].g-100),Se=!1;else try{j1(bt,B,"req"+Ee+"_")}catch{m&&m(bt)}}if(Se){m=B.join("&");break e}}}return c=c.i.splice(0,p),h.D=c,m}function ub(c){if(!c.g&&!c.u){c.Y=1;var h=c.Fa;Xa||yD(),Ja||(Xa(),Ja=!0),ig.add(h,c),c.v=0}}function Tg(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=su(g(c.Fa,c),db(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,cb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=su(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Mt(10),Nl(this),cb(this))};function Ag(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function cb(c){c.g=new Gr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var h=pr(c.qa);ke(h,"RID","rpc"),ke(h,"SID",c.K),ke(h,"AID",c.T),ke(h,"CI",c.F?"0":"1"),!c.F&&c.ja&&ke(h,"TO",c.ja),ke(h,"TYPE","xmlhttp"),gu(c,h),c.m&&c.o&&bg(h,c.m,c.o),c.L&&(c.g.I=c.L);var p=c.g;c=c.ia,p.L=1,p.v=Sl(pr(h)),p.m=null,p.P=!0,FD(p,c)}t.Za=function(){this.C!=null&&(this.C=null,Nl(this),Tg(this),Mt(19))};function Pl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function lb(c,h){var p=null;if(c.g==h){Pl(c),Ag(c),c.g=null;var m=2}else if(Eg(c.h,h))p=h.D,$D(c.h,h),m=1;else return;if(c.G!=0){if(h.o)if(m==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var C=c.B;m=El(),xt(m,new RD(m,p)),Rl(c)}else ub(c);else if(C=h.s,C==3||C==0&&0<h.X||!(m==1&&H1(c,h)||m==2&&Tg(c)))switch(p&&0<p.length&&(h=c.h,h.i=h.i.concat(p)),C){case 1:Ki(c,5);break;case 4:Ki(c,10);break;case 3:Ki(c,6);break;default:Ki(c,2)}}}function db(c,h){let p=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(p*=2),p*h}function Ki(c,h){if(c.j.info("Error code "+h),h==2){var p=g(c.fb,c),m=c.Xa;let C=!m;m=new Wi(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Tl(m,"https"),Sl(m),C?F1(m.toString(),p):V1(m.toString(),p)}else Mt(2);c.G=0,c.l&&c.l.sa(h),hb(c),sb(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function hb(c){if(c.G=0,c.ka=[],c.l){let h=HD(c.h);(h.length!=0||c.i.length!=0)&&(A(c.ka,h),A(c.ka,c.i),c.h.i.length=0,T(c.i),c.i.length=0),c.l.ra()}}function fb(c,h,p){var m=p instanceof Wi?pr(p):new Wi(p);if(m.g!="")h&&(m.g=h+"."+m.g),Al(m,m.s);else{var C=a.location;m=C.protocol,h=h?h+"."+C.hostname:C.hostname,C=+C.port;var R=new Wi(null);m&&Tl(R,m),h&&(R.g=h),C&&Al(R,C),p&&(R.l=p),m=R}return p=c.D,h=c.ya,p&&h&&ke(m,p,h),ke(m,"VER",c.la),gu(c,m),m}function pb(c,h,p){if(h&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=c.Ca&&!c.pa?new qe(new du({eb:p})):new qe(c.pa),h.Ha(c.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gb(){}t=gb.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function kl(){}kl.prototype.g=function(c,h){return new Qt(c,h)};function Qt(c,h){Dt.call(this),this.g=new ib(h),this.l=c,this.h=h&&h.messageUrlParams||null,c=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(c?c["X-WebChannel-Content-Type"]=h.messageContentType:c={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(c?c["X-WebChannel-Client-Profile"]=h.va:c={"X-WebChannel-Client-Profile":h.va}),this.g.S=c,(c=h&&h.Sb)&&!j(c)&&(this.g.m=c),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!j(h)&&(this.g.D=h,c=this.h,c!==null&&h in c&&(c=this.h,h in c&&delete c[h])),this.j=new eo(this)}E(Qt,Dt),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){Cg(this.g)},Qt.prototype.o=function(c){var h=this.g;if(typeof c=="string"){var p={};p.__data__=c,c=p}else this.u&&(p={},p.__data__=fg(c),c=p);h.i.push(new T1(h.Ya++,c)),h.G==3&&Rl(h)},Qt.prototype.N=function(){this.g.l=null,delete this.j,Cg(this.g),delete this.g,Qt.aa.N.call(this)};function mb(c){gg.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var h=c.__sm__;if(h){e:{for(let p in h){c=p;break e}c=void 0}(this.i=c)&&(c=this.i,h=h!==null&&c in h?h[c]:void 0),this.data=h}else this.data=c}E(mb,gg);function yb(){mg.call(this),this.status=1}E(yb,mg);function eo(c){this.g=c}E(eo,gb),eo.prototype.ua=function(){xt(this.g,"a")},eo.prototype.ta=function(c){xt(this.g,new mb(c))},eo.prototype.sa=function(c){xt(this.g,new yb)},eo.prototype.ra=function(){xt(this.g,"b")},kl.prototype.createWebChannel=kl.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,mw=Or.createWebChannelTransport=function(){return new kl},gw=Or.getStatEventTarget=function(){return El()},pw=Or.Event=qi,Of=Or.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dl.NO_ERROR=0,Dl.TIMEOUT=8,Dl.HTTP_ERROR=6,xc=Or.ErrorCode=Dl,PD.COMPLETE="complete",fw=Or.EventType=PD,SD.EventType=ru,ru.OPEN="a",ru.CLOSE="b",ru.ERROR="c",ru.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,ca=Or.WebChannel=SD,hw=Or.FetchXmlHttpFactory=du,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,dw=Or.XhrIo=qe}).apply(typeof kf<"u"?kf:typeof self<"u"?self:typeof window<"u"?window:{});var CM="@firebase/firestore";var ot=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");var Ba="10.13.2";var Ri=new Ll("@firebase/firestore");function pa(){return Ri.logLevel}function AN(t){Ri.setLogLevel(t)}function F(t,...e){if(Ri.logLevel<=jn.DEBUG){let n=e.map(IE);Ri.debug(`Firestore (${Ba}): ${t}`,...n)}}function Ze(t,...e){if(Ri.logLevel<=jn.ERROR){let n=e.map(IE);Ri.error(`Firestore (${Ba}): ${t}`,...n)}}function wn(t,...e){if(Ri.logLevel<=jn.WARN){let n=e.map(IE);Ri.warn(`Firestore (${Ba}): ${t}`,...n)}}function IE(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function G(t="Unexpected state"){let e=`FIRESTORE (${Ba}) INTERNAL ASSERTION FAILED: `+t;throw Ze(e),new Error(e)}function J(t,e){t||G()}function SN(t,e){t||G()}function $(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},O=class extends Db{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var at=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Gf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Iw=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ot.UNAUTHENTICATED))}shutdown(){}},Ew=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Dw=class{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new at;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new at,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>P(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new at)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(J(typeof r.accessToken=="string"),new Gf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return J(e===null||typeof e=="string"),new ot(e)}},bw=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Cw=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new bw(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Tw=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Aw=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,F("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(J(typeof n.token=="string"),this.R=n.token,new Tw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Ez(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Wf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Ez(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function oe(t,e){return t<e?-1:t>e?1:0}function Da(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function xN(t){return t+"\0"}var ze=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new O(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new O(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new O(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ze(0,0))}static max(){return new t(new ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Kf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&G(),r===void 0?r=e.length-n:r>e.length-n&&G(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},_e=class t extends Kf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new O(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Dz=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Xe=class t extends Kf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Dz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new O(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new O(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new O(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new O(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var H=class t{constructor(e){this.path=e}static fromPath(e){return new t(_e.fromString(e))}static fromName(e){return new t(_e.fromString(e).popFirst(5))}static empty(){return new t(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new _e(e.slice()))}};var ba=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};function Sw(t){return t.fields.find(e=>e.kind===2)}function As(t){return t.fields.filter(e=>e.kind!==2)}ba.UNKNOWN_ID=-1;var wa=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var Uc=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,In.min())}};function MN(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new ze(n+1,0):new ze(n,r));return new In(i,H.empty(),e)}function NN(t){return new In(t.readTime,t.key,-1)}var In=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ne.min(),H.empty(),-1)}static max(){return new t(ne.max(),H.empty(),-1)}};function EE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}var RN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qf=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function $i(t){return P(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==RN)throw t;F("LocalStore","Unexpectedly lost primary lease")})}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(d=>{o[l]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var Yf=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new at,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ps(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=DE(r.target.error);this.V.reject(new Ps(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new Ps(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(F("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new Mw(n)}},Pi=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(mu())===12.2&&Ze("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return F("SimpleDb","Removing database:",e),Ss(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Vl())return!1;if(t.v())return!0;let e=mu(),n=t.S(e),r=0<n&&n<10,i=PN(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){return P(this,null,function*(){return this.db||(F("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new Ps(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new O(N.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new O(N.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Ps(e,o))},i.onupgradeneeded=s=>{F("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{F("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return P(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.M(e);let a=Yf.open(this.db,e,s?"readonly":"readwrite",r),u=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),M.reject(l))).toPromise();return u.catch(()=>{}),yield a.m,u}catch(a){let u=a,l=u.name!=="FirebaseError"&&o<3;if(F("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),!l)return Promise.reject(u)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function PN(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}var xw=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Ss(this.B.delete())}},Ps=class extends O{constructor(e,n){super(N.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Hi(t){return t.name==="IndexedDbTransactionError"}var Mw=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(F("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(F("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ss(r)}add(e){return F("SimpleDb","ADD",this.store.name,e,e),Ss(this.store.add(e))}get(e){return Ss(this.store.get(e)).next(n=>(n===void 0&&(n=null),F("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return F("SimpleDb","DELETE",this.store.name,e),Ss(this.store.delete(e))}count(){return F("SimpleDb","COUNT",this.store.name),Ss(this.store.count())}U(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new M((o,a)=>{s.onerror=u=>{a(u.target.error)},s.onsuccess=u=>{o(u.target.result)}})}{let s=this.cursor(r),o=[];return this.W(s,(a,u)=>{o.push(u)}).next(()=>o)}}G(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new M((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){F("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.H=!1;let i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.W(i,n)}Y(e){let n=this.cursor({});return new M((r,i)=>{n.onerror=s=>{let o=DE(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){let r=[];return new M((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let u=new xw(a),l=n(a.primaryKey,a.value,u);if(l instanceof M){let d=l.catch(f=>(u.done(),M.reject(f)));r.push(d)}u.isDone?i():u.K===null?a.continue():a.continue(u.K)}}).next(()=>M.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Ss(t){return new M((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=DE(r.target.error);n(i)}})}var TM=!1;function DE(t){let e=Pi.S(mu());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new O("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return TM||(TM=!0,setTimeout(()=>{throw r},0)),r}}return t}var Nw=class{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){F("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>P(this,null,function*(){this.task=null;try{F("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(n){Hi(n)?F("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):yield $i(n)}yield this.X(6e4)}))}},Rw=class{constructor(e,n){this.localStore=e,this.persistence=n}ee(e=50){return P(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))})}te(e,n){let r=new Set,i=n,s=!0;return M.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return F("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{let o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(F("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{let o=NN(s);EE(o,r)>0&&(r=o)}),new In(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}};var un=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function ll(t){return t==null}function $c(t){return t===0&&1/t==-1/0}function kN(t){return typeof t=="number"&&Number.isInteger(t)&&!$c(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Lt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=AM(e)),e=bz(t.get(n),e);return AM(e)}function bz(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function AM(t){return t+""}function rr(t){let e=t.length;if(J(e>=2),e===2)return J(t.charAt(0)===""&&t.charAt(1)===""),_e.emptyPath();let n=e-2,r=[],i="";for(let s=0;s<e;){let o=t.indexOf("",s);switch((o<0||o>n)&&G(),t.charAt(o+1)){case"":let a=t.substring(s,o),u;i.length===0?u=a:(i+=a,u=i,i=""),r.push(u);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:G()}s=o+2}return new _e(r)}var SM=["userId","batchId"];function Bf(t,e){return[t,Lt(e)]}function ON(t,e,n){return[t,Lt(e),n]}var Cz={},Tz=["prefixPath","collectionGroup","readTime","documentId"],Az=["prefixPath","collectionGroup","documentId"],Sz=["collectionGroup","readTime","prefixPath","documentId"],xz=["canonicalId","targetId"],Mz=["targetId","path"],Nz=["path","targetId"],Rz=["collectionId","parent"],Pz=["indexId","uid"],kz=["uid","sequenceNumber"],Oz=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Fz=["indexId","uid","orderedDocumentKey"],Vz=["userId","collectionPath","documentId"],Lz=["userId","collectionPath","largestBatchId"],jz=["userId","collectionGroup","largestBatchId"],FN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Bz=[...FN,"documentOverlays"],VN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],LN=VN,bE=[...LN,"indexConfiguration","indexState","indexEntries"],Uz=bE,$z=[...bE,"globals"];var Hc=class extends Qf{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}};function dt(t,e){let n=$(t);return Pi.F(n._e,e)}function xM(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jN(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ve=class t{constructor(e,n){this.comparator=e,this.root=n||sr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _a(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _a(this.root,e,this.comparator,!1)}getReverseIterator(){return new _a(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _a(this.root,e,this.comparator,!0)}},_a=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},sr=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();let e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}};sr.EMPTY=null,sr.RED=!0,sr.BLACK=!1;sr.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(e,n,r,i,s){return this}insert(e,n,r){return new sr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ne=class t{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zf(this.data.getIterator())}getIteratorFrom(e){return new Zf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Zf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function la(t){return t.hasNext()?t.getNext():void 0}var cn=class t{constructor(e){this.fields=e,e.sort(Xe.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ne(Xe.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Da(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Xf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function BN(){return typeof atob<"u"}var et=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Xf("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};et.EMPTY_BYTE_STRING=new et("");var Hz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lr(t){if(J(!!t),typeof t=="string"){let e=0,n=Hz.exec(t);if(J(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ki(t){return typeof t=="string"?et.fromBase64String(t):et.fromUint8Array(t)}function $p(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function CE(t){let e=t.mapValue.fields.__previous_value__;return $p(e)?CE(e):e}function zc(t){let e=Lr(t.mapValue.fields.__local_write_time__.timestampValue);return new ze(e.seconds,e.nanos)}var Pw=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Oi=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Mi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Uf={nullValue:"NULL_VALUE"};function ks(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$p(t)?4:UN(t)?9007199254740991:Hp(t)?10:11:G()}function ur(t,e){if(t===e)return!0;let n=ks(t);if(n!==ks(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zc(t).isEqual(zc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Lr(i.timestampValue),a=Lr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ki(i.bytesValue).isEqual(ki(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Be(i.geoPointValue.latitude)===Be(s.geoPointValue.latitude)&&Be(i.geoPointValue.longitude)===Be(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Be(i.integerValue)===Be(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Be(i.doubleValue),a=Be(s.doubleValue);return o===a?$c(o)===$c(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Da(t.arrayValue.values||[],e.arrayValue.values||[],ur);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(xM(o)!==xM(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!ur(o[u],a[u])))return!1;return!0}(t,e);default:return G()}}function qc(t,e){return(t.values||[]).find(n=>ur(n,e))!==void 0}function Fi(t,e){if(t===e)return 0;let n=ks(t),r=ks(e);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Be(s.integerValue||s.doubleValue),u=Be(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return MM(t.timestampValue,e.timestampValue);case 4:return MM(zc(t),zc(e));case 5:return oe(t.stringValue,e.stringValue);case 6:return function(s,o){let a=ki(s),u=ki(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let d=oe(a[l],u[l]);if(d!==0)return d}return oe(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=oe(Be(s.latitude),Be(o.latitude));return a!==0?a:oe(Be(s.longitude),Be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return NM(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,d;let f=s.fields||{},g=o.fields||{},y=(a=f.value)===null||a===void 0?void 0:a.arrayValue,E=(u=g.value)===null||u===void 0?void 0:u.arrayValue,T=oe(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((d=E?.values)===null||d===void 0?void 0:d.length)||0);return T!==0?T:NM(y,E)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Mi.mapValue&&o===Mi.mapValue)return 0;if(s===Mi.mapValue)return 1;if(o===Mi.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},d=Object.keys(l);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){let g=oe(u[f],d[f]);if(g!==0)return g;let y=Fi(a[u[f]],l[d[f]]);if(y!==0)return y}return oe(u.length,d.length)}(t.mapValue,e.mapValue);default:throw G()}}function MM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);let n=Lr(t),r=Lr(e),i=oe(n.seconds,r.seconds);return i!==0?i:oe(n.nanos,r.nanos)}function NM(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Fi(n[i],r[i]);if(s)return s}return oe(n.length,r.length)}function Ca(t){return kw(t)}function kw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Lr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ki(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=kw(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${kw(n.fields[o])}`;return i+"}"}(t.mapValue):G()}function Os(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ow(t){return!!t&&"integerValue"in t}function Gc(t){return!!t&&"arrayValue"in t}function RM(t){return!!t&&"nullValue"in t}function PM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $f(t){return!!t&&"mapValue"in t}function Hp(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Fc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return qs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function UN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var $N={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function zz(t){return"nullValue"in t?Uf:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Os(Oi.empty(),H.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Hp(t)?$N:{mapValue:{}}:G()}function qz(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Os(Oi.empty(),H.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?$N:"mapValue"in t?Hp(t)?{mapValue:{}}:Mi:G()}function kM(t,e){let n=Fi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function OM(t,e){let n=Fi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var St=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$f(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fc(n)}setAll(e){let n=Xe.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Fc(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());$f(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$f(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){qs(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Fc(this.value))}};function HN(t){let e=[];return qs(t.fields,(n,r)=>{let i=new Xe([n]);if($f(r)){let s=HN(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new cn(e)}var ut=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ne.min(),ne.min(),ne.min(),St.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ne.min(),ne.min(),St.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ne.min(),ne.min(),St.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=St.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=St.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var cr=class{constructor(e,n){this.position=e,this.inclusive=n}};function FM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),n.key):r=Fi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function VM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ur(t.position[n],e.position[n]))return!1;return!0}var Fs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Gz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Jf=class{},me=class t extends Jf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Lw(e,n,r):n==="array-contains"?new Uw(e,r):n==="in"?new ep(e,r):n==="not-in"?new $w(e,r):n==="array-contains-any"?new Hw(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new jw(e,r):new Bw(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fi(n,this.value)):n!==null&&ks(this.value)===ks(n)&&this.matchesComparison(Fi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ae=class t extends Jf{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return Ta(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Ta(t){return t.op==="and"}function Fw(t){return t.op==="or"}function TE(t){return zN(t)&&Ta(t)}function zN(t){for(let e of t.filters)if(e instanceof Ae)return!1;return!0}function Vw(t){if(t instanceof me)return t.field.canonicalString()+t.op.toString()+Ca(t.value);if(TE(t))return t.filters.map(e=>Vw(e)).join(",");{let e=t.filters.map(n=>Vw(n)).join(",");return`${t.op}(${e})`}}function qN(t,e){return t instanceof me?function(r,i){return i instanceof me&&r.op===i.op&&r.field.isEqual(i.field)&&ur(r.value,i.value)}(t,e):t instanceof Ae?function(r,i){return i instanceof Ae&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&qN(o,i.filters[a]),!0):!1}(t,e):void G()}function GN(t,e){let n=t.filters.concat(e);return Ae.create(n,t.op)}function WN(t){return t instanceof me?function(n){return`${n.field.canonicalString()} ${n.op} ${Ca(n.value)}`}(t):t instanceof Ae?function(n){return n.op.toString()+" {"+n.getFilters().map(WN).join(" ,")+"}"}(t):"Filter"}var Lw=class extends me{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){let n=H.comparator(e.key,this.key);return this.matchesComparison(n)}},jw=class extends me{constructor(e,n){super(e,"in",n),this.keys=KN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Bw=class extends me{constructor(e,n){super(e,"not-in",n),this.keys=KN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function KN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}var Uw=class extends me{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Gc(n)&&qc(n.arrayValue,this.value)}},ep=class extends me{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&qc(this.value.arrayValue,n)}},$w=class extends me{constructor(e,n){super(e,"not-in",n)}matches(e){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!qc(this.value.arrayValue,n)}},Hw=class extends me{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Gc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>qc(this.value.arrayValue,r))}};var zw=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function qw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new zw(t,e,n,r,i,s,o)}function Vs(t){let e=$(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Vw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ll(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ca(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ca(r)).join(",")),e.ue=n}return e.ue}function dl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Gz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VM(t.startAt,e.startAt)&&VM(t.endAt,e.endAt)}function tp(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function np(t,e){return t.filters.filter(n=>n instanceof me&&n.field.isEqual(e))}function LM(t,e,n){let r=Uf,i=!0;for(let s of np(t,e)){let o=Uf,a=!0;switch(s.op){case"<":case"<=":o=zz(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Uf}kM({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];kM({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function jM(t,e,n){let r=Mi,i=!0;for(let s of np(t,e)){let o=Mi,a=!0;switch(s.op){case">=":case">":o=qz(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Mi}OM({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];OM({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}var On=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function QN(t,e,n,r,i,s,o,a){return new On(t,e,n,r,i,s,o,a)}function Ua(t){return new On(t)}function BM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AE(t){return t.collectionGroup!==null}function Ia(t){let e=$(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ne(Xe.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Fs(s,r))}),n.has(Xe.keyField().canonicalString())||e.ce.push(new Fs(Xe.keyField(),r))}return e.ce}function jt(t){let e=$(t);return e.le||(e.le=Wz(e,Ia(t))),e.le}function Wz(t,e){if(t.limitType==="F")return qw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Fs(i.field,s)});let n=t.endAt?new cr(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new cr(t.startAt.position,t.startAt.inclusive):null;return qw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gw(t,e){let n=t.filters.concat([e]);return new On(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rp(t,e,n){return new On(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hl(t,e){return dl(jt(t),jt(e))&&t.limitType===e.limitType}function YN(t){return`${Vs(jt(t))}|lt:${t.limitType}`}function ga(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>WN(i)).join(", ")}]`),ll(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ca(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ca(i)).join(",")),`Target(${r})`}(jt(t))}; limitType=${t.limitType})`}function fl(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):H.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Ia(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=FM(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,Ia(r),i)||r.endAt&&!function(o,a,u){let l=FM(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,Ia(r),i))}(t,e)}function ZN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XN(t){return(e,n)=>{let r=!1;for(let i of Ia(t)){let s=Kz(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Kz(t,e,n){let r=t.field.isKeyField()?H.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?Fi(u,l):G()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}var lr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){qs(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return jN(this.inner)}size(){return this.innerSize}};var Qz=new Ve(H.comparator);function Kt(){return Qz}var JN=new Ve(H.comparator);function kc(...t){let e=JN;for(let n of t)e=e.insert(n.key,n);return e}function eR(t){let e=JN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ir(){return Vc()}function tR(){return Vc()}function Vc(){return new lr(t=>t.toString(),(t,e)=>t.isEqual(e))}var Yz=new Ve(H.comparator),Zz=new Ne(H.comparator);function ae(...t){let e=Zz;for(let n of t)e=e.add(n);return e}var Xz=new Ne(oe);function SE(){return Xz}function xE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function nR(t){return{integerValue:""+t}}function rR(t,e){return kN(e)?nR(e):xE(t,e)}var Aa=class{constructor(){this._=void 0}};function Jz(t,e,n){return t instanceof Vi?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&$p(s)&&(s=CE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof jr?sR(t,e):t instanceof Br?oR(t,e):function(i,s){let o=iR(i,s),a=UM(o)+UM(i.Pe);return Ow(o)&&Ow(i.Pe)?nR(a):xE(i.serializer,a)}(t,e)}function eq(t,e,n){return t instanceof jr?sR(t,e):t instanceof Br?oR(t,e):n}function iR(t,e){return t instanceof Li?function(r){return Ow(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Vi=class extends Aa{},jr=class extends Aa{constructor(e){super(),this.elements=e}};function sR(t,e){let n=aR(e);for(let r of t.elements)n.some(i=>ur(i,r))||n.push(r);return{arrayValue:{values:n}}}var Br=class extends Aa{constructor(e){super(),this.elements=e}};function oR(t,e){let n=aR(e);for(let r of t.elements)n=n.filter(i=>!ur(i,r));return{arrayValue:{values:n}}}var Li=class extends Aa{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function UM(t){return Be(t.integerValue||t.doubleValue)}function aR(t){return Gc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Ls=class{constructor(e,n){this.field=e,this.transform=n}};function tq(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof jr&&i instanceof jr||r instanceof Br&&i instanceof Br?Da(r.elements,i.elements,ur):r instanceof Li&&i instanceof Li?ur(r.Pe,i.Pe):r instanceof Vi&&i instanceof Vi}(t.transform,e.transform)}var Ww=class{constructor(e,n){this.version=e,this.transformResults=n}},Qe=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Hf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Sa=class{};function uR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bi(t.key,Qe.none()):new ji(t.key,t.data,Qe.none());{let n=t.data,r=St.empty(),i=new Ne(Xe.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Fn(t.key,r,new cn(i.toArray()),Qe.none())}}function nq(t,e,n){t instanceof ji?function(i,s,o){let a=i.value.clone(),u=HM(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fn?function(i,s,o){if(!Hf(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=HM(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(cR(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Lc(t,e,n,r){return t instanceof ji?function(s,o,a,u){if(!Hf(s.precondition,o))return a;let l=s.value.clone(),d=zM(s.fieldTransforms,u,o);return l.setAll(d),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fn?function(s,o,a,u){if(!Hf(s.precondition,o))return a;let l=zM(s.fieldTransforms,u,o),d=o.data;return d.setAll(cR(s)),d.setAll(l),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Hf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function rq(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=iR(r.transform,i||null);s!=null&&(n===null&&(n=St.empty()),n.set(r.field,s))}return n||null}function $M(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Da(r,i,(s,o)=>tq(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ji=class extends Sa{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Fn=class extends Sa{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function cR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function HM(t,e,n){let r=new Map;J(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,eq(o,a,n[i]))}return r}function zM(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,Jz(s,o,e))}return r}var Bi=class extends Sa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Wc=class extends Sa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Kc=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&nq(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Lc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Lc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=tR();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=uR(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&Da(this.mutations,e.mutations,(n,r)=>$M(n,r))&&Da(this.baseMutations,e.baseMutations,(n,r)=>$M(n,r))}},Kw=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){J(e.mutations.length===r.length);let i=function(){return Yz}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Qc=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Qw=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var it,ve;function lR(t){switch(t){default:return G();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function dR(t){if(t===void 0)return Ze("GRPC error has no .code"),N.UNKNOWN;switch(t){case it.OK:return N.OK;case it.CANCELLED:return N.CANCELLED;case it.UNKNOWN:return N.UNKNOWN;case it.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case it.INTERNAL:return N.INTERNAL;case it.UNAVAILABLE:return N.UNAVAILABLE;case it.UNAUTHENTICATED:return N.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case it.NOT_FOUND:return N.NOT_FOUND;case it.ALREADY_EXISTS:return N.ALREADY_EXISTS;case it.PERMISSION_DENIED:return N.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case it.ABORTED:return N.ABORTED;case it.OUT_OF_RANGE:return N.OUT_OF_RANGE;case it.UNIMPLEMENTED:return N.UNIMPLEMENTED;case it.DATA_LOSS:return N.DATA_LOSS;default:return G()}}(ve=it||(it={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";var qM=null;function hR(){return new TextEncoder}var iq=new Ci([4294967295,4294967295],0);function GM(t){let e=hR().encode(t),n=new lw;return n.update(e),new Uint8Array(n.digest())}function WM(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ci([n,r],0),new Ci([i,s],0)]}var Yw=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Rs(`Invalid padding: ${n}`);if(r<0)throw new Rs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Rs(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ci.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ci.fromNumber(r)));return i.compare(iq)===1&&(i=new Ci([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=GM(e),[r,i]=WM(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=GM(e),[r,i]=WM(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Rs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Yc=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Zc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ne.min(),i,new Ve(oe),Kt(),ae())}},Zc=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ae(),ae(),ae())}};var Ea=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},ip=class{constructor(e,n){this.targetId=e,this.me=n}},sp=class{constructor(e,n,r=et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},op=class{constructor(){this.fe=0,this.ge=QM(),this.pe=et.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ae(),n=ae(),r=ae();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:G()}}),new Zc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=QM()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,J(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Zw=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Kt(),this.qe=KM(),this.Qe=new Ve(oe)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:G()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(tp(s))if(r===0){let o=new H(s.path);this.Ue(n,o,ut.newNoDocument(o,ne.min()))}else J(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}qM?.et(function(d,f,g,y,E){var T,A,V,j,k,W;let ee={localCacheCount:d,existenceFilterCount:f.count,databaseId:g.database,projectId:g.projectId},te=f.unchangedNames;return te&&(ee.bloomFilter={applied:E===0,hashCount:(T=te?.hashCount)!==null&&T!==void 0?T:0,bitmapLength:(j=(V=(A=te?.bits)===null||A===void 0?void 0:A.bitmap)===null||V===void 0?void 0:V.length)!==null&&j!==void 0?j:0,padding:(W=(k=te?.bits)===null||k===void 0?void 0:k.padding)!==null&&W!==void 0?W:0,mightContain:I=>{var v;return(v=y?.mightContain(I))!==null&&v!==void 0&&v}}),ee}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=ki(r).toUint8Array()}catch(u){if(u instanceof Xf)return wn("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Yw(o,i,s)}catch(u){return wn(u instanceof Rs?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&tp(a.target)){let u=new H(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,ut.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ae();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Yc(e,n,this.Qe,this.ke,r);return this.ke=Kt(),this.qe=KM(),this.Qe=new Ve(oe),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new op,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ne(oe),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new op),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function KM(){return new Ve(H.comparator)}function QM(){return new Ve(H.comparator)}var sq={asc:"ASCENDING",desc:"DESCENDING"},oq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aq={and:"AND",or:"OR"},Xw=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Jw(t,e){return t.useProto3Json||ll(e)?e:{value:e}}function xa(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uq(t,e){return xa(t,e.toTimestamp())}function Je(t){return J(!!t),ne.fromTimestamp(function(n){let r=Lr(n);return new ze(r.seconds,r.nanos)}(t))}function ME(t,e){return eI(t,e).canonicalString()}function eI(t,e){let n=function(i){return new _e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function pR(t){let e=_e.fromString(t);return J(bR(e)),e}function Xc(t,e){return ME(t.databaseId,e.path)}function or(t,e){let n=pR(e);if(n.get(1)!==t.databaseId.projectId)throw new O(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new O(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(yR(n))}function gR(t,e){return ME(t.databaseId,e)}function mR(t){let e=pR(t);return e.length===4?_e.emptyPath():yR(e)}function tI(t){return new _e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yR(t){return J(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function YM(t,e,n){return{name:Xc(t,e),fields:n.value.mapValue.fields}}function vR(t,e,n){let r=or(t,e.name),i=Je(e.updateTime),s=e.createTime?Je(e.createTime):ne.min(),o=new St({mapValue:{fields:e.fields}}),a=ut.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function cq(t,e){return"found"in e?function(r,i){J(!!i.found),i.found.name,i.found.updateTime;let s=or(r,i.found.name),o=Je(i.found.updateTime),a=i.found.createTime?Je(i.found.createTime):ne.min(),u=new St({mapValue:{fields:i.found.fields}});return ut.newFoundDocument(s,o,a,u)}(t,e):"missing"in e?function(r,i){J(!!i.missing),J(!!i.readTime);let s=or(r,i.missing),o=Je(i.readTime);return ut.newNoDocument(s,o)}(t,e):G()}function lq(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,d){return l.useProto3Json?(J(d===void 0||typeof d=="string"),et.fromBase64String(d||"")):(J(d===void 0||d instanceof Buffer||d instanceof Uint8Array),et.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let d=l.code===void 0?N.UNKNOWN:dR(l.code);return new O(d,l.message||"")}(o);n=new sp(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=or(t,r.document.name),s=Je(r.document.updateTime),o=r.document.createTime?Je(r.document.createTime):ne.min(),a=new St({mapValue:{fields:r.document.fields}}),u=ut.newFoundDocument(i,s,o,a),l=r.targetIds||[],d=r.removedTargetIds||[];n=new Ea(l,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=or(t,r.document),s=r.readTime?Je(r.readTime):ne.min(),o=ut.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ea([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=or(t,r.document),s=r.removedTargetIds||[];n=new Ea([],s,i,null)}else{if(!("filter"in e))return G();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Qw(i,s),a=r.targetId;n=new ip(a,o)}}return n}function Jc(t,e){let n;if(e instanceof ji)n={update:YM(t,e.key,e.value)};else if(e instanceof Bi)n={delete:Xc(t,e.key)};else if(e instanceof Fn)n={update:YM(t,e.key,e.data),updateMask:mq(e.fieldMask)};else{if(!(e instanceof Wc))return G();n={verify:Xc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Vi)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof jr)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Br)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Li)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw G()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:uq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:G()}(t,e.precondition)),n}function nI(t,e){let n=e.currentDocument?function(s){return s.updateTime!==void 0?Qe.updateTime(Je(s.updateTime)):s.exists!==void 0?Qe.exists(s.exists):Qe.none()}(e.currentDocument):Qe.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let u=null;if("setToServerValue"in a)J(a.setToServerValue==="REQUEST_TIME"),u=new Vi;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];u=new jr(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];u=new Br(d)}else"increment"in a?u=new Li(o,a.increment):G();let l=Xe.fromServerFormat(a.fieldPath);return new Ls(l,u)}(t,i)):[];if(e.update){e.update.name;let i=or(t,e.update.name),s=new St({mapValue:{fields:e.update.fields}});if(e.updateMask){let o=function(u){let l=u.fieldPaths||[];return new cn(l.map(d=>Xe.fromServerFormat(d)))}(e.updateMask);return new Fn(i,s,o,n,r)}return new ji(i,s,n,r)}if(e.delete){let i=or(t,e.delete);return new Bi(i,n)}if(e.verify){let i=or(t,e.verify);return new Wc(i,n)}return G()}function dq(t,e){return t&&t.length>0?(J(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Je(i.updateTime):Je(s);return o.isEqual(ne.min())&&(o=Je(s)),new Ww(o,i.transformResults||[])}(n,e))):[]}function _R(t,e){return{documents:[gR(t,e.path)]}}function wR(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gR(t,i);let s=function(l){if(l.length!==0)return DR(Ae.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(d=>function(g){return{field:ma(g.field),direction:fq(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=Jw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function IR(t){let e=mR(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){J(r===1);let d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){let g=ER(f);return g instanceof Ae&&TE(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(g=>function(E){return new Fs(ya(E.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,ll(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(f){let g=!!f.before,y=f.values||[];return new cr(y,g)}(n.startAt));let l=null;return n.endAt&&(l=function(f){let g=!f.before,y=f.values||[];return new cr(y,g)}(n.endAt)),QN(e,i,o,s,a,"F",u,l)}function hq(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ER(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ya(n.unaryFilter.field);return me.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ya(n.unaryFilter.field);return me.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ya(n.unaryFilter.field);return me.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ya(n.unaryFilter.field);return me.create(o,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(t):t.fieldFilter!==void 0?function(n){return me.create(ya(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ae.create(n.compositeFilter.filters.map(r=>ER(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G()}}(n.compositeFilter.op))}(t):G()}function fq(t){return sq[t]}function pq(t){return oq[t]}function gq(t){return aq[t]}function ma(t){return{fieldPath:t.canonicalString()}}function ya(t){return Xe.fromServerFormat(t.fieldPath)}function DR(t){return t instanceof me?function(n){if(n.op==="=="){if(PM(n.value))return{unaryFilter:{field:ma(n.field),op:"IS_NAN"}};if(RM(n.value))return{unaryFilter:{field:ma(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PM(n.value))return{unaryFilter:{field:ma(n.field),op:"IS_NOT_NAN"}};if(RM(n.value))return{unaryFilter:{field:ma(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ma(n.field),op:pq(n.op),value:n.value}}}(t):t instanceof Ae?function(n){let r=n.getFilters().map(i=>DR(i));return r.length===1?r[0]:{compositeFilter:{op:gq(n.op),filters:r}}}(t):G()}function mq(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ma=class t{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=et.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var ap=class{constructor(e){this.ct=e}};function yq(t,e){let n;if(e.document)n=vR(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=H.fromSegments(e.noDocument.path),i=Bs(e.noDocument.readTime);n=ut.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return G();{let r=H.fromSegments(e.unknownDocument.path),i=Bs(e.unknownDocument.version);n=ut.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){let s=new ze(i[0],i[1]);return ne.fromTimestamp(s)}(e.readTime)),n}function ZM(t,e){let n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:up(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Xc(s,o.key),fields:o.data.value.mapValue.fields,updateTime:xa(s,o.version.toTimestamp()),createTime:xa(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:js(e.version)};else{if(!e.isUnknownDocument())return G();r.unknownDocument={path:n.path.toArray(),version:js(e.version)}}return r}function up(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function js(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Bs(t){let e=new ze(t.seconds,t.nanoseconds);return ne.fromTimestamp(e)}function xs(t,e){let n=(e.baseMutations||[]).map(s=>nI(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){let o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){let a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}let r=e.mutations.map(s=>nI(t.ct,s)),i=ze.fromMillis(e.localWriteTimeMs);return new Kc(e.batchId,i,n,r)}function Oc(t){let e=Bs(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Bs(t.lastLimboFreeSnapshotVersion):ne.min(),r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return J(s.documents.length===1),jt(Ua(mR(s.documents[0])))}(t.query):function(s){return jt(IR(s))}(t.query),new Ma(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,et.fromBase64String(t.resumeToken))}function CR(t,e){let n=js(e.snapshotVersion),r=js(e.lastLimboFreeSnapshotVersion),i;i=tp(e.target)?_R(t.ct,e.target):wR(t.ct,e.target)._t;let s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Vs(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function NE(t){let e=IR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rp(e,e.limit,"L"):e}function yw(t,e){return new Qc(e.largestBatchId,nI(t.ct,e.overlayMutation))}function XM(t,e){let n=e.path.lastSegment();return[t,Lt(e.path.popLast()),n]}function JM(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:js(r.readTime),documentKey:Lt(r.documentKey.path),largestBatchId:r.largestBatchId}}var rI=class{getBundleMetadata(e,n){return eN(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Bs(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return eN(e).put(function(i){return{bundleId:i.id,createTime:js(Je(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return tN(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:NE(s.bundledQuery),readTime:Bs(s.readTime)}}(r)})}saveNamedQuery(e,n){return tN(e).put(function(i){return{name:i.name,readTime:js(Je(i.readTime)),bundledQuery:i.bundledQuery}}(n))}};function eN(t){return dt(t,"bundles")}function tN(t){return dt(t,"namedQueries")}var cp=class t{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){let r=n.uid||"";return new t(e,r)}getOverlay(e,n){return Mc(e).get(XM(this.userId,n)).next(r=>r?yw(this.serializer,r):null)}getOverlays(e,n){let r=ir();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){let i=[];return r.forEach((s,o)=>{let a=new Qc(n,o);i.push(this.ht(e,a))}),M.waitFor(i)}removeOverlaysForBatchId(e,n,r){let i=new Set;n.forEach(o=>i.add(Lt(o.getCollectionPath())));let s=[];return i.forEach(o=>{let a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Mc(e).j("collectionPathOverlayIndex",a))}),M.waitFor(s)}getOverlaysForCollection(e,n,r){let i=ir(),s=Lt(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Mc(e).U("collectionPathOverlayIndex",o).next(a=>{for(let u of a){let l=yw(this.serializer,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){let s=ir(),o,a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Mc(e).J({index:"collectionGroupOverlayIndex",range:a},(u,l,d)=>{let f=yw(this.serializer,l);s.size()<i||f.largestBatchId===o?(s.set(f.getKey(),f),o=f.largestBatchId):d.done()}).next(()=>s)}ht(e,n){return Mc(e).put(function(i,s,o){let[a,u,l]=XM(s,o.mutation.key);return{userId:s,collectionPath:u,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Jc(i.ct,o.mutation)}}(this.serializer,this.userId,n))}};function Mc(t){return dt(t,"documentOverlays")}var iI=class{Pt(e){return dt(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{let r=n?.value;return r?et.fromUint8Array(r):et.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}};var Fr=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Be(e.integerValue));else if("doubleValue"in e){let r=Be(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),$c(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Lr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(ki(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?UN(e)?this.dt(n,Number.MAX_SAFE_INTEGER):Hp(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):G()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Be(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),H.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Fr.vt=new Fr;function vq(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function nN(t){let e=64-function(r){let i=0;for(let s=0;s<8;++s){let o=vq(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}var sI=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{let i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{let i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){let n=this.qt(e),r=nN(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){let n=this.qt(e),r=nN(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){let n=function(s){let o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){let n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){let n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){let n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},oI=class{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}},aI=class{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}},Ms=class{constructor(){this.jt=new sI,this.Ht=new oI(this.jt),this.Jt=new aI(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}};var Ns=class t{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new t(this.indexId,this.documentKey,this.arrayValue,r)}};function Ti(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=rN(t.arrayValue,e.arrayValue),n!==0?n:(n=rN(t.directionalValue,e.directionalValue),n!==0?n:H.comparator(t.documentKey,e.documentKey)))}function rN(t,e){for(let n=0;n<t.length&&n<e.length;++n){let r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}var lp=class{constructor(e){this.Xt=new Ne((n,r)=>Xe.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(let n of e.filters){let r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(J(e.collectionGroup===this.collectionId),this.nn)return!1;let n=Sw(e);if(n!==void 0&&!this.sn(n))return!1;let r=As(e),i=new Set,s=0,o=0;for(;s<r.length&&this.sn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Xt.size>0){let a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){let u=r[s];if(!this.on(a,u)||!this._n(this.en[o++],u))return!1}++s}for(;s<r.length;++s){let a=r[s];if(o>=this.en.length||!this._n(this.en[o++],a))return!1}return!0}an(){if(this.nn)return null;let e=new Ne(Xe.comparator),n=[];for(let r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new wa(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new wa(r.field,0))}for(let r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new wa(r.field,r.dir==="asc"?0:1)));return new ba(ba.UNKNOWN_ID,this.collectionId,n,Uc.empty())}sn(e){for(let n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function TR(t){var e,n;if(J(t instanceof me||t instanceof Ae),t instanceof me){if(t instanceof ep){let i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>me.create(t.field,"==",s)))||[];return Ae.create(i,"or")}return t}let r=t.filters.map(i=>TR(i));return Ae.create(r,t.op)}function _q(t){if(t.getFilters().length===0)return[];let e=lI(TR(t));return J(AR(e)),uI(e)||cI(e)?[e]:e.getFilters()}function uI(t){return t instanceof me}function cI(t){return t instanceof Ae&&TE(t)}function AR(t){return uI(t)||cI(t)||function(n){if(n instanceof Ae&&Fw(n)){for(let r of n.getFilters())if(!uI(r)&&!cI(r))return!1;return!0}return!1}(t)}function lI(t){if(J(t instanceof me||t instanceof Ae),t instanceof me)return t;if(t.filters.length===1)return lI(t.filters[0]);let e=t.filters.map(r=>lI(r)),n=Ae.create(e,t.op);return n=dp(n),AR(n)?n:(J(n instanceof Ae),J(Ta(n)),J(n.filters.length>1),n.filters.reduce((r,i)=>RE(r,i)))}function RE(t,e){let n;return J(t instanceof me||t instanceof Ae),J(e instanceof me||e instanceof Ae),n=t instanceof me?e instanceof me?function(i,s){return Ae.create([i,s],"and")}(t,e):iN(t,e):e instanceof me?iN(e,t):function(i,s){if(J(i.filters.length>0&&s.filters.length>0),Ta(i)&&Ta(s))return GN(i,s.getFilters());let o=Fw(i)?i:s,a=Fw(i)?s:i,u=o.filters.map(l=>RE(l,a));return Ae.create(u,"or")}(t,e),dp(n)}function iN(t,e){if(Ta(e))return GN(e,t.getFilters());{let n=e.filters.map(r=>RE(t,r));return Ae.create(n,"or")}}function dp(t){if(J(t instanceof me||t instanceof Ae),t instanceof me)return t;let e=t.getFilters();if(e.length===1)return dp(e[0]);if(zN(t))return t;let n=e.map(i=>dp(i)),r=[];return n.forEach(i=>{i instanceof me?r.push(i):i instanceof Ae&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Ae.create(r,t.op)}var dI=class{constructor(){this.un=new el}addToCollectionParentIndex(e,n){return this.un.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(In.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(In.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},el=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ne(_e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ne(_e.comparator)).toArray()}};var Ff=new Uint8Array(0),hI=class{constructor(e,n){this.databaseId=n,this.cn=new el,this.ln=new lr(r=>Vs(r),(r,i)=>dl(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){let r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});let s={collectionId:r,parent:Lt(i)};return sN(e).put(s)}return M.resolve()}getCollectionParents(e,n){let r=[],i=IDBKeyRange.bound([n,""],[xN(n),""],!1,!0);return sN(e).U(i).next(s=>{for(let o of s){if(o.collectionId!==n)break;r.push(rr(o.parent))}return r})}addFieldIndex(e,n){let r=Nc(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])}}(n);delete i.indexId;let s=r.add(i);if(n.indexState){let o=ha(e);return s.next(a=>{o.put(JM(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){let r=Nc(e),i=ha(e),s=da(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=Nc(e),r=da(e),i=ha(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return M.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let s=new lp(r).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){let r=da(e),i=!0,s=new Map;return M.forEach(this.hn(n),o=>this.Pn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ae(),a=[];return M.forEach(s,(u,l)=>{F("IndexedDbIndexManager",`Using index ${function(k){return`id=${k.indexId}|cg=${k.collectionGroup}|f=${k.fields.map(W=>`${W.fieldPath}:${W.kind}`).join(",")}`}(u)} to execute ${Vs(n)}`);let d=function(k,W){let ee=Sw(W);if(ee===void 0)return null;for(let te of np(k,ee.fieldPath))switch(te.op){case"array-contains-any":return te.value.arrayValue.values||[];case"array-contains":return[te.value]}return null}(l,u),f=function(k,W){let ee=new Map;for(let te of As(W))for(let I of np(k,te.fieldPath))switch(I.op){case"==":case"in":ee.set(te.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return ee.set(te.fieldPath.canonicalString(),I.value),Array.from(ee.values())}return null}(l,u),g=function(k,W){let ee=[],te=!0;for(let I of As(W)){let v=I.kind===0?LM(k,I.fieldPath,k.startAt):jM(k,I.fieldPath,k.startAt);ee.push(v.value),te&&(te=v.inclusive)}return new cr(ee,te)}(l,u),y=function(k,W){let ee=[],te=!0;for(let I of As(W)){let v=I.kind===0?jM(k,I.fieldPath,k.endAt):LM(k,I.fieldPath,k.endAt);ee.push(v.value),te&&(te=v.inclusive)}return new cr(ee,te)}(l,u),E=this.In(u,l,g),T=this.In(u,l,y),A=this.Tn(u,l,f),V=this.En(u.indexId,d,E,g.inclusive,T,y.inclusive,A);return M.forEach(V,j=>r.G(j,n.limit).next(k=>{k.forEach(W=>{let ee=H.fromSegments(W.documentKey);o.has(ee)||(o=o.add(ee),a.push(ee))})}))}).next(()=>a)}return M.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=_q(Ae.create(e.filters,"and")).map(r=>qw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,s,o,a){let u=(n!=null?n.length:1)*Math.max(r.length,s.length),l=u/(n!=null?n.length:1),d=[];for(let f=0;f<u;++f){let g=n?this.dn(n[f/l]):Ff,y=this.An(e,g,r[f%l],i),E=this.Rn(e,g,s[f%l],o),T=a.map(A=>this.An(e,g,A,!0));d.push(...this.createRange(y,E,T))}return d}An(e,n,r,i){let s=new Ns(e,H.empty(),n,r);return i?s:s.Zt()}Rn(e,n,r,i){let s=new Ns(e,H.empty(),n,r);return i?s.Zt():s}Pn(e,n){let r=new lp(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(let a of s)r.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2,i=this.hn(n);return M.forEach(i,s=>this.Pn(e,s).next(o=>{o?r!==0&&o.fields.length<function(u){let l=new Ne(Xe.comparator),d=!1;for(let f of u.filters)for(let g of f.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?d=!0:l=l.add(g.field));for(let f of u.orderBy)f.field.isKeyField()||(l=l.add(f.field));return l.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){let r=new Ms;for(let i of As(e)){let s=n.data.field(i.fieldPath);if(s==null)return null;let o=r.Yt(i.kind);Fr.vt.It(s,o)}return r.zt()}dn(e){let n=new Ms;return Fr.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){let r=new Ms;return Fr.vt.It(Os(this.databaseId,n),r.Yt(function(s){let o=As(s);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new Ms);let s=0;for(let o of As(e)){let a=r[s++];for(let u of i)if(this.fn(n,o.fieldPath)&&Gc(a))i=this.gn(i,o,a);else{let l=u.Yt(o.kind);Fr.vt.It(a,l)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){let n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){let i=[...e],s=[];for(let o of r.arrayValue.values||[])for(let a of i){let u=new Ms;u.seed(a.zt()),Fr.vt.It(o,u.Yt(n.kind)),s.push(u)}return s}fn(e,n){return!!e.filters.find(r=>r instanceof me&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){let r=Nc(e),i=ha(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{let o=[];return M.forEach(s,a=>i.get([a.indexId,this.uid]).next(u=>{o.push(function(d,f){let g=f?new Uc(f.sequenceNumber,new In(Bs(f.readTime),new H(rr(f.documentKey)),f.largestBatchId)):Uc.empty(),y=d.fields.map(([E,T])=>new wa(Xe.fromServerFormat(E),T));return new ba(d.indexId,d.collectionGroup,y,g)}(a,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{let s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:oe(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){let i=Nc(e),s=ha(e);return this.yn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>M.forEach(a,u=>s.put(JM(u.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){let r=new Map;return M.forEach(n,(i,s)=>{let o=r.get(i.collectionGroup);return(o?M.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),M.forEach(a,u=>this.wn(e,i,u).next(l=>{let d=this.Sn(s,u);return l.isEqual(d)?M.resolve():this.bn(e,s,u,l,d)}))))})}Dn(e,n,r,i){return da(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return da(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){let i=da(e),s=new Ne(Ti);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(o,a)=>{s=s.add(new Ns(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}Sn(e,n){let r=new Ne(Ti),i=this.Vn(n,e);if(i==null)return r;let s=Sw(n);if(s!=null){let o=e.data.field(s.fieldPath);if(Gc(o))for(let a of o.arrayValue.values||[])r=r.add(new Ns(n.indexId,e.key,this.dn(a),i))}else r=r.add(new Ns(n.indexId,e.key,Ff,i));return r}bn(e,n,r,i,s){F("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let o=[];return function(u,l,d,f,g){let y=u.getIterator(),E=l.getIterator(),T=la(y),A=la(E);for(;T||A;){let V=!1,j=!1;if(T&&A){let k=d(T,A);k<0?j=!0:k>0&&(V=!0)}else T!=null?j=!0:V=!0;V?(f(A),A=la(E)):j?(g(T),T=la(y)):(T=la(y),A=la(E))}}(i,s,Ti,a=>{o.push(this.Dn(e,n,r,a))},a=>{o.push(this.vn(e,n,r,a))}),M.waitFor(o)}yn(e){let n=1;return ha(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Ti(o,a)).filter((o,a,u)=>!a||Ti(o,u[a-1])!==0);let i=[];i.push(e);for(let o of r){let a=Ti(o,e),u=Ti(o,n);if(a===0)i[0]=e.Zt();else if(a>0&&u<0)i.push(o),i.push(o.Zt());else if(u>0)break}i.push(n);let s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];let a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Ff,[]],u=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Ff,[]];s.push(IDBKeyRange.bound(a,u))}return s}Cn(e,n){return Ti(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(oN)}getMinOffset(e,n){return M.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||G())).next(oN)}};function sN(t){return dt(t,"collectionParents")}function da(t){return dt(t,"indexEntries")}function Nc(t){return dt(t,"indexConfiguration")}function ha(t){return dt(t,"indexState")}function oN(t){J(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){let i=t[r].indexState.offset;EE(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new In(e.readTime,e.documentKey,n)}var aN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_n=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function SR(t,e,n){let r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.J({range:o},(d,f,g)=>(a++,g.delete()));s.push(u.next(()=>{J(a===1)}));let l=[];for(let d of n.mutations){let f=ON(e,d.key.path,n.batchId);s.push(i.delete(f)),l.push(d.key)}return M.waitFor(s).next(()=>l)}function hp(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw G();e=t.noDocument}return JSON.stringify(e).length}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(41943040,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);var fp=class t{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){J(e.uid!=="");let s=e.isAuthenticated()?e.uid:"";return new t(s,n,r,i)}checkEmpty(e){let n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ai(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){let s=va(e),o=Ai(e);return o.add({}).next(a=>{J(typeof a=="number");let u=new Kc(a,n,r,i),l=function(y,E,T){let A=T.baseMutations.map(j=>Jc(y.ct,j)),V=T.mutations.map(j=>Jc(y.ct,j));return{userId:E,batchId:T.batchId,localWriteTimeMs:T.localWriteTime.toMillis(),baseMutations:A,mutations:V}}(this.serializer,this.userId,u),d=[],f=new Ne((g,y)=>oe(g.canonicalString(),y.canonicalString()));for(let g of i){let y=ON(this.userId,g.key.path,a);f=f.add(g.key.path.popLast()),d.push(o.put(l)),d.push(s.put(y,Cz))}return f.forEach(g=>{d.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Fn[a]=u.keys()}),M.waitFor(d).next(()=>u)})}lookupMutationBatch(e,n){return Ai(e).get(n).next(r=>r?(J(r.userId===this.userId),xs(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?M.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){let i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Ai(e).J({index:"userMutationsIndex",range:i},(o,a,u)=>{a.userId===this.userId&&(J(a.batchId>=r),s=xs(this.serializer,a)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Ai(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ai(e).U("userMutationsIndex",n).next(r=>r.map(i=>xs(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){let r=Bf(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return va(e).J({range:i},(o,a,u)=>{let[l,d,f]=o,g=rr(d);if(l===this.userId&&n.path.isEqual(g))return Ai(e).get(f).next(y=>{if(!y)throw G();J(y.userId===this.userId),s.push(xs(this.serializer,y))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ne(oe),i=[];return n.forEach(s=>{let o=Bf(this.userId,s.path),a=IDBKeyRange.lowerBound(o),u=va(e).J({range:a},(l,d,f)=>{let[g,y,E]=l,T=rr(y);g===this.userId&&s.path.isEqual(T)?r=r.add(E):f.done()});i.push(u)}),M.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=Bf(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Ne(oe);return va(e).J({range:o},(u,l,d)=>{let[f,g,y]=u,E=rr(g);f===this.userId&&r.isPrefixOf(E)?E.length===i&&(a=a.add(y)):d.done()}).next(()=>this.xn(e,a))}xn(e,n){let r=[],i=[];return n.forEach(s=>{i.push(Ai(e).get(s).next(o=>{if(o===null)throw G();J(o.userId===this.userId),r.push(xs(this.serializer,o))}))}),M.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return SR(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),M.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return M.resolve();let r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return va(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){let u=rr(s[1]);i.push(u)}else a.done()}).next(()=>{J(i.length===0)})})}containsKey(e,n){return xR(e,this.userId,n)}Nn(e){return MR(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function xR(t,e,n){let r=Bf(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return va(t).J({range:s,H:!0},(a,u,l)=>{let[d,f,g]=a;d===e&&f===i&&(o=!0),l.done()}).next(()=>o)}function Ai(t){return dt(t,"mutations")}function va(t){return dt(t,"documentMutations")}function MR(t){return dt(t,"mutationQueues")}var Na=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var fI=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{let r=new Na(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>ne.fromTimestamp(new ze(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>fa(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(J(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0,s=[];return fa(e).J((o,a)=>{let u=Oc(a);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>M.waitFor(s)).next(()=>i)}forEachTarget(e,n){return fa(e).J((r,i)=>{let s=Oc(i);n(s)})}qn(e){return uN(e).get("targetGlobalKey").next(n=>(J(n!==null),n))}Qn(e,n){return uN(e).put("targetGlobalKey",n)}Kn(e,n){return fa(e).put(CR(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){let r=Vs(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return fa(e).J({range:i,index:"queryTargetsIndex"},(o,a,u)=>{let l=Oc(a);dl(n,l.target)&&(s=l,u.done())}).next(()=>s)}addMatchingKeys(e,n,r){let i=[],s=Si(e);return n.forEach(o=>{let a=Lt(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),M.waitFor(i)}removeMatchingKeys(e,n,r){let i=Si(e);return M.forEach(n,s=>{let o=Lt(s.path);return M.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){let r=Si(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){let r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Si(e),s=ae();return i.J({range:r,H:!0},(o,a,u)=>{let l=rr(o[1]),d=new H(l);s=s.add(d)}).next(()=>s)}containsKey(e,n){let r=Lt(n.path),i=IDBKeyRange.bound([r],[xN(r)],!1,!0),s=0;return Si(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],u,l)=>{o!==0&&(s++,l.done())}).next(()=>s>0)}ot(e,n){return fa(e).get(n).next(r=>r?Oc(r):null)}};function fa(t){return dt(t,"targets")}function uN(t){return dt(t,"targetGlobal")}function Si(t){return dt(t,"targetDocuments")}function cN([t,e],[n,r]){let i=oe(t,n);return i===0?oe(e,r):i}var pI=class{constructor(e){this.Un=e,this.buffer=new Ne(cN),this.Wn=0}Gn(){return++this.Wn}zn(e){let n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();cN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},gI=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){F("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>P(this,null,function*(){this.jn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Hi(n)?F("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield $i(n)}yield this.Hn(3e5)}))}},mI=class{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(un.oe);let r=new pI(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(aN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aN):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,a,u,l,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),pa()<=jn.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(l-u)+`ms
Total Duration: ${l-d}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}};function wq(t,e){return new mI(t,e)}var yI=class{constructor(e,n){this.db=e,this.garbageCollector=wq(this,n)}Yn(e){let n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return Vf(e,r)}removeReference(e,n,r){return Vf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Vf(e,n)}nr(e,n){return function(i,s){let o=!1;return MR(i).Y(a=>xR(i,a,s).next(u=>(u&&(o=!0),M.resolve(!u)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.tr(e,(o,a)=>{if(a<=n){let u=this.nr(e,o).next(l=>{if(!l)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ne.min()),Si(e).delete(function(f){return[0,Lt(f.path)]}(o))))});i.push(u)}}).next(()=>M.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Vf(e,n)}tr(e,n){let r=Si(e),i,s=un.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:u,sequenceNumber:l})=>{o===0?(s!==un.oe&&n(new H(rr(i)),s),s=l,i=u):s=un.oe}).next(()=>{s!==un.oe&&n(new H(rr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function Vf(t,e){return Si(t).put(function(r,i){return{targetId:0,path:Lt(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}var pp=class{constructor(){this.changes=new lr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var vI=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ts(e).put(r)}removeEntry(e,n,r){return Ts(e).delete(function(s,o){let a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],up(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=ut.newInvalidDocument(n);return Ts(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Rc(n))},(i,s)=>{r=this.ir(n,s)}).next(()=>r)}sr(e,n){let r={size:0,document:ut.newInvalidDocument(n)};return Ts(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Rc(n))},(i,s)=>{r={document:this.ir(n,s),size:hp(s)}}).next(()=>r)}getEntries(e,n){let r=Kt();return this._r(e,n,(i,s)=>{let o=this.ir(i,s);r=r.insert(i,o)}).next(()=>r)}ar(e,n){let r=Kt(),i=new Ve(H.comparator);return this._r(e,n,(s,o)=>{let a=this.ir(s,o);r=r.insert(s,a),i=i.insert(s,hp(o))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return M.resolve();let i=new Ne(hN);n.forEach(u=>i=i.add(u));let s=IDBKeyRange.bound(Rc(i.first()),Rc(i.last())),o=i.getIterator(),a=o.getNext();return Ts(e).J({index:"documentKeyIndex",range:s},(u,l,d)=>{let f=H.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&hN(a,f)<0;)r(a,null),a=o.getNext();a&&a.isEqual(f)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?d.$(Rc(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){let o=n.path,a=[o.popLast().toArray(),o.lastSegment(),up(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ts(e).U(IDBKeyRange.bound(a,u,!0)).next(l=>{s?.incrementDocumentReadCount(l.length);let d=Kt();for(let f of l){let g=this.ir(H.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);g.isFoundDocument()&&(fl(n,g)||i.has(g.key))&&(d=d.insert(g.key,g))}return d})}getAllFromCollectionGroup(e,n,r,i){let s=Kt(),o=dN(n,r),a=dN(n,In.max());return Ts(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(u,l,d)=>{let f=this.ir(H.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(f.key,f),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new _I(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return lN(e).get("remoteDocumentGlobalKey").next(n=>(J(!!n),n))}rr(e,n){return lN(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){let r=yq(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ne.min())))return r}return ut.newInvalidDocument(e)}};function NR(t){return new vI(t)}var _I=class extends pp{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new lr(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let n=[],r=0,i=new Ne((s,o)=>oe(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{let a=this.lr.get(s);if(n.push(this.cr.removeEntry(e,s,a.readTime)),o.isValidDocument()){let u=ZM(this.cr.serializer,o);i=i.add(s.path.popLast());let l=hp(u);r+=l-a.size,n.push(this.cr.addEntry(e,s,u))}else if(r-=a.size,this.trackRemovals){let u=ZM(this.cr.serializer,o.convertToNoDocument(ne.min()));n.push(this.cr.addEntry(e,s,u))}}),i.forEach(s=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.cr.updateMetadata(e,r)),M.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}};function lN(t){return dt(t,"remoteDocumentGlobal")}function Ts(t){return dt(t,"remoteDocumentsV14")}function Rc(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function dN(t,e){let n=e.documentKey.path.toArray();return[t,up(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function hN(t,e){let n=t.path.toArray(),r=e.path.toArray(),i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=oe(n[s],r[s]),i)return i;return i=oe(n.length,r.length),i||(i=oe(n[n.length-2],r[r.length-2]),i||oe(n[n.length-1],r[r.length-1]))}var wI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var gp=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Lc(r.mutation,i,cn.empty(),ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ae()){let i=ir();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=kc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=ir();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ae()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Kt(),o=Vc(),a=function(){return Vc()}();return n.forEach((u,l)=>{let d=r.get(l.key);i.has(l.key)&&(d===void 0||d.mutation instanceof Fn)?s=s.insert(l.key,l):d!==void 0?(o.set(l.key,d.mutation.getFieldMask()),Lc(d.mutation,l,d.mutation.getFieldMask(),ze.now())):o.set(l.key,cn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,d)=>o.set(l,d)),n.forEach((l,d)=>{var f;return a.set(l,new wI(d,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Vc(),i=new Ve((o,a)=>o-a),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let d=r.get(u)||cn.empty();d=a.applyToLocalView(l,d),r.set(u,d);let f=(i.get(a.batchId)||ae()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,d=u.value,f=tR();d.forEach(g=>{if(!s.has(g)){let y=uR(n.get(g),r.get(g));y!==null&&f.set(g,y),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,f))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(ir()),a=-1,u=s;return o.next(l=>M.forEach(l,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?M.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{u=u.insert(d,g)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,ae())).next(d=>({batchId:a,changes:eR(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=kc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=kc();return this.indexManager.getCollectionParents(e,s).next(a=>M.forEach(a,u=>{let l=function(f,g){return new On(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(d=>{d.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let d=l.getKey();o.get(d)===null&&(o=o.insert(d,ut.newInvalidDocument(d)))});let a=kc();return o.forEach((u,l)=>{let d=s.get(u);d!==void 0&&Lc(d.mutation,l,cn.empty(),ze.now()),fl(n,l)&&(a=a.insert(u,l))}),a})}};var II=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return M.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Je(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:NE(i.bundledQuery),readTime:Je(i.readTime)}}(n)),M.resolve()}};var EI=class{constructor(){this.overlays=new Ve(H.comparator),this.Ir=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let r=ir();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){let i=ir(),s=n.length+1,o=new H(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ve((l,d)=>l-d),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let d=s.get(l.largestBatchId);d===null&&(d=ir(),s=s.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}let a=ir(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=i)););return M.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Qc(n,r));let s=this.Ir.get(n);s===void 0&&(s=ae(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var DI=class{constructor(){this.sessionToken=et.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}};var tl=class{constructor(){this.Tr=new Ne(st.Er),this.dr=new Ne(st.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new st(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new st(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new H(new _e([])),r=new st(n,e),i=new st(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new H(new _e([])),r=new st(n,e),i=new st(n,e+1),s=ae();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new st(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},st=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return H.comparator(e.key,n.key)||oe(e.wr,n.wr)}static Ar(e,n){return oe(e.wr,n.wr)||H.comparator(e.key,n.key)}};var bI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ne(st.Er)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Kc(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new st(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new st(n,0),i=new st(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ne(oe);return n.forEach(i=>{let s=new st(i,0),o=new st(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),M.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;H.isDocumentKey(s)||(s=s.child(""));let o=new st(new H(s),0),a=new Ne(oe);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),M.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){J(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return M.forEach(n.mutations,i=>{let s=new st(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new st(n,0),i=this.br.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var CI=class{constructor(e){this.Mr=e,this.docs=function(){return new Ve(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():ut.newInvalidDocument(n))}getEntries(e,n){let r=Kt();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ut.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Kt(),o=n.path,a=new H(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:d}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||EE(NN(d),r)<=0||(i.has(d.key)||fl(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){G()}Or(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new TI(this)}getSize(e){return M.resolve(this.size)}},TI=class extends pp{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var AI=class{constructor(e){this.persistence=e,this.Nr=new lr(n=>Vs(n),dl),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new tl,this.targetCount=0,this.kr=Na.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),M.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Na(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Kn(n),M.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),M.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Br.containsKey(n))}};var mp=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new un(0),this.Kr=!1,this.Kr=!0,this.$r=new DI,this.referenceDelegate=e(this),this.Ur=new AI(this),this.indexManager=new dI,this.remoteDocumentCache=function(i){return new CI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new ap(n),this.Gr=new II(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new bI(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){F("MemoryPersistence","Starting transaction:",e);let i=new SI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return M.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},SI=class extends Qf{constructor(e){super(),this.currentSequenceNumber=e}},yp=class t{constructor(e){this.persistence=e,this.Jr=new tl,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw G()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Xr,r=>{let i=H.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return M.or([()=>M.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var xI=class{constructor(e){this.serializer=e}O(e,n,r,i){let s=new Yf("createOrUpgrade",n);r<1&&i>=1&&(function(u){u.createObjectStore("owner")}(e),function(u){u.createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",SM,{unique:!0}),u.createObjectStore("documentMutations")}(e),fN(e),function(u){u.createObjectStore("remoteDocuments")}(e));let o=M.resolve();return r<3&&i>=3&&(r!==0&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),fN(e)),o=o.next(()=>function(u){let l=u.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ne.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(u,l){return l.store("mutations").U().next(d=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",SM,{unique:!0});let f=l.store("mutations"),g=d.map(y=>f.put(y));return M.waitFor(g)})}(e,s))),o=o.next(()=>{(function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ni(s))),r<6&&i>=6&&(o=o.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),r<7&&i>=7&&(o=o.next(()=>this.ii(s))),r<8&&i>=8&&(o=o.next(()=>this.si(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.oi(s))),r<11&&i>=11&&(o=o.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(u){let l=u.createObjectStore("documentOverlays",{keyPath:Vz});l.createIndex("collectionPathOverlayIndex",Lz,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",jz,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(u){let l=u.createObjectStore("remoteDocumentsV14",{keyPath:Tz});l.createIndex("documentKeyIndex",Az),l.createIndex("collectionGroupIndex",Sz)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ai(e,s))),r<15&&i>=15&&(o=o.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:Pz}).createIndex("sequenceNumberIndex",kz,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:Oz}).createIndex("documentKeyIndex",Fz,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(u){u.createObjectStore("globals",{keyPath:"name"})})(e)})),o}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=hp(i)}).next(()=>{let r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){let n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>M.forEach(i,s=>{let o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>M.forEach(a,u=>{J(u.userId===s.userId);let l=xs(this.serializer,u);return SR(e,s.userId,l).next(()=>{})}))}))}ii(e){let n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{let s=[];return r.J((o,a)=>{let u=new _e(o),l=function(f){return[0,Lt(f)]}(u);s.push(n.get(l).next(d=>d?M.resolve():(f=>n.put({targetId:0,path:Lt(f),sequenceNumber:i.highestListenSequenceNumber}))(u)))}).next(()=>M.waitFor(s))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:Rz});let r=n.store("collectionParents"),i=new el,s=o=>{if(i.add(o)){let a=o.lastSegment(),u=o.popLast();return r.put({collectionId:a,parent:Lt(u)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{let u=new _e(o);return s(u.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,u],l)=>{let d=rr(a);return s(d.popLast())}))}oi(e){let n=e.store("targets");return n.J((r,i)=>{let s=Oc(i),o=CR(this.serializer,s);return n.put(o)})}_i(e,n){let r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{let a=n.store("remoteDocumentsV14"),u=function(f){return f.document?new H(_e.fromString(f.document.name).popFirst(5)):f.noDocument?H.fromSegments(f.noDocument.path):f.unknownDocument?H.fromSegments(f.unknownDocument.path):G()}(o).path.toArray(),l={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(l))}).next(()=>M.waitFor(i))}ai(e,n){let r=n.store("mutations"),i=NR(this.serializer),s=new mp(yp.Zr,this.serializer.ct);return r.U().next(o=>{let a=new Map;return o.forEach(u=>{var l;let d=(l=a.get(u.userId))!==null&&l!==void 0?l:ae();xs(this.serializer,u).keys().forEach(f=>d=d.add(f)),a.set(u.userId,d)}),M.forEach(a,(u,l)=>{let d=new ot(l),f=cp.lt(this.serializer,d),g=s.getIndexManager(d),y=fp.lt(d,this.serializer,g,s.referenceDelegate);return new gp(i,y,f,g).recalculateAndSaveOverlaysForDocumentKeys(new Hc(n,un.oe),u).next()})})}};function fN(t){t.createObjectStore("targetDocuments",{keyPath:Mz}).createIndex("documentTargetsIndex",Nz,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",xz,{unique:!0}),t.createObjectStore("targetGlobal")}var vw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",MI=class t{constructor(e,n,r,i,s,o,a,u,l,d,f=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=s,this.window=o,this.document=a,this.ci=l,this.li=d,this.hi=f,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=g=>Promise.resolve(),!t.D())throw new O(N.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yI(this,i),this.Ai=n+"main",this.serializer=new ap(u),this.Ri=new Pi(this.Ai,this.hi,new xI(this.serializer)),this.$r=new iI,this.Ur=new fI(this.referenceDelegate,this.serializer),this.remoteDocumentCache=NR(this.serializer),this.Gr=new rI,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,d===!1&&Ze("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new O(N.FAILED_PRECONDITION,vw);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new un(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=n=>P(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(n=>P(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(()=>P(this,null,function*(){this.started&&(yield this.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Lf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(Hi(e))return F("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return F("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Pc(e).get("owner").next(n=>M.resolve(this.vi(n)))}Ci(e){return Lf(e).delete(this.clientId)}Fi(){return P(this,null,function*(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let r=dt(n,"clientMetadata");return r.U().next(i=>{let s=this.xi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return M.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Vi)for(let n of e)this.Vi.removeItem(this.Oi(n.clientId))}})}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?M.resolve(!0):Pc(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new O(N.FAILED_PRECONDITION,vw);return!1}}return!(!this.networkEnabled||!this.inForeground)||Lf(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){let s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&F("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return P(this,null,function*(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),yield this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new Hc(e,un.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()})}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Lf(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return fp.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new hI(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return cp.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){F("IndexedDbPersistence","Starting transaction:",e);let i=n==="readonly"?"readonly":"readwrite",s=function(u){return u===17?$z:u===16?Uz:u===15?bE:u===14?LN:u===13?VN:u===12?Bz:u===11?FN:void G()}(this.hi),o;return this.Ri.runTransaction(e,i,s,a=>(o=new Hc(a,this.Qr?this.Qr.next():un.oe),n==="readwrite-primary"?this.wi(o).next(u=>!!u||this.Si(o)).next(u=>{if(!u)throw Ze(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new O(N.FAILED_PRECONDITION,RN);return r(o)}).next(u=>this.Di(o).next(()=>u)):this.Ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(e){return Pc(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new O(N.FAILED_PRECONDITION,vw)})}Di(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Pc(e).put("owner",n)}static D(){return Pi.D()}bi(e){let n=Pc(e);return n.get("owner").next(r=>this.vi(r)?(F("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):M.resolve())}Mi(e,n){let r=Date.now();return!(e<r-n)&&(!(e>r)||(Ze(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();let n=/(?:Version|Mobile)\/1[456]/;Ng()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{let r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return F("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ze("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Ze("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function Pc(t){return dt(t,"owner")}function Lf(t){return dt(t,"clientMetadata")}function PE(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var NI=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ae(),i=ae();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var RI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var vp=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Ng()?8:PN(mu())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new RI;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(pa()<=jn.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),M.resolve()):(pa()<=jn.DEBUG&&F("QueryEngine","Query:",ga(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(pa()<=jn.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jt(n))):M.resolve())}Yi(e,n){if(BM(n))return M.resolve(null);let r=jt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=rp(n,null,"F"),r=jt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ae(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,rp(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return BM(n)||i.isEqual(ne.min())?M.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?M.resolve(null):(pa()<=jn.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ga(n)),this.rs(e,o,n,MN(i,-1)).next(a=>a))})}ts(e,n){let r=new Ne(XN(e));return n.forEach((i,s)=>{fl(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return pa()<=jn.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",ga(n)),this.Ji.getDocumentsMatchingQuery(e,n,In.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var PI=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ve(oe),this._s=new lr(s=>Vs(s),dl),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gp(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function RR(t,e,n,r){return new PI(t,e,n,r)}function PR(t,e){return P(this,null,function*(){let n=$(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=ae();for(let l of i){o.push(l.batchId);for(let d of l.mutations)u=u.add(d.key)}for(let l of s){a.push(l.batchId);for(let d of l.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function Iq(t,e){let n=$(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,d){let f=l.batch,g=f.keys(),y=M.resolve();return g.forEach(E=>{y=y.next(()=>d.getEntry(u,E)).next(T=>{let A=l.docVersions.get(E);J(A!==null),T.version.compareTo(A)<0&&(f.applyToRemoteDocument(T,l),T.isValidDocument()&&(T.setReadTime(l.commitVersion),d.addEntry(T)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ae();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function kR(t){let e=$(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Eq(t,e){let n=$(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((d,f)=>{let g=i.get(f);if(!g)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,f)));let y=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(et.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(f,y),function(T,A,V){return T.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(g,y,d)&&a.push(n.Ur.updateTargetData(s,y))});let u=Kt(),l=ae();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(OR(s,o,e.documentUpdates).next(d=>{u=d.Ps,l=d.Is})),!r.isEqual(ne.min())){let d=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return M.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function OR(t,e,n){let r=ae(),i=ae();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Kt();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):F("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function Dq(t,e){let n=$(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ra(t,e){let n=$(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Ma(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Pa(t,e,n){return P(this,null,function*(){let r=$(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Hi(o))throw o;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function _p(t,e,n){let r=$(t),i=ne.min(),s=ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,d){let f=$(u),g=f._s.get(d);return g!==void 0?M.resolve(f.os.get(g)):f.Ur.getTargetData(l,d)}(r,o,jt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:ae())).next(a=>(LR(r,ZN(e),a),{documents:a,Ts:s})))}function FR(t,e){let n=$(t),r=$(n.Ur),i=n.os.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function VR(t,e){let n=$(t),r=n.us.get(e)||ne.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.cs.getAllFromCollectionGroup(i,e,MN(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(LR(n,e,i),i))}function LR(t,e,n){let r=t.us.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}function bq(t,e,n,r){return P(this,null,function*(){let i=$(t),s=ae(),o=Kt();for(let l of n){let d=e.Es(l.metadata.name);l.document&&(s=s.add(d));let f=e.ds(l);f.setReadTime(e.As(l.metadata.readTime)),o=o.insert(d,f)}let a=i.cs.newChangeBuffer({trackRemovals:!0}),u=yield Ra(i,function(d){return jt(Ua(_e.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>OR(l,a,o).next(d=>(a.apply(l),d)).next(d=>i.Ur.removeMatchingKeysForTargetId(l,u.targetId).next(()=>i.Ur.addMatchingKeys(l,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,d.Ps,d.Is)).next(()=>d.Ps)))})}function Cq(r,i){return P(this,arguments,function*(t,e,n=ae()){let s=yield Ra(t,jt(NE(e.bundledQuery))),o=$(t);return o.persistence.runTransaction("Save named query","readwrite",a=>{let u=Je(e.readTime);if(s.snapshotVersion.compareTo(u)>=0)return o.Gr.saveNamedQuery(a,e);let l=s.withResumeToken(et.EMPTY_BYTE_STRING,u);return o.os=o.os.insert(l.targetId,l),o.Ur.updateTargetData(a,l).next(()=>o.Ur.removeMatchingKeysForTargetId(a,s.targetId)).next(()=>o.Ur.addMatchingKeys(a,n,s.targetId)).next(()=>o.Gr.saveNamedQuery(a,e))})})}function pN(t,e){return`firestore_clients_${t}_${e}`}function gN(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function _w(t,e){return`firestore_targets_${t}_${e}`}var wp=class t{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Rs(e,n,r){let i=JSON.parse(r),s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new O(i.error.code,i.error.message))),o?new t(e,n,i.state,s):(Ze("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},jc=class t{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Rs(e,n){let r=JSON.parse(n),i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new O(r.error.code,r.error.message))),s?new t(e,r.state,i):(Ze("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Vs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Ip=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Rs(e,n){let r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=SE();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=kN(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Ze("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},kI=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Rs(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(Ze("SharedClientState",`Failed to parse online state: ${e}`),null)}},nl=class{constructor(){this.activeTargetIds=SE()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Bc=class{constructor(e,n,r,i,s){this.window=e,this.ui=n,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Ve(oe),this.started=!1,this.bs=[];let o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ds=pN(this.persistenceKey,this.ps),this.vs=function(u){return`firestore_sequence_number_${u}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new nl),this.Cs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.xs=function(u){return`firestore_online_state_${u}`}(this.persistenceKey),this.Os=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){return P(this,null,function*(){let e=yield this.syncEngine.Qi();for(let r of e){if(r===this.ps)continue;let i=this.getItem(pN(this.persistenceKey,r));if(i){let s=Ip.Rs(r,i);s&&(this.Ss=this.Ss.insert(s.clientId,s))}}this.Ns();let n=this.storage.getItem(this.xs);if(n){let r=this.Ls(n);r&&this.Bs(r)}for(let r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let n=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,n,r){this.qs(e,n,r),this.Qs(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){let i=this.storage.getItem(_w(this.persistenceKey,e));if(i){let s=jc.Rs(e,i);s&&(r=s.state)}}return n&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(_w(this.persistenceKey,e))}updateQueryState(e,n,r){this.$s(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return F("SharedClientState","READ",e,n),n}setItem(e,n){F("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){F("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){let n=e;if(n.storageArea===this.storage){if(F("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ds)return void Ze("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(()=>P(this,null,function*(){if(this.started){if(n.key!==null){if(this.Cs.test(n.key)){if(n.newValue==null){let r=this.Gs(n.key);return this.zs(r,null)}{let r=this.js(n.key,n.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(n.key)){if(n.newValue!==null){let r=this.Hs(n.key,n.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(n.key)){if(n.newValue!==null){let r=this.Ys(n.key,n.newValue);if(r)return this.Zs(r)}}else if(n.key===this.xs){if(n.newValue!==null){let r=this.Ls(n.newValue);if(r)return this.Bs(r)}}else if(n.key===this.vs){let r=function(s){let o=un.oe;if(s!=null)try{let a=JSON.parse(s);J(typeof a=="number"),o=a}catch(a){Ze("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==un.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Os){let r=this.Xs(n.newValue);yield Promise.all(r.map(i=>this.syncEngine.eo(i)))}}}else this.bs.push(n)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,n,r){let i=new wp(this.currentUser,e,n,r),s=gN(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Vs())}Qs(e){let n=gN(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Us(e){let n={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(n))}$s(e,n,r){let i=_w(this.persistenceKey,e),s=new jc(e,n,r);this.setItem(i,s.Vs())}Ws(e){let n=JSON.stringify(Array.from(e));this.setItem(this.Os,n)}Gs(e){let n=this.Cs.exec(e);return n?n[1]:null}js(e,n){let r=this.Gs(e);return Ip.Rs(r,n)}Hs(e,n){let r=this.Fs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return wp.Rs(new ot(s),i,n)}Ys(e,n){let r=this.Ms.exec(e),i=Number(r[1]);return jc.Rs(i,n)}Ls(e){return kI.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){return P(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);F("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,n){let r=n?this.Ss.insert(e,n):this.Ss.remove(e),i=this.ks(this.Ss),s=this.ks(r),o=[],a=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||a.push(u)}),this.syncEngine.io(o,a).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let n=SE();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}},Ep=class{constructor(){this.so=new nl,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new nl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var OI=class{_o(e){}shutdown(){}};var Dp=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var jf=null;function ww(){return jf===null?jf=function(){return 268435456+Math.round(2147483648*Math.random())}():jf++,"0x"+jf.toString(16)}var Tq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var FI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var At="WebChannelConnection",VI=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=ww(),u=this.xo(n,r.toUriEncodedString());F("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(d=>(F("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw wn("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ba}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=Tq[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=ww();return new Promise((o,a)=>{let u=new dw;u.setWithCredentials(!0),u.listenOnce(fw.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case xc.NO_ERROR:let d=u.getResponseJson();F(At,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case xc.TIMEOUT:F(At,`RPC '${e}' ${s} timed out`),a(new O(N.DEADLINE_EXCEEDED,"Request time out"));break;case xc.HTTP_ERROR:let f=u.getStatus();if(F(At,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);let y=g?.error;if(y&&y.status&&y.message){let E=function(A){let V=A.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(V)>=0?V:N.UNKNOWN}(y.status);a(new O(E,y.message))}else a(new O(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new O(N.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{F(At,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);F(At,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=ww(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=mw(),a=gw(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new hw({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let d=s.join("");F(At,`Creating RPC '${e}' stream ${i}: ${d}`,u);let f=o.createWebChannel(d,u),g=!1,y=!1,E=new FI({Io:A=>{y?F(At,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(g||(F(At,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),F(At,`RPC '${e}' stream ${i} sending:`,A),f.send(A))},To:()=>f.close()}),T=(A,V,j)=>{A.listen(V,k=>{try{j(k)}catch(W){setTimeout(()=>{throw W},0)}})};return T(f,ca.EventType.OPEN,()=>{y||(F(At,`RPC '${e}' stream ${i} transport opened.`),E.yo())}),T(f,ca.EventType.CLOSE,()=>{y||(y=!0,F(At,`RPC '${e}' stream ${i} transport closed`),E.So())}),T(f,ca.EventType.ERROR,A=>{y||(y=!0,wn(At,`RPC '${e}' stream ${i} transport errored:`,A),E.So(new O(N.UNAVAILABLE,"The operation could not be completed")))}),T(f,ca.EventType.MESSAGE,A=>{var V;if(!y){let j=A.data[0];J(!!j);let k=j,W=k.error||((V=k[0])===null||V===void 0?void 0:V.error);if(W){F(At,`RPC '${e}' stream ${i} received error:`,W);let ee=W.status,te=function(w){let D=it[w];if(D!==void 0)return dR(D)}(ee),I=W.message;te===void 0&&(te=N.INTERNAL,I="Unknown error status: "+ee+" with message "+W.message),y=!0,E.So(new O(te,I)),f.close()}else F(At,`RPC '${e}' stream ${i} received:`,j),E.bo(j)}}),T(a,pw.STAT_EVENT,A=>{A.stat===Of.PROXY?F(At,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Of.NOPROXY&&F(At,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}};function jR(){return typeof window<"u"?window:null}function zf(){return typeof document<"u"?document:null}function pl(t){return new Xw(t,!0)}var rl=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var bp=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new rl(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return P(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return P(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return P(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Ze(n.toString()),Ze("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new O(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>P(this,null,function*(){this.state=0,this.start()}))}I_(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},LI=class extends bp{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=lq(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?Je(o.readTime):ne.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=tI(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=tp(u)?{documents:_R(s,u)}:{query:wR(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=fR(s,o.resumeToken);let l=Jw(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=xa(s,o.snapshotVersion.toTimestamp());let l=Jw(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=hq(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=tI(this.serializer),n.removeTarget=e,this.a_(n)}},jI=class extends bp{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return J(!!e.streamToken),this.lastStreamToken=e.streamToken,J(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){J(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=dq(e.writeResults,e.commitTime),r=Je(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=tI(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Jc(this.serializer,r))};this.a_(n)}};var BI=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new O(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,eI(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(N.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,eI(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new O(N.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},UI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ze(n),this.D_=!1):F("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var $I=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>P(this,null,function*(){zi(this)&&(F("RemoteStore","Restarting streams for network reachability change."),yield function(u){return P(this,null,function*(){let l=$(u);l.L_.add(4),yield $a(l),l.q_.set("Unknown"),l.L_.delete(4),yield gl(l)})}(this))}))}),this.q_=new UI(r,i)}};function gl(t){return P(this,null,function*(){if(zi(t))for(let e of t.B_)yield e(!0)})}function $a(t){return P(this,null,function*(){for(let e of t.B_)yield e(!1)})}function zp(t,e){let n=$(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),FE(n)?OE(n):za(n).r_()&&kE(n,e))}function ka(t,e){let n=$(t),r=za(n);n.N_.delete(e),r.r_()&&BR(n,e),n.N_.size===0&&(r.r_()?r.o_():zi(n)&&n.q_.set("Unknown"))}function kE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}za(t).A_(e)}function BR(t,e){t.Q_.xe(e),za(t).R_(e)}function OE(t){t.Q_=new Zw({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),za(t).start(),t.q_.v_()}function FE(t){return zi(t)&&!za(t).n_()&&t.N_.size>0}function zi(t){return $(t).L_.size===0}function UR(t){t.Q_=void 0}function Aq(t){return P(this,null,function*(){t.q_.set("Online")})}function Sq(t){return P(this,null,function*(){t.N_.forEach((e,n)=>{kE(t,e)})})}function xq(t,e){return P(this,null,function*(){UR(t),FE(t)?(t.q_.M_(e),OE(t)):t.q_.set("Unknown")})}function Mq(t,e,n){return P(this,null,function*(){if(t.q_.set("Online"),e instanceof sp&&e.state===2&&e.cause)try{yield function(i,s){return P(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Cp(t,r)}else if(e instanceof Ea?t.Q_.Ke(e):e instanceof ip?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ne.min()))try{let r=yield kR(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let d=s.N_.get(l);d&&s.N_.set(l,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let d=s.N_.get(u);if(!d)return;s.N_.set(u,d.withResumeToken(et.EMPTY_BYTE_STRING,d.snapshotVersion)),BR(s,u);let f=new Ma(d.target,u,l,d.sequenceNumber);kE(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){F("RemoteStore","Failed to raise snapshot:",r),yield Cp(t,r)}})}function Cp(t,e,n){return P(this,null,function*(){if(!Hi(e))throw e;t.L_.add(1),yield $a(t),t.q_.set("Offline"),n||(n=()=>kR(t.localStore)),t.asyncQueue.enqueueRetryable(()=>P(this,null,function*(){F("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield gl(t)}))})}function $R(t,e){return e().catch(n=>Cp(t,n,e))}function Ha(t){return P(this,null,function*(){let e=$(t),n=Ui(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Nq(e);)try{let i=yield Dq(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Rq(e,i)}catch(i){yield Cp(e,i)}HR(e)&&zR(e)})}function Nq(t){return zi(t)&&t.O_.length<10}function Rq(t,e){t.O_.push(e);let n=Ui(t);n.r_()&&n.V_&&n.m_(e.mutations)}function HR(t){return zi(t)&&!Ui(t).n_()&&t.O_.length>0}function zR(t){Ui(t).start()}function Pq(t){return P(this,null,function*(){Ui(t).p_()})}function kq(t){return P(this,null,function*(){let e=Ui(t);for(let n of t.O_)e.m_(n.mutations)})}function Oq(t,e,n){return P(this,null,function*(){let r=t.O_.shift(),i=Kw.from(r,e,n);yield $R(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Ha(t)})}function Fq(t,e){return P(this,null,function*(){e&&Ui(t).V_&&(yield function(r,i){return P(this,null,function*(){if(function(o){return lR(o)&&o!==N.ABORTED}(i.code)){let s=r.O_.shift();Ui(r).s_(),yield $R(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Ha(r)}})}(t,e)),HR(t)&&zR(t)})}function mN(t,e){return P(this,null,function*(){let n=$(t);n.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");let r=zi(n);n.L_.add(3),yield $a(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield gl(n)})}function HI(t,e){return P(this,null,function*(){let n=$(t);e?(n.L_.delete(2),yield gl(n)):e||(n.L_.add(2),yield $a(n),n.q_.set("Unknown"))})}function za(t){return t.K_||(t.K_=function(n,r,i){let s=$(n);return s.w_(),new LI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Aq.bind(null,t),Ro:Sq.bind(null,t),mo:xq.bind(null,t),d_:Mq.bind(null,t)}),t.B_.push(e=>P(this,null,function*(){e?(t.K_.s_(),FE(t)?OE(t):t.q_.set("Unknown")):(yield t.K_.stop(),UR(t))}))),t.K_}function Ui(t){return t.U_||(t.U_=function(n,r,i){let s=$(n);return s.w_(),new jI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Pq.bind(null,t),mo:Fq.bind(null,t),f_:kq.bind(null,t),g_:Oq.bind(null,t)}),t.B_.push(e=>P(this,null,function*(){e?(t.U_.s_(),yield Ha(t)):(yield t.U_.stop(),t.O_.length>0&&(F("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var zI=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new at,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function qa(t,e){if(Ze("AsyncQueue",`${e}: ${t}`),Hi(t))return new O(N.UNAVAILABLE,`${e}: ${t}`);throw t}var Tp=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=kc(),this.sortedSet=new Ve(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Ap=class{constructor(){this.W_=new Ve(H.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):G():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Oa=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Tp.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var qI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},GI=class{constructor(){this.queries=yN(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=$(n),s=i.queries;i.queries=yN(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new O(N.ABORTED,"Firestore shutting down"))}};function yN(){return new lr(t=>YN(t),hl)}function VE(t,e){return P(this,null,function*(){let n=$(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new qI,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=qa(o,`Initialization of query '${ga(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&jE(n)})}function LE(t,e){return P(this,null,function*(){let n=$(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function Vq(t,e){let n=$(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&jE(n)}function Lq(t,e,n){let r=$(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function jE(t){t.Y_.forEach(e=>{e.next()})}var WI,vN;(vN=WI||(WI={})).ea="default",vN.Cache="cache";var il=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Oa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Oa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==WI.Cache}};var KI=class{constructor(e,n){this.aa=e,this.byteLength=n}ua(){return"metadata"in this.aa}};var Sp=class{constructor(e){this.serializer=e}Es(e){return or(this.serializer,e)}ds(e){return e.metadata.exists?vR(this.serializer,e.document,!1):ut.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Je(e)}},QI=class{constructor(e,n,r){this.ca=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=qR(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++n;let r=_e.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ha(e){let n=new Map,r=new Sp(this.serializer);for(let i of e)if(i.metadata.queries){let s=r.Es(i.metadata.name);for(let o of i.metadata.queries){let a=(n.get(o)||ae()).add(s);n.set(o,a)}}return n}complete(){return P(this,null,function*(){let e=yield bq(this.localStore,new Sp(this.serializer),this.documents,this.ca.id),n=this.ha(this.documents);for(let r of this.queries)yield Cq(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}})}};function qR(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var xp=class{constructor(e){this.key=e}},Mp=class{constructor(e){this.key=e}},Np=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ae(),this.mutatedKeys=ae(),this.Aa=XN(e),this.Ra=new Tp(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Ap,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let g=i.get(d),y=fl(this.query,f)?f:null,E=!!g&&this.mutatedKeys.has(g.key),T=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),A=!1;g&&y?g.data.isEqual(y.data)?E!==T&&(r.track({type:3,doc:y}),A=!0):this.ga(g,y)||(r.track({type:2,doc:y}),A=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),A=!0):g&&!y&&(r.track({type:1,doc:g}),A=!0,(u||l)&&(a=!0)),A&&(y?(o=o.add(y),s=T?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((d,f)=>function(y,E){let T=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return T(y)-T(E)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new Oa(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ap,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ae(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Mp(r))}),this.da.forEach(r=>{e.has(r)||n.push(new xp(r))}),n}ba(e){this.Ta=e.Ts,this.da=ae();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Oa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},YI=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},ZI=class{constructor(e){this.key=e,this.va=!1}},XI=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new lr(a=>YN(a),hl),this.Ma=new Map,this.xa=new Set,this.Oa=new Ve(H.comparator),this.Na=new Map,this.La=new tl,this.Ba={},this.ka=new Map,this.qa=Na.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function jq(t,e,n=!0){return P(this,null,function*(){let r=qp(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield GR(r,e,n,!0),i})}function Bq(t,e){return P(this,null,function*(){let n=qp(t);yield GR(n,e,!0,!1)})}function GR(t,e,n,r){return P(this,null,function*(){let i=yield Ra(t.localStore,jt(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield BE(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&zp(t.remoteStore,i),a})}function BE(t,e,n,r,i){return P(this,null,function*(){t.Ka=(f,g,y)=>function(T,A,V,j){return P(this,null,function*(){let k=A.view.ma(V);k.ns&&(k=yield _p(T.localStore,A.query,!1).then(({documents:I})=>A.view.ma(I,k)));let W=j&&j.targetChanges.get(A.targetId),ee=j&&j.targetMismatches.get(A.targetId)!=null,te=A.view.applyChanges(k,T.isPrimaryClient,W,ee);return JI(T,A.targetId,te.wa),te.snapshot})}(t,f,g,y);let s=yield _p(t.localStore,e,!0),o=new Np(e,s.Ts),a=o.ma(s.documents),u=Zc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);JI(t,n,l.wa);let d=new YI(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function Uq(t,e,n){return P(this,null,function*(){let r=$(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!hl(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Pa(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ka(r.remoteStore,i.targetId),Fa(r,i.targetId)}).catch($i))):(Fa(r,i.targetId),yield Pa(r.localStore,i.targetId,!0))})}function $q(t,e){return P(this,null,function*(){let n=$(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ka(n.remoteStore,r.targetId))})}function Hq(t,e,n){return P(this,null,function*(){let r=zE(t);try{let i=yield function(o,a){let u=$(o),l=ze.now(),d=a.reduce((y,E)=>y.add(E.key),ae()),f,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let E=Kt(),T=ae();return u.cs.getEntries(y,d).next(A=>{E=A,E.forEach((V,j)=>{j.isValidDocument()||(T=T.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,E)).next(A=>{f=A;let V=[];for(let j of a){let k=rq(j,f.get(j.key).overlayedDocument);k!=null&&V.push(new Fn(j.key,k,HN(k.value.mapValue),Qe.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,V,a)}).next(A=>{g=A;let V=A.applyToLocalDocumentSet(f,T);return u.documentOverlayCache.saveOverlays(y,A.batchId,V)})}).then(()=>({batchId:g.batchId,changes:eR(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Ve(oe)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Hr(r,i.changes),yield Ha(r.remoteStore)}catch(i){let s=qa(i,"Failed to persist write");n.reject(s)}})}function WR(t,e){return P(this,null,function*(){let n=$(t);try{let r=yield Eq(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(J(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?J(o.va):i.removedDocuments.size>0&&(J(o.va),o.va=!1))}),yield Hr(n,r,e)}catch(r){yield $i(r)}})}function _N(t,e,n){let r=$(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=$(o);u.onlineState=a;let l=!1;u.queries.forEach((d,f)=>{for(let g of f.j_)g.Z_(a)&&(l=!0)}),l&&jE(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function zq(t,e,n){return P(this,null,function*(){let r=$(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ve(H.comparator);o=o.insert(s,ut.newNoDocument(s,ne.min()));let a=ae().add(s),u=new Yc(ne.min(),new Map,new Ve(oe),o,a);yield WR(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),HE(r)}else yield Pa(r.localStore,e,!1).then(()=>Fa(r,e,n)).catch($i)})}function qq(t,e){return P(this,null,function*(){let n=$(t),r=e.batch.batchId;try{let i=yield Iq(n.localStore,e);$E(n,r,null),UE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Hr(n,i)}catch(i){yield $i(i)}})}function Gq(t,e,n){return P(this,null,function*(){let r=$(t);try{let i=yield function(o,a){let u=$(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return u.mutationQueue.lookupMutationBatch(l,a).next(f=>(J(f!==null),d=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>u.localDocuments.getDocuments(l,d))})}(r.localStore,e);$E(r,e,n),UE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Hr(r,i)}catch(i){yield $i(i)}})}function Wq(t,e){return P(this,null,function*(){let n=$(t);zi(n.remoteStore)||F("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let r=yield function(o){let a=$(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(n.localStore);if(r===-1)return void e.resolve();let i=n.ka.get(r)||[];i.push(e),n.ka.set(r,i)}catch(r){let i=qa(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})}function UE(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function $E(t,e,n){let r=$(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Fa(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||KR(t,r)})}function KR(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(ka(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),HE(t))}function JI(t,e,n){for(let r of n)r instanceof xp?(t.La.addReference(r.key,e),Kq(t,r)):r instanceof Mp?(F("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||KR(t,r.key)):G()}function Kq(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(F("SyncEngine","New document in limbo: "+n),t.xa.add(r),HE(t))}function HE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new H(_e.fromString(e)),r=t.qa.next();t.Na.set(r,new ZI(n)),t.Oa=t.Oa.insert(n,r),zp(t.remoteStore,new Ma(jt(Ua(n.path)),r,"TargetPurposeLimboResolution",un.oe))}}function Hr(t,e,n){return P(this,null,function*(){let r=$(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var d;if((l||n)&&r.isPrimaryClient){let f=l?!l.fromCache:(d=n?.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(l){i.push(l);let f=NI.Wi(u.targetId,l);s.push(f)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return P(this,null,function*(){let d=$(u);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>M.forEach(l,g=>M.forEach(g.$i,y=>d.persistence.referenceDelegate.addReference(f,g.targetId,y)).next(()=>M.forEach(g.Ui,y=>d.persistence.referenceDelegate.removeReference(f,g.targetId,y)))))}catch(f){if(!Hi(f))throw f;F("LocalStore","Failed to update sequence numbers: "+f)}for(let f of l){let g=f.targetId;if(!f.fromCache){let y=d.os.get(g),E=y.snapshotVersion,T=y.withLastLimboFreeSnapshotVersion(E);d.os=d.os.insert(g,T)}}})}(r.localStore,s))})}function Qq(t,e){return P(this,null,function*(){let n=$(t);if(!n.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());let r=yield PR(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new O(N.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Hr(n,r.hs)}})}function Yq(t,e){let n=$(t),r=n.Na.get(e);if(r&&r.va)return ae().add(r.key);{let i=ae(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function Zq(t,e){return P(this,null,function*(){let n=$(t),r=yield _p(n.localStore,e.query,!0),i=e.view.ba(r);return n.isPrimaryClient&&JI(n,e.targetId,i.wa),i})}function Xq(t,e){return P(this,null,function*(){let n=$(t);return VR(n.localStore,e).then(r=>Hr(n,r))})}function Jq(t,e,n,r){return P(this,null,function*(){let i=$(t),s=yield function(a,u){let l=$(a),d=$(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.Mn(f,u).next(g=>g?l.localDocuments.getDocuments(f,g):M.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?yield Ha(i.remoteStore):n==="acknowledged"||n==="rejected"?($E(i,e,r||null),UE(i,e),function(a,u){$($(a).mutationQueue).On(u)}(i.localStore,e)):G(),yield Hr(i,s)):F("SyncEngine","Cannot apply mutation batch with id: "+e)})}function e9(t,e){return P(this,null,function*(){let n=$(t);if(qp(n),zE(n),e===!0&&n.Qa!==!0){let r=n.sharedClientState.getAllActiveQueryTargets(),i=yield wN(n,r.toArray());n.Qa=!0,yield HI(n.remoteStore,!0);for(let s of i)zp(n.remoteStore,s)}else if(e===!1&&n.Qa!==!1){let r=[],i=Promise.resolve();n.Ma.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Fa(n,o),Pa(n.localStore,o,!0))),ka(n.remoteStore,o)}),yield i,yield wN(n,r),function(o){let a=$(o);a.Na.forEach((u,l)=>{ka(a.remoteStore,l)}),a.La.pr(),a.Na=new Map,a.Oa=new Ve(H.comparator)}(n),n.Qa=!1,yield HI(n.remoteStore,!1)}})}function wN(t,e,n){return P(this,null,function*(){let r=$(t),i=[],s=[];for(let o of e){let a,u=r.Ma.get(o);if(u&&u.length!==0){a=yield Ra(r.localStore,jt(u[0]));for(let l of u){let d=r.Fa.get(l),f=yield Zq(r,d);f.snapshot&&s.push(f.snapshot)}}else{let l=yield FR(r.localStore,o);a=yield Ra(r.localStore,l),yield BE(r,QR(l),o,!1,a.resumeToken)}i.push(a)}return r.Ca.d_(s),i})}function QR(t){return QN(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function t9(t){return function(n){return $($(n).persistence).Qi()}($(t).localStore)}function n9(t,e,n,r){return P(this,null,function*(){let i=$(t);if(i.Qa)return void F("SyncEngine","Ignoring unexpected query state notification.");let s=i.Ma.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{let o=yield VR(i.localStore,ZN(s[0])),a=Yc.createSynthesizedRemoteEventForCurrentChange(e,n==="current",et.EMPTY_BYTE_STRING);yield Hr(i,o,a);break}case"rejected":yield Pa(i.localStore,e,!0),Fa(i,e,r);break;default:G()}})}function r9(t,e,n){return P(this,null,function*(){let r=qp(t);if(r.Qa){for(let i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){F("SyncEngine","Adding an already active target "+i);continue}let s=yield FR(r.localStore,i),o=yield Ra(r.localStore,s);yield BE(r,QR(s),o.targetId,!1,o.resumeToken),zp(r.remoteStore,o)}for(let i of n)r.Ma.has(i)&&(yield Pa(r.localStore,i,!1).then(()=>{ka(r.remoteStore,i),Fa(r,i)}).catch($i))}})}function qp(t){let e=$(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zq.bind(null,e),e.Ca.d_=Vq.bind(null,e.eventManager),e.Ca.$a=Lq.bind(null,e.eventManager),e}function zE(t){let e=$(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gq.bind(null,e),e}function i9(t,e,n){let r=$(t);(function(s,o,a){return P(this,null,function*(){try{let u=yield o.getMetadata();if(yield function(y,E){let T=$(y),A=Je(E.createTime);return T.persistence.runTransaction("hasNewerBundle","readonly",V=>T.Gr.getBundleMetadata(V,E.id)).then(V=>!!V&&V.createTime.compareTo(A)>=0)}(s.localStore,u))return yield o.close(),a._completeWith(function(y){return{taskState:"Success",documentsLoaded:y.totalDocuments,bytesLoaded:y.totalBytes,totalDocuments:y.totalDocuments,totalBytes:y.totalBytes}}(u)),Promise.resolve(new Set);a._updateProgress(qR(u));let l=new QI(u,s.localStore,o.serializer),d=yield o.Ua();for(;d;){let g=yield l.la(d);g&&a._updateProgress(g),d=yield o.Ua()}let f=yield l.complete();return yield Hr(s,f.Ia,void 0),yield function(y,E){let T=$(y);return T.persistence.runTransaction("Save bundle","readwrite",A=>T.Gr.saveBundleMetadata(A,E))}(s.localStore,u),a._completeWith(f.progress),Promise.resolve(f.Pa)}catch(u){return wn("SyncEngine",`Loading bundle failed with ${u}`),a._failWith(u),Promise.resolve(new Set)}})})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}var sl=class{constructor(){this.synchronizeTabs=!1}initialize(e){return P(this,null,function*(){this.serializer=pl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return RR(this.persistence,new vp,e.initialUser,this.serializer)}createPersistence(e){return new mp(yp.Zr,this.serializer)}createSharedClientState(e){return new Ep}terminate(){return P(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Rp=class t extends sl{constructor(e,n,r){super(),this.Wa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){return P(this,null,function*(){yield xg(t.prototype,this,"initialize").call(this,e),yield this.Wa.initialize(this,e),yield zE(this.Wa.syncEngine),yield Ha(this.Wa.remoteStore),yield this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return RR(this.persistence,new vp,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let r=this.persistence.referenceDelegate.garbageCollector;return new gI(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let r=new Rw(n,this.persistence);return new Nw(e.asyncQueue,r)}createPersistence(e){let n=PE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new MI(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,jR(),zf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Ep}},eE=class t extends Rp{constructor(e,n){super(e,n,!1),this.Wa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return P(this,null,function*(){yield xg(t.prototype,this,"initialize").call(this,e);let n=this.Wa.syncEngine;this.sharedClientState instanceof Bc&&(this.sharedClientState.syncEngine={no:Jq.bind(null,n),ro:n9.bind(null,n),io:r9.bind(null,n),Qi:t9.bind(null,n),eo:Xq.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.yi(r=>P(this,null,function*(){yield e9(this.Wa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=jR();if(!Bc.D(n))throw new O(N.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=PE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Bc(n,e.asyncQueue,r,e.clientId,e.initialUser)}},ol=class{initialize(e,n){return P(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_N(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Qq.bind(null,this.syncEngine),yield HI(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new GI}()}createDatastore(e){let n=pl(e.databaseInfo.databaseId),r=function(s){return new VI(s)}(e.databaseInfo);return function(s,o,a,u){return new BI(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new $I(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>_N(this.syncEngine,n,0),function(){return Dp.D()?new Dp:new OI}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,d){let f=new XI(i,s,o,a,u,l);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return P(this,null,function*(){var e,n;yield function(i){return P(this,null,function*(){let s=$(i);F("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield $a(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};function IN(t,e=10240){let n=0;return{read(){return P(this,null,function*(){if(n<t.byteLength){let i={value:t.slice(n,n+e),done:!1};return n+=e,i}return{done:!0}})},cancel(){return P(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var Va=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Ze("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var tE=class{constructor(e,n){this.ja=e,this.serializer=n,this.metadata=new at,this.buffer=new Uint8Array,this.Ha=function(){return new TextDecoder("utf-8")}(),this.Ja().then(r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.aa)}`))},r=>this.metadata.reject(r))}close(){return this.ja.cancel()}getMetadata(){return P(this,null,function*(){return this.metadata.promise})}Ua(){return P(this,null,function*(){return yield this.getMetadata(),this.Ja()})}Ja(){return P(this,null,function*(){let e=yield this.Ya();if(e===null)return null;let n=this.Ha.decode(e),r=Number(n);isNaN(r)&&this.Za(`length string (${n}) is not valid number`);let i=yield this.Xa(r);return new KI(JSON.parse(i),e.length+r)})}eu(){return this.buffer.findIndex(e=>e===123)}Ya(){return P(this,null,function*(){for(;this.eu()<0&&!(yield this.tu()););if(this.buffer.length===0)return null;let e=this.eu();e<0&&this.Za("Reached the end of bundle when a length string is expected.");let n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n})}Xa(e){return P(this,null,function*(){for(;this.buffer.length<e;)(yield this.tu())&&this.Za("Reached the end of bundle when more is expected.");let n=this.Ha.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n})}Za(e){throw this.ja.cancel(),new Error(`Invalid bundle format: ${e}`)}tu(){return P(this,null,function*(){let e=yield this.ja.read();if(!e.done){let n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done})}};var nE=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return P(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new O(N.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let n=yield function(i,s){return P(this,null,function*(){let o=$(i),a={documents:s.map(f=>Xc(o.serializer,f))},u=yield o.Lo("BatchGetDocuments",o.serializer.databaseId,_e.emptyPath(),a,s.length),l=new Map;u.forEach(f=>{let g=cq(o.serializer,f);l.set(g.key.toString(),g)});let d=[];return s.forEach(f=>{let g=l.get(f.toString());J(!!g),d.push(g)}),d})}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n})}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Bi(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return P(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{let i=H.fromPath(r);this.mutations.push(new Wc(i,this.precondition(i)))}),yield function(r,i){return P(this,null,function*(){let s=$(r),o={writes:i.map(a=>Jc(s.serializer,a))};yield s.Mo("Commit",s.serializer.databaseId,_e.emptyPath(),o)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw G();n=ne.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new O(N.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){let n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ne.min())?Qe.exists(!1):Qe.updateTime(n):Qe.none()}preconditionForUpdate(e){let n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ne.min()))throw new O(N.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qe.updateTime(n)}return Qe.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var rE=class{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.nu=r.maxAttempts,this.t_=new rl(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){this.t_.Go(()=>P(this,null,function*(){let e=new nE(this.datastore),n=this.su(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.ou(i)}))}).catch(r=>{this.ou(r)})}))}su(e){try{let n=this.updateFunction(e);return!ll(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ou(e){this.nu>0&&this._u(e)?(this.nu-=1,this.asyncQueue.enqueueAndForget(()=>(this.iu(),Promise.resolve()))):this.deferred.reject(e)}_u(e){if(e.name==="FirebaseError"){let n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!lR(n)}return!1}};var iE=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ot.UNAUTHENTICATED,this.clientId=Wf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>P(this,null,function*(){F("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(F("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new O(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new at;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>P(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=qa(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function qf(t,e){return P(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>P(this,null,function*(){r.isEqual(i)||(yield PR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function sE(t,e){return P(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield qE(t);F("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mN(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>mN(e.remoteStore,i)),t._onlineComponents=e})}function YR(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function qE(t){return P(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{yield qf(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!YR(n))throw n;wn("Error using user provided cache. Falling back to memory cache: "+n),yield qf(t,new sl)}}else F("FirestoreClient","Using default OfflineComponentProvider"),yield qf(t,new sl);return t._offlineComponents})}function Gp(t){return P(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),yield sE(t,t._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),yield sE(t,new ol))),t._onlineComponents})}function ZR(t){return qE(t).then(e=>e.persistence)}function GE(t){return qE(t).then(e=>e.localStore)}function XR(t){return Gp(t).then(e=>e.remoteStore)}function WE(t){return Gp(t).then(e=>e.syncEngine)}function s9(t){return Gp(t).then(e=>e.datastore)}function La(t){return P(this,null,function*(){let e=yield Gp(t),n=e.eventManager;return n.onListen=jq.bind(null,e.syncEngine),n.onUnlisten=Uq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Bq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$q.bind(null,e.syncEngine),n})}function o9(t){return t.asyncQueue.enqueue(()=>P(this,null,function*(){let e=yield ZR(t),n=yield XR(t);return e.setNetworkEnabled(!0),function(i){let s=$(i);return s.L_.delete(0),gl(s)}(n)}))}function a9(t){return t.asyncQueue.enqueue(()=>P(this,null,function*(){let e=yield ZR(t),n=yield XR(t);return e.setNetworkEnabled(!1),function(i){return P(this,null,function*(){let s=$(i);s.L_.add(0),yield $a(s),s.q_.set("Offline")})}(n)}))}function u9(t,e){let n=new at;return t.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(i,s,o){return P(this,null,function*(){try{let a=yield function(l,d){let f=$(l);return f.persistence.runTransaction("read document","readonly",g=>f.localDocuments.getDocument(g,d))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new O(N.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let u=qa(a,`Failed to get document '${s} from cache`);o.reject(u)}})}(yield GE(t),e,n)})),n.promise}function JR(t,e,n={}){let r=new at;return t.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(s,o,a,u,l){let d=new Va({next:g=>{o.enqueueAndForget(()=>LE(s,f));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new O(N.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?l.reject(new O(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),f=new il(Ua(a.path),d,{includeMetadataChanges:!0,_a:!0});return VE(s,f)}(yield La(t),t.asyncQueue,e,n,r)})),r.promise}function c9(t,e){let n=new at;return t.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(i,s,o){return P(this,null,function*(){try{let a=yield _p(i,s,!0),u=new Np(s,a.Ts),l=u.ma(a.documents),d=u.applyChanges(l,!1);o.resolve(d.snapshot)}catch(a){let u=qa(a,`Failed to execute query '${s} against cache`);o.reject(u)}})}(yield GE(t),e,n)})),n.promise}function eP(t,e,n={}){let r=new at;return t.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(s,o,a,u,l){let d=new Va({next:g=>{o.enqueueAndForget(()=>LE(s,f)),g.fromCache&&u.source==="server"?l.reject(new O(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),f=new il(a,d,{includeMetadataChanges:!0,_a:!0});return VE(s,f)}(yield La(t),t.asyncQueue,e,n,r)})),r.promise}function l9(t,e){let n=new Va(e);return t.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(i,s){$(i).Y_.add(s),s.next()}(yield La(t),n)})),()=>{n.za(),t.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return function(i,s){$(i).Y_.delete(s)}(yield La(t),n)}))}}function d9(t,e,n,r){let i=function(o,a){let u;return u=typeof o=="string"?hR().encode(o):o,function(d,f){return new tE(d,f)}(function(d,f){if(d instanceof Uint8Array)return IN(d,f);if(d instanceof ArrayBuffer)return IN(new Uint8Array(d),f);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),a)}(n,pl(e));t.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){i9(yield WE(t),i,r)}))}function h9(t,e){return t.asyncQueue.enqueue(()=>P(this,null,function*(){return function(r,i){let s=$(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Gr.getNamedQuery(o,i))}(yield GE(t),e)}))}function tP(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var EN=new Map;function KE(t,e,n){if(!n)throw new O(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QE(t,e,n,r){if(e===!0&&r===!0)throw new O(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function DN(t){if(!H.isDocumentKey(t))throw new O(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bN(t){if(H.isDocumentKey(t))throw new O(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":G()}function we(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new O(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Wp(t);throw new O(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function nP(t,e){if(e<=0)throw new O(N.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Pp=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new O(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new O(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new O(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new O(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new O(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Us=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new O(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new O(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pp(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Iw;switch(r.type){case"firstParty":return new Cw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new O(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=EN.get(n);r&&(F("ComponentProvider","Removing Datastore"),EN.delete(n),r.terminate())}(this),Promise.resolve()}};function rP(t,e,n,r={}){var i;let s=(t=we(t,Us))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&wn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=ot.MOCK_USER;else{a=Eb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new O(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ot(l)}t._authCredentials=new Ew(new Gf(a,u))}}var It=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Pe=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ar=class t extends It{constructor(e,n,r){super(e,n,Ua(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Pe(this.firestore,null,new H(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function YE(t,e,...n){if(t=$e(t),KE("collection","path",e),t instanceof Us){let r=_e.fromString(e,...n);return bN(r),new ar(t,null,r)}{if(!(t instanceof Pe||t instanceof ar))throw new O(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(_e.fromString(e,...n));return bN(r),new ar(t.firestore,null,r)}}function iP(t,e){if(t=we(t,Us),KE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new O(N.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new It(t,null,function(r){return new On(_e.emptyPath(),r)}(e))}function ml(t,e,...n){if(t=$e(t),arguments.length===1&&(e=Wf.newId()),KE("doc","path",e),t instanceof Us){let r=_e.fromString(e,...n);return DN(r),new Pe(t,null,new H(r))}{if(!(t instanceof Pe||t instanceof ar))throw new O(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(_e.fromString(e,...n));return DN(r),new Pe(t.firestore,t instanceof ar?t.converter:null,new H(r))}}function ZE(t,e){return t=$e(t),e=$e(e),(t instanceof Pe||t instanceof ar)&&(e instanceof Pe||e instanceof ar)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function XE(t,e){return t=$e(t),e=$e(e),t instanceof It&&e instanceof It&&t.firestore===e.firestore&&hl(t._query,e._query)&&t.converter===e.converter}var oE=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new rl(this,"async_queue_retry"),this.Eu=()=>{let n=zf();n&&F("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=zf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=zf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new at;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return P(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Hi(e))throw e;F("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ze("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=zI.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&G()}verifyOperationInProgress(){}mu(){return P(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function aE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var uE=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new at,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var sP=-1,Ue=class extends Us{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new oE}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||oP(this),this._firestoreClient.terminate()}};function ht(t){return t._firestoreClient||oP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function oP(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,d){return new Pw(a,u,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,tP(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new iE(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function aP(t,e){mP(t=we(t,Ue));let n=ht(t);if(n._uninitializedComponentsProvider)throw new O(N.FAILED_PRECONDITION,"SDK cache is already specified.");wn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let r=t._freezeSettings(),i=new ol;return cP(n,i,new Rp(i,r.cacheSizeBytes,e?.forceOwnership))}function uP(t){mP(t=we(t,Ue));let e=ht(t);if(e._uninitializedComponentsProvider)throw new O(N.FAILED_PRECONDITION,"SDK cache is already specified.");wn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let n=t._freezeSettings(),r=new ol;return cP(e,r,new eE(r,n.cacheSizeBytes))}function cP(t,e,n){let r=new at;return t.asyncQueue.enqueue(()=>P(this,null,function*(){try{yield qf(t,n),yield sE(t,e),r.resolve()}catch(i){let s=i;if(!YR(s))throw s;wn("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function lP(t){if(t._initialized&&!t._terminated)throw new O(N.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new at;return t._queue.enqueueAndForgetEvenWhileRestricted(()=>P(this,null,function*(){try{yield function(r){return P(this,null,function*(){if(!Pi.D())return Promise.resolve();let i=r+"main";yield Pi.delete(i)})}(PE(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function dP(t){return function(n){let r=new at;return n.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return Wq(yield WE(n),r)})),r.promise}(ht(t=we(t,Ue)))}function hP(t){return o9(ht(t=we(t,Ue)))}function fP(t){return a9(ht(t=we(t,Ue)))}function pP(t,e){let n=ht(t=we(t,Ue)),r=new uE;return d9(n,t._databaseId,e,r),r}function gP(t,e){return h9(ht(t=we(t,Ue)),e).then(n=>n?new It(t,null,n.query):null)}function mP(t){if(t._initialized||t._terminated)throw new O(N.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var dr=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(et.fromBase64String(e))}catch(n){throw new O(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Vn=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new O(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ur=class{constructor(e){this._methodName=e}};var $s=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new O(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new O(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}};var al=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var f9=/^__.*__$/,cE=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fn(e,this.data,this.fieldMask,n,this.fieldTransforms):new ji(e,this.data,n,this.fieldTransforms)}},kp=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function yP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}var Op=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Fp(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(yP(this.wu)&&f9.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},lE=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pl(e)}Nu(e,n,r,i=!1){return new Op({wu:e,methodName:n,Ou:r,path:Xe.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Gs(t){let e=t._freezeSettings(),n=pl(t._databaseId);return new lE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Kp(t,e,n,r,i,s={}){let o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);tD("Data must be an object, but it was:",o,r);let a=wP(r,o),u,l;if(s.merge)u=new cn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let f of s.mergeFields){let g=gE(e,f,n);if(!o.contains(g))throw new O(N.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);EP(d,g)||d.push(g)}u=new cn(d),l=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=o.fieldTransforms;return new cE(new St(a),u,l)}var ul=class t extends Ur{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function vP(t,e,n){return new Op({wu:3,Ou:e.settings.Ou,methodName:t._methodName,Du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var dE=class t extends Ur{_toFieldTransform(e){return new Ls(e.path,new Vi)}isEqual(e){return e instanceof t}},hE=class t extends Ur{constructor(e,n){super(e),this.Lu=n}_toFieldTransform(e){let n=vP(this,e,!0),r=this.Lu.map(s=>Ws(s,n)),i=new jr(r);return new Ls(e.path,i)}isEqual(e){return e instanceof t&&Rg(this.Lu,e.Lu)}},fE=class t extends Ur{constructor(e,n){super(e),this.Lu=n}_toFieldTransform(e){let n=vP(this,e,!0),r=this.Lu.map(s=>Ws(s,n)),i=new Br(r);return new Ls(e.path,i)}isEqual(e){return e instanceof t&&Rg(this.Lu,e.Lu)}},pE=class t extends Ur{constructor(e,n){super(e),this.Bu=n}_toFieldTransform(e){let n=new Li(e.serializer,rR(e.serializer,this.Bu));return new Ls(e.path,n)}isEqual(e){return e instanceof t&&this.Bu===e.Bu}};function JE(t,e,n,r){let i=t.Nu(1,e,n);tD("Data must be an object, but it was:",i,r);let s=[],o=St.empty();qs(r,(u,l)=>{let d=nD(e,u,n);l=$e(l);let f=i.Cu(d);if(l instanceof ul)s.push(d);else{let g=Ws(l,f);g!=null&&(s.push(d),o.set(d,g))}});let a=new cn(s);return new kp(o,a,i.fieldTransforms)}function eD(t,e,n,r,i,s){let o=t.Nu(1,e,n),a=[gE(e,r,n)],u=[i];if(s.length%2!=0)throw new O(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(gE(e,s[g])),u.push(s[g+1]);let l=[],d=St.empty();for(let g=a.length-1;g>=0;--g)if(!EP(l,a[g])){let y=a[g],E=u[g];E=$e(E);let T=o.Cu(y);if(E instanceof ul)l.push(y);else{let A=Ws(E,T);A!=null&&(l.push(y),d.set(y,A))}}let f=new cn(l);return new kp(d,f,o.fieldTransforms)}function _P(t,e,n,r=!1){return Ws(n,t.Nu(r?4:3,e))}function Ws(t,e){if(IP(t=$e(t)))return tD("Unsupported field value:",e,t),wP(t,e);if(t instanceof Ur)return function(r,i){if(!yP(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=Ws(a,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=$e(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=ze.fromDate(r);return{timestampValue:xa(i.serializer,s)}}if(r instanceof ze){let s=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xa(i.serializer,s)}}if(r instanceof $s)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof dr)return{bytesValue:fR(i.serializer,r._byteString)};if(r instanceof Pe){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ME(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof al)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return xE(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Wp(r)}`)}(t,e)}function wP(t,e){let n={};return jN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qs(t,(r,i)=>{let s=Ws(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function IP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof $s||t instanceof dr||t instanceof Pe||t instanceof Ur||t instanceof al)}function tD(t,e,n){if(!IP(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Wp(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function gE(t,e,n){if((e=$e(e))instanceof Vn)return e._internalPath;if(typeof e=="string")return nD(t,e);throw Fp("Field path arguments must be of type string or ",t,!1,void 0,n)}var p9=new RegExp("[~\\*/\\[\\]]");function nD(t,e,n){if(e.search(p9)>=0)throw Fp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vn(...e.split("."))._internalPath}catch{throw Fp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fp(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new O(N.INVALID_ARGUMENT,a+t+u)}function EP(t,e){return t.some(n=>n.isEqual(e))}var Hs=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new mE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Qp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},mE=class extends Hs{data(){return super.data()}};function Qp(t,e){return typeof e=="string"?nD(t,e):e instanceof Vn?e._internalPath:e._delegate._internalPath}function DP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new O(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cl=class{},zs=class extends cl{};function zr(t,e,...n){let r=[];e instanceof cl&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof yE).length,a=s.filter(u=>u instanceof Vp).length;if(o>1||o>0&&a>0)throw new O(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Vp=class t extends zs{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return PP(e._query,n),new It(e.firestore,e.converter,Gw(e._query,n))}_parse(e){let n=Gs(e.firestore);return function(s,o,a,u,l,d,f){let g;if(l.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new O(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){TN(f,d);let y=[];for(let E of f)y.push(CN(u,s,E));g={arrayValue:{values:y}}}else g=CN(u,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||TN(f,d),g=_P(a,o,f,d==="in"||d==="not-in");return me.create(l,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function bP(t,e,n){let r=e,i=Qp("where",t);return Vp._create(i,r,n)}var yE=class t extends cl{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ae.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)PP(o,u),o=Gw(o,u)}(e._query,n),new It(e.firestore,e.converter,Gw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var vE=class t extends zs{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new O(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new O(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fs(s,o)}(e._query,this._field,this._direction);return new It(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new On(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function CP(t,e="asc"){let n=e,r=Qp("orderBy",t);return vE._create(r,n)}var Lp=class t extends zs{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new It(e.firestore,e.converter,rp(e._query,this._limit,this._limitType))}};function TP(t){return nP("limit",t),Lp._create("limit",t,"F")}function AP(t){return nP("limitToLast",t),Lp._create("limitToLast",t,"L")}var jp=class t extends zs{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=RP(e,this.type,this._docOrFields,this._inclusive);return new It(e.firestore,e.converter,function(i,s){return new On(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}};function SP(...t){return jp._create("startAt",t,!0)}function xP(...t){return jp._create("startAfter",t,!1)}var Bp=class t extends zs{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=RP(e,this.type,this._docOrFields,this._inclusive);return new It(e.firestore,e.converter,function(i,s){return new On(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}};function MP(...t){return Bp._create("endBefore",t,!1)}function NP(...t){return Bp._create("endAt",t,!0)}function RP(t,e,n,r){if(n[0]=$e(n[0]),n[0]instanceof Hs)return function(s,o,a,u,l){if(!u)throw new O(N.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let d=[];for(let f of Ia(s))if(f.field.isKeyField())d.push(Os(o,u.key));else{let g=u.data.field(f.field);if($p(g))throw new O(N.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){let y=f.field.canonicalString();throw new O(N.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}d.push(g)}return new cr(d,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{let i=Gs(t.firestore);return function(o,a,u,l,d,f){let g=o.explicitOrderBy;if(d.length>g.length)throw new O(N.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let y=[];for(let E=0;E<d.length;E++){let T=d[E];if(g[E].field.isKeyField()){if(typeof T!="string")throw new O(N.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof T}`);if(!AE(o)&&T.indexOf("/")!==-1)throw new O(N.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${T}' contains a slash.`);let A=o.path.child(_e.fromString(T));if(!H.isDocumentKey(A))throw new O(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${A}' is not because it contains an odd number of segments.`);let V=new H(A);y.push(Os(a,V))}else{let A=_P(u,l,T);y.push(A)}}return new cr(y,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function CN(t,e,n){if(typeof(n=$e(n))=="string"){if(n==="")throw new O(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AE(e)&&n.indexOf("/")!==-1)throw new O(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(_e.fromString(n));if(!H.isDocumentKey(r))throw new O(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Os(t,new H(r))}if(n instanceof Pe)return Os(t,n._key);throw new O(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wp(n)}.`)}function TN(t,e){if(!Array.isArray(t)||t.length===0)throw new O(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PP(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new O(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new O(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var ja=class{convertValue(e,n="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw G()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return qs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Be(o.doubleValue));return new al(s)}convertGeoPoint(e){return new $s(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=CE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zc(e));default:return null}}convertTimestamp(e){let n=Lr(e);return new ze(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=_e.fromString(e);J(bR(r));let i=new Oi(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(n)||Ze(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function Yp(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var _E=class extends ja{constructor(e){super(),this.firestore=e}convertBytes(e){return new dr(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pe(this.firestore,null,n)}};var Vr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},En=class extends Hs{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ni(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Qp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ni=class extends En{data(e={}){return super.data(e)}},Ln=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ni(this._firestore,this._userDataWriter,r.key,r,new Vr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new O(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new Ni(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new Ni(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vr(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,d=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:g9(a.type),doc:u,oldIndex:l,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function g9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}function rD(t,e){return t instanceof En&&e instanceof En?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ln&&e instanceof Ln&&t._firestore===e._firestore&&XE(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function kP(t){t=we(t,Pe);let e=we(t.firestore,Ue);return JR(ht(e),t._key).then(n=>aD(e,t,n))}var $r=class extends ja{constructor(e){super(),this.firestore=e}convertBytes(e){return new dr(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pe(this.firestore,null,n)}};function OP(t){t=we(t,Pe);let e=we(t.firestore,Ue),n=ht(e),r=new $r(e);return u9(n,t._key).then(i=>new En(e,r,t._key,i,new Vr(i!==null&&i.hasLocalMutations,!0),t.converter))}function FP(t){t=we(t,Pe);let e=we(t.firestore,Ue);return JR(ht(e),t._key,{source:"server"}).then(n=>aD(e,t,n))}function VP(t){t=we(t,It);let e=we(t.firestore,Ue),n=ht(e),r=new $r(e);return DP(t._query),eP(n,t._query).then(i=>new Ln(e,r,t,i))}function LP(t){t=we(t,It);let e=we(t.firestore,Ue),n=ht(e),r=new $r(e);return c9(n,t._query).then(i=>new Ln(e,r,t,i))}function jP(t){t=we(t,It);let e=we(t.firestore,Ue),n=ht(e),r=new $r(e);return eP(n,t._query,{source:"server"}).then(i=>new Ln(e,r,t,i))}function iD(t,e,n){t=we(t,Pe);let r=we(t.firestore,Ue),i=Yp(t.converter,e,n);return Ga(r,[Kp(Gs(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Qe.none())])}function sD(t,e,n,...r){t=we(t,Pe);let i=we(t.firestore,Ue),s=Gs(i),o;return o=typeof(e=$e(e))=="string"||e instanceof Vn?eD(s,"updateDoc",t._key,e,n,r):JE(s,"updateDoc",t._key,e),Ga(i,[o.toMutation(t._key,Qe.exists(!0))])}function BP(t){return Ga(we(t.firestore,Ue),[new Bi(t._key,Qe.none())])}function UP(t,e){let n=we(t.firestore,Ue),r=ml(t),i=Yp(t.converter,e);return Ga(n,[Kp(Gs(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Qe.exists(!1))]).then(()=>r)}function oD(t,...e){var n,r,i;t=$e(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||aE(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(aE(e[o])){let f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let u,l,d;if(t instanceof Pe)l=we(t.firestore,Ue),d=Ua(t._key.path),u={next:f=>{e[o]&&e[o](aD(l,t,f))},error:e[o+1],complete:e[o+2]};else{let f=we(t,It);l=we(f.firestore,Ue),d=f._query;let g=new $r(l);u={next:y=>{e[o]&&e[o](new Ln(l,g,f,y))},error:e[o+1],complete:e[o+2]},DP(t._query)}return function(g,y,E,T){let A=new Va(T),V=new il(y,A,E);return g.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return VE(yield La(g),V)})),()=>{A.za(),g.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return LE(yield La(g),V)}))}}(ht(l),d,a,u)}function $P(t,e){return l9(ht(t=we(t,Ue)),aE(e)?e:{next:e})}function Ga(t,e){return function(r,i){let s=new at;return r.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){return Hq(yield WE(r),i,s)})),s.promise}(ht(t),e)}function aD(t,e,n){let r=n.docs.get(e._key),i=new $r(t);return new En(t,i,e._key,r,new Vr(n.hasPendingWrites,n.fromCache),e.converter)}var m9={maxAttempts:5};var Up=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Gs(e)}set(e,n,r){this._verifyNotCommitted();let i=xi(e,this._firestore),s=Yp(i.converter,n,r),o=Kp(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Qe.none())),this}update(e,n,r,...i){this._verifyNotCommitted();let s=xi(e,this._firestore),o;return o=typeof(n=$e(n))=="string"||n instanceof Vn?eD(this._dataReader,"WriteBatch.update",s._key,n,r,i):JE(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Qe.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=xi(e,this._firestore);return this._mutations=this._mutations.concat(new Bi(n._key,Qe.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new O(N.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function xi(t,e){if((t=$e(t)).firestore!==e)throw new O(N.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var wE=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Gs(n)}get(n){let r=xi(n,this._firestore),i=new _E(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return G();let o=s[0];if(o.isFoundDocument())return new Hs(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Hs(this._firestore,i,r._key,null,r.converter);throw G()})}set(n,r,i){let s=xi(n,this._firestore),o=Yp(s.converter,r,i),a=Kp(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){let o=xi(n,this._firestore),a;return a=typeof(r=$e(r))=="string"||r instanceof Vn?eD(this._dataReader,"Transaction.update",o._key,r,i,s):JE(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){let r=xi(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){let n=xi(e,this._firestore),r=new $r(this._firestore);return super.get(e).then(i=>new En(this._firestore,r,n._key,i._document,new Vr(!1,!1),n.converter))}};function HP(t,e,n){t=we(t,Ue);let r=Object.assign(Object.assign({},m9),n);return function(s){if(s.maxAttempts<1)throw new O(N.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){let u=new at;return s.asyncQueue.enqueueAndForget(()=>P(this,null,function*(){let l=yield s9(s);new rE(s.asyncQueue,l,a,o,u).ru()})),u.promise}(ht(t),i=>e(new wE(t,i)),r)}function zP(){return new ul("deleteField")}function qP(){return new dE("serverTimestamp")}function GP(...t){return new hE("arrayUnion",t)}function WP(...t){return new fE("arrayRemove",t)}function KP(t){return new pE("increment",t)}(function(e,n=!0){(function(i){Ba=i})(Cb),yu(new Qi("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Ue(new Dw(r.getProvider("auth-internal")),new Aw(r.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new O(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oi(l.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Qr(CM,"4.7.2",e),Qr(CM,"4.7.2","esm2017")})();var y9="@firebase/firestore-compat",v9="0.3.37";function fD(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new O("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function QP(){if(typeof Uint8Array>"u")throw new O("unimplemented","Uint8Arrays are not available in this environment.")}function YP(){if(!BN())throw new O("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Zp=class t{constructor(e){this._delegate=e}static fromBase64String(e){return YP(),new t(dr.fromBase64String(e))}static fromUint8Array(e){return QP(),new t(dr.fromUint8Array(e))}toBase64(){return YP(),this._delegate.toBase64()}toUint8Array(){return QP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function uD(t){return _9(t,["next","error","complete"])}function _9(t,e){if(typeof t!="object"||t===null)return!1;let n=t;for(let r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}var cD=class{enableIndexedDbPersistence(e,n){return aP(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return uP(e._delegate)}clearIndexedDbPersistence(e){return lP(e._delegate)}},Xp=class{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Oi||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&wn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){rP(this._delegate,e,n,r)}enableNetwork(){return hP(this._delegate)}disableNetwork(){return fP(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,QE("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return dP(this._delegate)}onSnapshotsInSync(e){return $P(this._delegate,e)}get app(){if(!this._appCompat)throw new O("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Qa(this,YE(this._delegate,e))}catch(n){throw Bt(n,"collection()","Firestore.collection()")}}doc(e){try{return new hr(this,ml(this._delegate,e))}catch(n){throw Bt(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Zs(this,iP(this._delegate,e))}catch(n){throw Bt(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return HP(this._delegate,n=>e(new Jp(this,n)))}batch(){return ht(this._delegate),new eg(new Up(this._delegate,e=>Ga(this._delegate,e)))}loadBundle(e){return pP(this._delegate,e)}namedQuery(e){return gP(this._delegate,e).then(n=>n?new Zs(this,n):null)}},Wa=class extends ja{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zp(new dr(e))}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return hr.forKey(n,this.firestore,null)}};function w9(t){AN(t)}var Jp=class{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Wa(e)}get(e){let n=Ks(e);return this._delegate.get(n).then(r=>new Qs(this._firestore,new En(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){let i=Ks(e);return r?(fD("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){let s=Ks(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){let n=Ks(e);return this._delegate.delete(n),this}},eg=class{constructor(e){this._delegate=e}set(e,n,r){let i=Ks(e);return r?(fD("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){let s=Ks(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){let n=Ks(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}},Ka=class t{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){let r=new Ni(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ys(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){let r=t.INSTANCES,i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new t(e,new Wa(e),n),i.set(n,s)),s}};Ka.INSTANCES=new WeakMap;var hr=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Wa(e)}static forPath(e,n,r){if(e.length%2!==0)throw new O("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new t(n,new Pe(n._delegate,r,new H(e)))}static forKey(e,n,r){return new t(n,new Pe(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Qa(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Qa(this.firestore,YE(this._delegate,e))}catch(n){throw Bt(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=$e(e),e instanceof Pe?ZE(this._delegate,e):!1}set(e,n){n=fD("DocumentReference.set",n);try{return n?iD(this._delegate,e,n):iD(this._delegate,e)}catch(r){throw Bt(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?sD(this._delegate,e):sD(this._delegate,e,n,...r)}catch(i){throw Bt(i,"updateDoc()","DocumentReference.update()")}}delete(){return BP(this._delegate)}onSnapshot(...e){let n=ZP(e),r=XP(e,i=>new Qs(this.firestore,new En(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return oD(this._delegate,n,r)}get(e){let n;return e?.source==="cache"?n=OP(this._delegate):e?.source==="server"?n=FP(this._delegate):n=kP(this._delegate),n.then(r=>new Qs(this.firestore,new En(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Ka.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Bt(t,e,n){return t.message=t.message.replace(e,n),t}function ZP(t){for(let e of t)if(typeof e=="object"&&!uD(e))return e;return{}}function XP(t,e){var n,r;let i;return uD(t[0])?i=t[0]:uD(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Qs=class{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new hr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return rD(this._delegate,e._delegate)}},Ys=class extends Qs{data(e){let n=this._delegate.data(e);return this._delegate._converter||SN(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}},Zs=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Wa(e)}where(e,n,r){try{return new t(this.firestore,zr(this._delegate,bP(e,n,r)))}catch(i){throw Bt(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new t(this.firestore,zr(this._delegate,CP(e,n)))}catch(r){throw Bt(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new t(this.firestore,zr(this._delegate,TP(e)))}catch(n){throw Bt(n,"limit()","Query.limit()")}}limitToLast(e){try{return new t(this.firestore,zr(this._delegate,AP(e)))}catch(n){throw Bt(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new t(this.firestore,zr(this._delegate,SP(...e)))}catch(n){throw Bt(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new t(this.firestore,zr(this._delegate,xP(...e)))}catch(n){throw Bt(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new t(this.firestore,zr(this._delegate,MP(...e)))}catch(n){throw Bt(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new t(this.firestore,zr(this._delegate,NP(...e)))}catch(n){throw Bt(n,"endAt()","Query.endAt()")}}isEqual(e){return XE(this._delegate,e._delegate)}get(e){let n;return e?.source==="cache"?n=LP(this._delegate):e?.source==="server"?n=jP(this._delegate):n=VP(this._delegate),n.then(r=>new yl(this.firestore,new Ln(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){let n=ZP(e),r=XP(e,i=>new yl(this.firestore,new Ln(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return oD(this._delegate,n,r)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Ka.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},lD=class{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Ys(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},yl=class{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Zs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ys(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new lD(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Ys(this._firestore,r))})}isEqual(e){return rD(this._delegate,e._delegate)}},Qa=class t extends Zs{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new hr(this.firestore,e):null}doc(e){try{return e===void 0?new hr(this.firestore,ml(this._delegate)):new hr(this.firestore,ml(this._delegate,e))}catch(n){throw Bt(n,"doc()","CollectionReference.doc()")}}add(e){return UP(this._delegate,e).then(n=>new hr(this.firestore,n))}isEqual(e){return ZE(this._delegate,e._delegate)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Ka.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Ks(t){return we(t,Pe)}var dD=class t{constructor(...e){this._delegate=new Vn(...e)}static documentId(){return new t(Xe.keyField().canonicalString())}isEqual(e){return e=$e(e),e instanceof Vn?this._delegate._internalPath.isEqual(e._internalPath):!1}};var hD=class t{constructor(e){this._delegate=e}static serverTimestamp(){let e=qP();return e._methodName="FieldValue.serverTimestamp",new t(e)}static delete(){let e=zP();return e._methodName="FieldValue.delete",new t(e)}static arrayUnion(...e){let n=GP(...e);return n._methodName="FieldValue.arrayUnion",new t(n)}static arrayRemove(...e){let n=WP(...e);return n._methodName="FieldValue.arrayRemove",new t(n)}static increment(e){let n=KP(e);return n._methodName="FieldValue.increment",new t(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var I9={Firestore:Xp,GeoPoint:$s,Timestamp:ze,Blob:Zp,Transaction:Jp,WriteBatch:eg,DocumentReference:hr,DocumentSnapshot:Qs,Query:Zs,QueryDocumentSnapshot:Ys,QuerySnapshot:yl,CollectionReference:Qa,FieldPath:dD,FieldValue:hD,setLogLevel:w9,CACHE_SIZE_UNLIMITED:sP};function E9(t,e){t.INTERNAL.registerComponent(new Qi("firestore-compat",n=>{let r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},I9)))}function D9(t){E9(t,(e,n)=>new Xp(e,n,new cD)),t.registerVersion(y9,v9)}D9(Ut);function b9(t,e=Du){return new pe(n=>{let r;return e!=null?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{r?.()}})}function JP(t,e){return b9(t,e)}function C9(t,e){return JP(t,e).pipe(ts(void 0),Tu(),Z(n=>{let[r,i]=n;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}function mD(t,e){return JP(t,e).pipe(Z(n=>({payload:n,type:"query"})))}var tg=class{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){let r=this.ref.collection(e),{ref:i,query:s}=i1(r,n);return new rg(i,s,this.afs)}snapshotChanges(){return C9(this.ref,this.afs.schedulers.outsideAngular).pipe(Wt)}valueChanges(e={}){return this.snapshotChanges().pipe(Z(({payload:n})=>e.idField?Y(x({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return ue(this.ref.get(e)).pipe(Wt)}};function ng(t,e){return mD(t,e).pipe(ts(void 0),Tu(),Z(n=>{let[r,i]=n,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{let l=s.find(f=>f.doc.ref.isEqual(a.ref)),d=r?.payload.docs.find(f=>f.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),o}))}function e1(t,e,n){return ng(t,n).pipe(es((r,i)=>T9(r,i.map(s=>s.payload),e),[]),nm(),Z(r=>r.map(i=>({type:i.type,payload:i}))))}function T9(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=A9(t,r))}),t}function pD(t,e,n,...r){let i=t.slice();return i.splice(e,n,...r),i}function A9(t,e){switch(e.type){case"added":if(!(t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)))return pD(t,e.newIndex,0,e);break;case"modified":if(t[e.oldIndex]==null||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}else return pD(t,e.newIndex,1,e);break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return pD(t,e.oldIndex,1);break}return t}function t1(t){return(!t||t.length===0)&&(t=["added","removed","modified"]),t}var rg=class{ref;query;afs;constructor(e,n,r){this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=ng(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(Z(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(ts(void 0),Tu(),vt(([r,i])=>i.length>0||!r),Z(([,r])=>r),Wt)}auditTrail(e){return this.stateChanges(e).pipe(es((n,r)=>[...n,...r],[]))}snapshotChanges(e){let n=t1(e);return e1(this.query,n,this.afs.schedulers.outsideAngular).pipe(Wt)}valueChanges(e={}){return mD(this.query,this.afs.schedulers.outsideAngular).pipe(Z(n=>n.payload.docs.map(r=>e.idField?Y(x({},r.data()),{[e.idField]:r.id}):r.data())),Wt)}get(e){return ue(this.query.get(e)).pipe(Wt)}add(e){return this.ref.add(e)}doc(e){return new tg(this.ref.doc(e),this.afs)}},gD=class{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return!e||e.length===0?ng(this.query,this.afs.schedulers.outsideAngular).pipe(Wt):ng(this.query,this.afs.schedulers.outsideAngular).pipe(Z(n=>n.filter(r=>e.indexOf(r.type)>-1)),vt(n=>n.length>0),Wt)}auditTrail(e){return this.stateChanges(e).pipe(es((n,r)=>[...n,...r],[]))}snapshotChanges(e){let n=t1(e);return e1(this.query,n,this.afs.schedulers.outsideAngular).pipe(Wt)}valueChanges(e={}){return mD(this.query,this.afs.schedulers.outsideAngular).pipe(Z(r=>r.payload.docs.map(i=>e.idField?x({[e.idField]:i.id},i.data()):i.data())),Wt)}get(e){return ue(this.query.get(e)).pipe(Wt)}},n1=new z("angularfire2.enableFirestorePersistence"),r1=new z("angularfire2.firestore.persistenceSettings"),S9=new z("angularfire2.firestore.settings"),x9=new z("angularfire2.firestore.use-emulator");function i1(t,e=n=>n){return{query:e(t),ref:t}}var vl=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,r,i,s,o,a,u,l,d,f,g,y,E,T,A,V,j){this.schedulers=u;let k=Ac(n,a,r),W=d;f&&cw(k,a,g,E,T,A,y,V),[this.firestore,this.persistenceEnabled$]=Nf(`${k.name}.firestore`,"AngularFirestore",k.name,()=>{let ee=a.runOutsideAngular(()=>k.firestore());if(s&&ee.settings(s),W&&ee.useEmulator(...W),i&&!gs(o)){let te=()=>{try{return ue(ee.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(I){return typeof console<"u"&&console.warn(I),K(!1)}};return[ee,a.runOutsideAngular(te)]}else return[ee,K(!1)]},[s,W,i])}collection(n,r){let i;typeof n=="string"?i=this.firestore.collection(n):i=n;let{ref:s,query:o}=i1(i,r),a=this.schedulers.ngZone.run(()=>s);return new rg(a,o,this)}collectionGroup(n,r){let i=r||(o=>o),s=this.firestore.collectionGroup(n);return new gD(i(s),this)}doc(n){let r;typeof n=="string"?r=this.firestore.doc(n):r=n;let i=this.schedulers.ngZone.run(()=>r);return new tg(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||t)(L(aa),L(ua,8),L(n1,8),L(S9,8),L(Gt),L(ye),L(xf),L(r1,8),L(x9,8),L(Pf,8),L(rw,8),L(iw,8),L(sw,8),L(ow,8),L(aw,8),L(uw,8),L(Cs,8))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),FZ=(()=>{class t{constructor(){Ut.registerVersion("angularfire",oa.full,"fst-compat")}static enablePersistence(n){return{ngModule:t,providers:[{provide:n1,useValue:!0},{provide:r1,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=pt({type:t});static \u0275inj=ft({providers:[vl]})}return t})();var Ya=class t{constructor(e){this.afAuth=e;this.user$=this.afAuth.authState.pipe(We(n=>this.updateUser(n)))}user$;user;signInWithGoogle(){return ue(this.afAuth.signInWithPopup(new Pg))}signOut(){return this.afAuth.signOut()}updateUser(e){this.user=e}static \u0275fac=function(n){return new(n||t)(L(Pf))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var a1=class t{constructor(e,n){this.fireStore=e;this.authService=n;this.balanceCollection=this.fireStore.collection("balance")}balanceCollection;addBalance(e){if(localStorage.setItem("balance",e.toString()),this.authService.user){let n=this.authService.user.uid,r={value:e,uid:this.authService.user.uid};return ue(this.balanceCollection.doc(n).set(r)).pipe(Z(()=>e))}else return K(e)}getBalance(){if(this.authService.user){let e=this.authService.user.uid;return this.fireStore.doc(`balance/${e}`).valueChanges().pipe(Z(n=>n?.value||0))}else return K(Number(localStorage.getItem("balance"))||0)}static \u0275fac=function(n){return new(n||t)(L(vl),L(Ya))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var SJ=t=>{let e=u1.find(n=>n.id===t);return e?e.name:""},xJ=t=>u1.find(e=>e.id===t),u1=[{id:"subscriptions",name:"\u041F\u043E\u0434\u043F\u0438\u0441\u043A\u0430",icon:"fas fa-newspaper",color:"#FFC107",includeInBalance:!1},{id:"entertainments",name:"\u0420\u0430\u0437\u0432\u043B\u0435\u0447\u0435\u043D\u0438\u0435",icon:"fas fa-film",color:"#795548",includeInBalance:!0},{id:"nicotine",name:"\u0421\u0438\u0433\u0430\u0440\u0435\u0442\u044B",icon:"fas fa-smoking",color:"#FF5722",includeInBalance:!0},{id:"travel",name:"\u041F\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435",icon:"fas fa-plane",color:"#009688",includeInBalance:!0},{id:"home",name:"\u0414\u043B\u044F \u0434\u043E\u043C\u0430",icon:"fas fa-home",color:"#9C27B0",includeInBalance:!0},{id:"alcohol",name:"\u0412\u044B\u043F\u0438\u0432\u043A\u0430",icon:"fas fa-wine-bottle",color:"#FF5722",includeInBalance:!0},{id:"meal",name:"\u041F\u0438\u0442\u0430\u043D\u0438\u0435",icon:"fa-solid fa-bell-concierge",color:"#474747",includeInBalance:!0},{id:"bus",name:"\u041E\u0431\u0449. \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442",icon:"fas fa-bus",color:"#3F51B5",includeInBalance:!0},{id:"utility-bills",name:"\u041A\u043E\u043C\u043C\u0443\u043D\u0430\u043B\u043A\u0430",icon:"fas fa-water",color:"#2196F3",includeInBalance:!1},{id:"pharmacy",name:"\u041C\u0435\u0434\u0438\u0446\u0438\u043D\u0430",icon:"fas fa-prescription-bottle-alt",color:"#2196F3",includeInBalance:!0},{id:"barbershop",name:"\u041F\u0430\u0440\u0438\u043A\u043C\u0430\u0445\u0435\u0440\u0441\u043A\u0430\u044F",icon:"fas fa-cut",color:"#FFC107",includeInBalance:!0},{id:"electronics",name:"\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u0438\u043A\u0430",icon:"fas fa-tablet-alt",color:"#9E9E9E",includeInBalance:!1},{id:"clothes",name:"\u041E\u0434\u0435\u0436\u0434\u0430",icon:"fas fa-tshirt",color:"#a99e00",includeInBalance:!0},{id:"another",name:"\u0420\u0430\u0437\u043D\u043E\u0435",icon:"fas fa-random",color:"#FF5722",includeInBalance:!0},{id:"sport",name:"\u0421\u043F\u043E\u0440\u0442",icon:"fas fa-dumbbell",color:"#607D8B",includeInBalance:!1},{id:"rental-payment",name:"\u0410\u0440\u0435\u043D\u0434\u0430 \u0436\u0438\u043B\u044C\u044F",icon:"fas fa-building",color:"#673AB7",includeInBalance:!1}];var c1=class t{constructor(e,n){this.fireStore=e;this.authService=n;this.expensesCollection=this.fireStore.collection("expenses")}expensesCollection;addExpense(e){let n=this.fireStore.createId(),r=Y(x({},e),{id:n});if(this.authService.user){let i=this.authService.user.uid;return ue(this.expensesCollection.doc(n).set(Y(x({},r),{uid:i}))).pipe(Z(()=>Y(x({},r),{uid:i})))}else{let i=localStorage.getItem("expenses"),s=i?JSON.parse(i):[];return s.unshift(r),localStorage.setItem("expenses",JSON.stringify(s)),K(r)}}getExpenses(){if(this.authService.user)return this.fireStore.collection("expenses",e=>e.where("uid","==",this.authService.user.uid).orderBy("date","desc")).snapshotChanges().pipe(Z(e=>e.map(n=>{let r=n.payload.doc.data(),i=n.payload.doc.id;return x({id:i},r)})));{let e=JSON.parse(localStorage.getItem("expenses")||"[]");return K(e)}}updateExpense(e){if(this.authService.user)return ue(this.expensesCollection.doc(e.id).update(e));{let r=JSON.parse(localStorage.getItem("expenses")||"[]").map(i=>i.id===e.id?e:i);return localStorage.setItem("expenses",JSON.stringify(r)),K()}}deleteExpense(e){if(this.authService.user)return ue(this.expensesCollection.doc(e).delete()).pipe(Z(()=>e));{let r=JSON.parse(localStorage.getItem("expenses")||"[]").filter(i=>i.id!==e);return localStorage.setItem("expenses",JSON.stringify(r)),K(e)}}static \u0275fac=function(n){return new(n||t)(L(vl),L(Ya))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};export{Le as a,yt as b,ue as c,K as d,Z as e,Jg as f,Un as g,nm as h,He as i,vd as j,We as k,q as l,ft as m,z as n,L as o,py as p,pt as q,nt as r,ci as s,S7 as t,x7 as u,br as v,lt as w,ye as x,Jt as y,M7 as z,N7 as A,R7 as B,se as C,VL as D,ZL as E,ZT as F,Th as G,F7 as H,rA as I,iA as J,Yy as K,d2 as L,h2 as M,V7 as N,di as O,L7 as P,j7 as Q,B7 as R,D2 as S,oA as T,b2 as U,U7 as V,C2 as W,$7 as X,H7 as Y,z7 as Z,q7 as _,G7 as $,xh as aa,pK as ba,gK as ca,mK as da,yK as ea,vK as fa,_K as ga,wK as ha,LA as ia,BK as ja,UK as ka,Sv as la,oB as ma,$K as na,lB as oa,iS as pa,oQ as qa,LB as ra,gS as sa,uQ as ta,cQ as ua,lQ as va,pY as wa,vl as xa,FZ as ya,_s as za,_U as Aa,yi as Ba,RQ as Ca,PQ as Da,SJ as Ea,xJ as Fa,u1 as Ga,Ya as Ha,c1 as Ia,a1 as Ja,YQ as Ka};
